/*! For license information please see background.js.LICENSE.txt */
(()=>{var __webpack_modules__={6770:e=>{"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,s){n[r]=function(e){if(i)if(i=!1,e)s(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t)}};try{e.apply(t||null,n)}catch(e){i&&(i=!1,s(e))}}))}},7472:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),o=new Array(123),i=0;i<64;)o[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(e,t,n){for(var o,i=null,s=[],a=0,c=0;t<n;){var l=e[t++];switch(c){case 0:s[a++]=r[l>>2],o=(3&l)<<4,c=1;break;case 1:s[a++]=r[o|l>>4],o=(15&l)<<2,c=2;break;case 2:s[a++]=r[o|l>>6],s[a++]=r[63&l],c=0}a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=r[o],s[a++]=61,1===c&&(s[a++]=61)),i?(a&&i.push(String.fromCharCode.apply(String,s.slice(0,a))),i.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";n.decode=function(e,t,n){for(var r,i=n,a=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&a>1)break;if(void 0===(l=o[l]))throw Error(s);switch(a){case 0:r=l,a=1;break;case 1:t[n++]=r<<2|(48&l)>>4,r=l,a=2;break;case 2:t[n++]=(15&r)<<4|(60&l)>>2,r=l,a=3;break;case 3:t[n++]=(3&r)<<6|l,a=0}}if(1===a)throw Error(s);return n-i},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},2620:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},7673:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(e,r,o){t[0]=e,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function a(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?o:i,e.writeFloatBE=r?i:o,e.readFloatLE=r?s:a,e.readFloatBE=r?a:s}():function(){function t(e,t,n,r){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,n,r)}}function s(e,t,n){var r=e(t,n),o=2*(r>>31)+1,i=r>>>23&255,s=8388607&r;return 255===i?s?NaN:o*(1/0):0===i?1401298464324817e-60*o*s:o*Math.pow(2,i-150)*(s+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=s.bind(null,o),e.readFloatBE=s.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(e,r,o){t[0]=e,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function s(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function a(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?o:i,e.writeDoubleBE=r?i:o,e.readDoubleLE=r?s:a,e.readDoubleBE=r?a:s}():function(){function t(e,t,n,r,o,i){var s=r<0?1:0;if(s&&(r=-r),0===r)e(0,o,i+t),e(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))e(0,o,i+t),e(2146959360,o,i+n);else if(r>17976931348623157e292)e(0,o,i+t),e((s<<31|2146435072)>>>0,o,i+n);else{var a;if(r<22250738585072014e-324)e((a=r/5e-324)>>>0,o,i+t),e((s<<31|a/4294967296)>>>0,o,i+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=r*Math.pow(2,-c))>>>0,o,i+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,o,i+n)}}}function s(e,t,n,r,o){var i=e(r,o+t),s=e(r,o+n),a=2*(s>>31)+1,c=s>>>20&2047,l=4294967296*(1048575&s)+i;return 2047===c?l?NaN:a*(1/0):0===c?5e-324*a*l:a*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=s.bind(null,o,0,4),e.readDoubleBE=s.bind(null,i,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function i(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},5947:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},7009:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,o=r>>>1,i=null,s=r;return function(n){if(n<1||n>o)return e(n);s+n>r&&(i=e(r),s=0);var a=t.call(i,s,s+=n);return 7&s&&(s=1+(7|s)),a}}},9244:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,o=null,i=[],s=0;t<n;)(r=e[t++])<128?i[s++]=r:r>191&&r<224?i[s++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[s++]=55296+(r>>10),i[s++]=56320+(1023&r)):i[s++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),s=0);return o?(s&&o.push(String.fromCharCode.apply(String,i.slice(0,s))),o.join("")):String.fromCharCode.apply(String,i.slice(0,s))},n.write=function(e,t,n){for(var r,o,i=n,s=0;s<e.length;++s)(r=e.charCodeAt(s))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=e.charCodeAt(s+1)))?(r=65536+((1023&r)<<10)+(1023&o),++s,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-i}},4993:(e,t,n)=>{"use strict";function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function o(){return"npm"}n.d(t,{S:()=>o,n:()=>r})},9864:(e,t,n)=>{"use strict";n.d(t,{KV:()=>o,l$:()=>i});var r=n(4993);function o(){return!(0,r.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(e,t){return e.require(t)}e=n.hmd(e)},261:(e,t,n)=>{"use strict";n.d(t,{ph:()=>u,yW:()=>l});var r=n(9864),o=n(1559);e=n.hmd(e);const i=(0,o.Rf)(),s={nowSeconds:()=>Date.now()/1e3},a=(0,r.KV)()?function(){try{return(0,r.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=i;if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),c=void 0===a?s:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},l=s.nowSeconds.bind(s),u=c.nowSeconds.bind(c);let d;(()=>{const{performance:e}=i;if(!e||!e.now)return void(d="none");const t=36e5,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=o<t,a=e.timing&&e.timing.navigationStart,c="number"==typeof a?Math.abs(a+n-r):t;s||c<t?o<=c?(d="timeOrigin",e.timeOrigin):d="navigationStart":d="dateNow"})()},1559:(e,t,n)=>{"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{Rf:()=>i,YO:()=>s,n2:()=>o});const o="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function i(){return o}function s(e,t,n){const r=n||o,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}},8809:function(e,t,n){var r;e=n.nmd(e),function(){var o,i="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,l=128,u=1/0,d=9007199254740991,p=NaN,f=4294967295,g=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],h="[object Arguments]",v="[object Array]",m="[object Boolean]",b="[object Date]",y="[object Error]",E="[object Function]",S="[object GeneratorFunction]",T="[object Map]",_="[object Number]",x="[object Object]",O="[object Promise]",w="[object RegExp]",I="[object Set]",k="[object String]",R="[object Symbol]",P="[object WeakMap]",C="[object ArrayBuffer]",N="[object DataView]",A="[object Float32Array]",D="[object Float64Array]",L="[object Int8Array]",U="[object Int16Array]",M="[object Int32Array]",j="[object Uint8Array]",F="[object Uint8ClampedArray]",B="[object Uint16Array]",V="[object Uint32Array]",q=/\b__p \+= '';/g,Y=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,H=RegExp(G.source),z=RegExp(J.source),$=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,ne=RegExp(te.source),re=/^\s+/,oe=/\s/,ie=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ae=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,de=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pe=/\w*$/,fe=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,he=/^\[object .+?Constructor\]$/,ve=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ye=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,Se="\\ud800-\\udfff",Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_e="\\u2700-\\u27bf",xe="a-z\\xdf-\\xf6\\xf8-\\xff",Oe="A-Z\\xc0-\\xd6\\xd8-\\xde",we="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ke="["+Se+"]",Re="["+Ie+"]",Pe="["+Te+"]",Ce="\\d+",Ne="["+_e+"]",Ae="["+xe+"]",De="[^"+Se+Ie+Ce+_e+xe+Oe+"]",Le="\\ud83c[\\udffb-\\udfff]",Ue="[^"+Se+"]",Me="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",Fe="["+Oe+"]",Be="\\u200d",Ve="(?:"+Ae+"|"+De+")",qe="(?:"+Fe+"|"+De+")",Ye="(?:['’](?:d|ll|m|re|s|t|ve))?",We="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Pe+"|"+Le+")?",Je="["+we+"]?",He=Je+Ge+"(?:"+Be+"(?:"+[Ue,Me,je].join("|")+")"+Je+Ge+")*",ze="(?:"+[Ne,Me,je].join("|")+")"+He,$e="(?:"+[Ue+Pe+"?",Pe,Me,je,ke].join("|")+")",Ke=RegExp("['’]","g"),Xe=RegExp(Pe,"g"),Qe=RegExp(Le+"(?="+Le+")|"+$e+He,"g"),Ze=RegExp([Fe+"?"+Ae+"+"+Ye+"(?="+[Re,Fe,"$"].join("|")+")",qe+"+"+We+"(?="+[Re,Fe+Ve,"$"].join("|")+")",Fe+"?"+Ve+"+"+Ye,Fe+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ce,ze].join("|"),"g"),et=RegExp("["+Be+Se+Te+we+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,ot={};ot[A]=ot[D]=ot[L]=ot[U]=ot[M]=ot[j]=ot[F]=ot[B]=ot[V]=!0,ot[h]=ot[v]=ot[C]=ot[m]=ot[N]=ot[b]=ot[y]=ot[E]=ot[T]=ot[_]=ot[x]=ot[w]=ot[I]=ot[k]=ot[P]=!1;var it={};it[h]=it[v]=it[C]=it[N]=it[m]=it[b]=it[A]=it[D]=it[L]=it[U]=it[M]=it[T]=it[_]=it[x]=it[w]=it[I]=it[k]=it[R]=it[j]=it[F]=it[B]=it[V]=!0,it[y]=it[E]=it[P]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,ct=parseInt,lt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ut="object"==typeof self&&self&&self.Object===Object&&self,dt=lt||ut||Function("return this")(),pt=t&&!t.nodeType&&t,ft=pt&&e&&!e.nodeType&&e,gt=ft&&ft.exports===pt,ht=gt&&lt.process,vt=function(){try{return ft&&ft.require&&ft.require("util").types||ht&&ht.binding&&ht.binding("util")}catch(e){}}(),mt=vt&&vt.isArrayBuffer,bt=vt&&vt.isDate,yt=vt&&vt.isMap,Et=vt&&vt.isRegExp,St=vt&&vt.isSet,Tt=vt&&vt.isTypedArray;function _t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function xt(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function wt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function kt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}function Rt(e,t){return!(null==e||!e.length)&&Ft(e,t,0)>-1}function Pt(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Ct(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Nt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function At(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Dt(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ut=Yt("length");function Mt(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function jt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Ft(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):jt(e,Vt,n)}function Bt(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Vt(e){return e!=e}function qt(e,t){var n=null==e?0:e.length;return n?Jt(e,t)/n:p}function Yt(e){return function(t){return null==t?o:t[e]}}function Wt(e){return function(t){return null==e?o:e[t]}}function Gt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Jt(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==o&&(n=n===o?s:n+s)}return n}function Ht(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function zt(e){return e?e.slice(0,pn(e)+1).replace(re,""):e}function $t(e){return function(t){return e(t)}}function Kt(e,t){return Ct(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function Qt(e,t){for(var n=-1,r=e.length;++n<r&&Ft(t,e[n],0)>-1;);return n}function Zt(e,t){for(var n=e.length;n--&&Ft(t,e[n],0)>-1;);return n}var en=Wt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),tn=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(e){return"\\"+st[e]}function rn(e){return et.test(e)}function on(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function an(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n];s!==t&&s!==a||(e[n]=a,i[o++]=n)}return i}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function un(e){return rn(e)?function(e){for(var t=Qe.lastIndex=0;Qe.test(e);)++t;return t}(e):Ut(e)}function dn(e){return rn(e)?function(e){return e.match(Qe)||[]}(e):function(e){return e.split("")}(e)}function pn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var fn=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gn=function e(t){var n,r=(t=null==t?dt:gn.defaults(dt.Object(),t,gn.pick(dt,nt))).Array,oe=t.Date,Se=t.Error,Te=t.Function,_e=t.Math,xe=t.Object,Oe=t.RegExp,we=t.String,Ie=t.TypeError,ke=r.prototype,Re=Te.prototype,Pe=xe.prototype,Ce=t["__core-js_shared__"],Ne=Re.toString,Ae=Pe.hasOwnProperty,De=0,Le=(n=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ue=Pe.toString,Me=Ne.call(xe),je=dt._,Fe=Oe("^"+Ne.call(Ae).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=gt?t.Buffer:o,Ve=t.Symbol,qe=t.Uint8Array,Ye=Be?Be.allocUnsafe:o,We=sn(xe.getPrototypeOf,xe),Ge=xe.create,Je=Pe.propertyIsEnumerable,He=ke.splice,ze=Ve?Ve.isConcatSpreadable:o,$e=Ve?Ve.iterator:o,Qe=Ve?Ve.toStringTag:o,et=function(){try{var e=li(xe,"defineProperty");return e({},"",{}),e}catch(e){}}(),st=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,lt=oe&&oe.now!==dt.Date.now&&oe.now,ut=t.setTimeout!==dt.setTimeout&&t.setTimeout,pt=_e.ceil,ft=_e.floor,ht=xe.getOwnPropertySymbols,vt=Be?Be.isBuffer:o,Ut=t.isFinite,Wt=ke.join,hn=sn(xe.keys,xe),vn=_e.max,mn=_e.min,bn=oe.now,yn=t.parseInt,En=_e.random,Sn=ke.reverse,Tn=li(t,"DataView"),_n=li(t,"Map"),xn=li(t,"Promise"),On=li(t,"Set"),wn=li(t,"WeakMap"),In=li(xe,"create"),kn=wn&&new wn,Rn={},Pn=Mi(Tn),Cn=Mi(_n),Nn=Mi(xn),An=Mi(On),Dn=Mi(wn),Ln=Ve?Ve.prototype:o,Un=Ln?Ln.valueOf:o,Mn=Ln?Ln.toString:o;function jn(e){if(ea(e)&&!Ys(e)&&!(e instanceof qn)){if(e instanceof Vn)return e;if(Ae.call(e,"__wrapped__"))return ji(e)}return new Vn(e)}var Fn=function(){function e(){}return function(t){if(!Zs(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Bn(){}function Vn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=f,this.__views__=[]}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Hn(e){var t=this.__data__=new Wn(e);this.size=t.size}function zn(e,t){var n=Ys(e),r=!n&&qs(e),o=!n&&!r&&Hs(e),i=!n&&!r&&!o&&ca(e),s=n||r||o||i,a=s?Ht(e.length,we):[],c=a.length;for(var l in e)!t&&!Ae.call(e,l)||s&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||vi(l,c))||a.push(l);return a}function $n(e){var t=e.length;return t?e[Gr(0,t-1)]:o}function Kn(e,t){return Ni(Io(e),ir(t,0,e.length))}function Xn(e){return Ni(Io(e))}function Qn(e,t,n){(n!==o&&!Fs(e[t],n)||n===o&&!(t in e))&&rr(e,t,n)}function Zn(e,t,n){var r=e[t];Ae.call(e,t)&&Fs(r,n)&&(n!==o||t in e)||rr(e,t,n)}function er(e,t){for(var n=e.length;n--;)if(Fs(e[n][0],t))return n;return-1}function tr(e,t,n,r){return ur(e,(function(e,o,i){t(r,e,n(e),i)})),r}function nr(e,t){return e&&ko(t,Pa(t),e)}function rr(e,t,n){"__proto__"==t&&et?et(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function or(e,t){for(var n=-1,i=t.length,s=r(i),a=null==e;++n<i;)s[n]=a?o:Oa(e,t[n]);return s}function ir(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function sr(e,t,n,r,i,s){var a,c=1&t,l=2&t,u=4&t;if(n&&(a=i?n(e,r,i,s):n(e)),a!==o)return a;if(!Zs(e))return e;var d=Ys(e);if(d){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ae.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return Io(e,a)}else{var p=pi(e),f=p==E||p==S;if(Hs(e))return So(e,c);if(p==x||p==h||f&&!i){if(a=l||f?{}:gi(e),!c)return l?function(e,t){return ko(e,di(e),t)}(e,function(e,t){return e&&ko(t,Ca(t),e)}(a,e)):function(e,t){return ko(e,ui(e),t)}(e,nr(a,e))}else{if(!it[p])return i?e:{};a=function(e,t,n){var r,o=e.constructor;switch(t){case C:return To(e);case m:case b:return new o(+e);case N:return function(e,t){var n=t?To(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case A:case D:case L:case U:case M:case j:case F:case B:case V:return _o(e,n);case T:return new o;case _:case k:return new o(e);case w:return function(e){var t=new e.constructor(e.source,pe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new o;case R:return r=e,Un?xe(Un.call(r)):{}}}(e,p,c)}}s||(s=new Hn);var g=s.get(e);if(g)return g;s.set(e,a),ia(e)?e.forEach((function(r){a.add(sr(r,t,n,r,e,s))})):ta(e)&&e.forEach((function(r,o){a.set(o,sr(r,t,n,o,e,s))}));var v=d?o:(u?l?ni:ti:l?Ca:Pa)(e);return Ot(v||e,(function(r,o){v&&(r=e[o=r]),Zn(a,o,sr(r,t,n,o,e,s))})),a}function ar(e,t,n){var r=n.length;if(null==e)return!r;for(e=xe(e);r--;){var i=n[r],s=t[i],a=e[i];if(a===o&&!(i in e)||!s(a))return!1}return!0}function cr(e,t,n){if("function"!=typeof e)throw new Ie(i);return ki((function(){e.apply(o,n)}),t)}function lr(e,t,n,r){var o=-1,i=Rt,s=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=Ct(t,$t(n))),r?(i=Pt,s=!1):t.length>=200&&(i=Xt,s=!1,t=new Jn(t));e:for(;++o<a;){var u=e[o],d=null==n?u:n(u);if(u=r||0!==u?u:0,s&&d==d){for(var p=l;p--;)if(t[p]===d)continue e;c.push(u)}else i(t,d,r)||c.push(u)}return c}jn.templateSettings={escape:$,evaluate:K,interpolate:X,variable:"",imports:{_:jn}},jn.prototype=Bn.prototype,jn.prototype.constructor=jn,Vn.prototype=Fn(Bn.prototype),Vn.prototype.constructor=Vn,qn.prototype=Fn(Bn.prototype),qn.prototype.constructor=qn,Yn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Yn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Yn.prototype.get=function(e){var t=this.__data__;if(In){var n=t[e];return n===s?o:n}return Ae.call(t,e)?t[e]:o},Yn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==o:Ae.call(t,e)},Yn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===o?s:t,this},Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(e){var t=this.__data__,n=er(t,e);return!(n<0||(n==t.length-1?t.pop():He.call(t,n,1),--this.size,0))},Wn.prototype.get=function(e){var t=this.__data__,n=er(t,e);return n<0?o:t[n][1]},Wn.prototype.has=function(e){return er(this.__data__,e)>-1},Wn.prototype.set=function(e,t){var n=this.__data__,r=er(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Yn,map:new(_n||Wn),string:new Yn}},Gn.prototype.delete=function(e){var t=ai(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return ai(this,e).get(e)},Gn.prototype.has=function(e){return ai(this,e).has(e)},Gn.prototype.set=function(e,t){var n=ai(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,s),this},Jn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.clear=function(){this.__data__=new Wn,this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Hn.prototype.get=function(e){return this.__data__.get(e)},Hn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Wn){var r=n.__data__;if(!_n||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var ur=Co(br),dr=Co(yr,!0);function pr(e,t){var n=!0;return ur(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function fr(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],a=t(s);if(null!=a&&(c===o?a==a&&!aa(a):n(a,c)))var c=a,l=s}return l}function gr(e,t){var n=[];return ur(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function hr(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=hi),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?hr(a,t-1,n,r,o):Nt(o,a):r||(o[o.length]=a)}return o}var vr=No(),mr=No(!0);function br(e,t){return e&&vr(e,t,Pa)}function yr(e,t){return e&&mr(e,t,Pa)}function Er(e,t){return kt(t,(function(t){return Ks(e[t])}))}function Sr(e,t){for(var n=0,r=(t=mo(t,e)).length;null!=e&&n<r;)e=e[Ui(t[n++])];return n&&n==r?e:o}function Tr(e,t,n){var r=t(e);return Ys(e)?r:Nt(r,n(e))}function _r(e){return null==e?e===o?"[object Undefined]":"[object Null]":Qe&&Qe in xe(e)?function(e){var t=Ae.call(e,Qe),n=e[Qe];try{e[Qe]=o;var r=!0}catch(e){}var i=Ue.call(e);return r&&(t?e[Qe]=n:delete e[Qe]),i}(e):function(e){return Ue.call(e)}(e)}function xr(e,t){return e>t}function Or(e,t){return null!=e&&Ae.call(e,t)}function wr(e,t){return null!=e&&t in xe(e)}function Ir(e,t,n){for(var i=n?Pt:Rt,s=e[0].length,a=e.length,c=a,l=r(a),u=1/0,d=[];c--;){var p=e[c];c&&t&&(p=Ct(p,$t(t))),u=mn(p.length,u),l[c]=!n&&(t||s>=120&&p.length>=120)?new Jn(c&&p):o}p=e[0];var f=-1,g=l[0];e:for(;++f<s&&d.length<u;){var h=p[f],v=t?t(h):h;if(h=n||0!==h?h:0,!(g?Xt(g,v):i(d,v,n))){for(c=a;--c;){var m=l[c];if(!(m?Xt(m,v):i(e[c],v,n)))continue e}g&&g.push(v),d.push(h)}}return d}function kr(e,t,n){var r=null==(e=Oi(e,t=mo(t,e)))?e:e[Ui($i(t))];return null==r?o:_t(r,e,n)}function Rr(e){return ea(e)&&_r(e)==h}function Pr(e,t,n,r,i){return e===t||(null==e||null==t||!ea(e)&&!ea(t)?e!=e&&t!=t:function(e,t,n,r,i,s){var a=Ys(e),c=Ys(t),l=a?v:pi(e),u=c?v:pi(t),d=(l=l==h?x:l)==x,p=(u=u==h?x:u)==x,f=l==u;if(f&&Hs(e)){if(!Hs(t))return!1;a=!0,d=!1}if(f&&!d)return s||(s=new Hn),a||ca(e)?Zo(e,t,n,r,i,s):function(e,t,n,r,o,i,s){switch(n){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!i(new qe(e),new qe(t)));case m:case b:case _:return Fs(+e,+t);case y:return e.name==t.name&&e.message==t.message;case w:case k:return e==t+"";case T:var a=on;case I:var c=1&r;if(a||(a=cn),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;r|=2,s.set(e,t);var u=Zo(a(e),a(t),r,o,i,s);return s.delete(e),u;case R:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,l,n,r,i,s);if(!(1&n)){var g=d&&Ae.call(e,"__wrapped__"),E=p&&Ae.call(t,"__wrapped__");if(g||E){var S=g?e.value():e,O=E?t.value():t;return s||(s=new Hn),i(S,O,n,r,s)}}return!!f&&(s||(s=new Hn),function(e,t,n,r,i,s){var a=1&n,c=ti(e),l=c.length;if(l!=ti(t).length&&!a)return!1;for(var u=l;u--;){var d=c[u];if(!(a?d in t:Ae.call(t,d)))return!1}var p=s.get(e),f=s.get(t);if(p&&f)return p==t&&f==e;var g=!0;s.set(e,t),s.set(t,e);for(var h=a;++u<l;){var v=e[d=c[u]],m=t[d];if(r)var b=a?r(m,v,d,t,e,s):r(v,m,d,e,t,s);if(!(b===o?v===m||i(v,m,n,r,s):b)){g=!1;break}h||(h="constructor"==d)}if(g&&!h){var y=e.constructor,E=t.constructor;y==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof E&&E instanceof E||(g=!1)}return s.delete(e),s.delete(t),g}(e,t,n,r,i,s))}(e,t,n,r,Pr,i))}function Cr(e,t,n,r){var i=n.length,s=i,a=!r;if(null==e)return!s;for(e=xe(e);i--;){var c=n[i];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<s;){var l=(c=n[i])[0],u=e[l],d=c[1];if(a&&c[2]){if(u===o&&!(l in e))return!1}else{var p=new Hn;if(r)var f=r(u,d,l,e,t,p);if(!(f===o?Pr(d,u,3,r,p):f))return!1}}return!0}function Nr(e){return!(!Zs(e)||(t=e,Le&&Le in t))&&(Ks(e)?Fe:he).test(Mi(e));var t}function Ar(e){return"function"==typeof e?e:null==e?nc:"object"==typeof e?Ys(e)?jr(e[0],e[1]):Mr(e):dc(e)}function Dr(e){if(!Si(e))return hn(e);var t=[];for(var n in xe(e))Ae.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e,t){return e<t}function Ur(e,t){var n=-1,o=Gs(e)?r(e.length):[];return ur(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function Mr(e){var t=ci(e);return 1==t.length&&t[0][2]?_i(t[0][0],t[0][1]):function(n){return n===e||Cr(n,e,t)}}function jr(e,t){return bi(e)&&Ti(t)?_i(Ui(e),t):function(n){var r=Oa(n,e);return r===o&&r===t?wa(n,e):Pr(t,r,3)}}function Fr(e,t,n,r,i){e!==t&&vr(t,(function(s,a){if(i||(i=new Hn),Zs(s))!function(e,t,n,r,i,s,a){var c=wi(e,n),l=wi(t,n),u=a.get(l);if(u)Qn(e,n,u);else{var d=s?s(c,l,n+"",e,t,a):o,p=d===o;if(p){var f=Ys(l),g=!f&&Hs(l),h=!f&&!g&&ca(l);d=l,f||g||h?Ys(c)?d=c:Js(c)?d=Io(c):g?(p=!1,d=So(l,!0)):h?(p=!1,d=_o(l,!0)):d=[]:ra(l)||qs(l)?(d=c,qs(c)?d=va(c):Zs(c)&&!Ks(c)||(d=gi(l))):p=!1}p&&(a.set(l,d),i(d,l,r,s,a),a.delete(l)),Qn(e,n,d)}}(e,t,a,n,Fr,r,i);else{var c=r?r(wi(e,a),s,a+"",e,t,i):o;c===o&&(c=s),Qn(e,a,c)}}),Ca)}function Br(e,t){var n=e.length;if(n)return vi(t+=t<0?n:0,n)?e[t]:o}function Vr(e,t,n){t=t.length?Ct(t,(function(e){return Ys(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[nc];var r=-1;t=Ct(t,$t(si()));var o=Ur(e,(function(e,n,o){var i=Ct(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var r=e.length;for(e.sort((function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var c=xo(o[r],i[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}));r--;)e[r]=e[r].value;return e}(o)}function qr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=Sr(e,s);n(a,s)&&Kr(i,mo(s,e),a)}return i}function Yr(e,t,n,r){var o=r?Bt:Ft,i=-1,s=t.length,a=e;for(e===t&&(t=Io(t)),n&&(a=Ct(e,$t(n)));++i<s;)for(var c=0,l=t[i],u=n?n(l):l;(c=o(a,u,c,r))>-1;)a!==e&&He.call(a,c,1),He.call(e,c,1);return e}function Wr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;vi(o)?He.call(e,o,1):co(e,o)}}return e}function Gr(e,t){return e+ft(En()*(t-e+1))}function Jr(e,t){var n="";if(!e||t<1||t>d)return n;do{t%2&&(n+=e),(t=ft(t/2))&&(e+=e)}while(t);return n}function Hr(e,t){return Ri(xi(e,t,nc),e+"")}function zr(e){return $n(Fa(e))}function $r(e,t){var n=Fa(e);return Ni(n,ir(t,0,n.length))}function Kr(e,t,n,r){if(!Zs(e))return e;for(var i=-1,s=(t=mo(t,e)).length,a=s-1,c=e;null!=c&&++i<s;){var l=Ui(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=a){var d=c[l];(u=r?r(d,l,c):o)===o&&(u=Zs(d)?d:vi(t[i+1])?[]:{})}Zn(c,l,u),c=c[l]}return e}var Xr=kn?function(e,t){return kn.set(e,t),e}:nc,Qr=et?function(e,t){return et(e,"toString",{configurable:!0,enumerable:!1,value:Za(t),writable:!0})}:nc;function Zr(e){return Ni(Fa(e))}function eo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=r(i);++o<i;)s[o]=e[o+t];return s}function to(e,t){var n;return ur(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function no(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,s=e[i];null!==s&&!aa(s)&&(n?s<=t:s<t)?r=i+1:o=i}return o}return ro(e,t,nc,n)}function ro(e,t,n,r){var i=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=n(t))!=t,c=null===t,l=aa(t),u=t===o;i<s;){var d=ft((i+s)/2),p=n(e[d]),f=p!==o,g=null===p,h=p==p,v=aa(p);if(a)var m=r||h;else m=u?h&&(r||f):c?h&&f&&(r||!g):l?h&&f&&!g&&(r||!v):!g&&!v&&(r?p<=t:p<t);m?i=d+1:s=d}return mn(s,4294967294)}function oo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Fs(a,c)){var c=a;i[o++]=0===s?0:s}}return i}function io(e){return"number"==typeof e?e:aa(e)?p:+e}function so(e){if("string"==typeof e)return e;if(Ys(e))return Ct(e,so)+"";if(aa(e))return Mn?Mn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ao(e,t,n){var r=-1,o=Rt,i=e.length,s=!0,a=[],c=a;if(n)s=!1,o=Pt;else if(i>=200){var l=t?null:Ho(e);if(l)return cn(l);s=!1,o=Xt,c=new Jn}else c=t?[]:a;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,s&&d==d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),a.push(u)}else o(c,d,n)||(c!==a&&c.push(d),a.push(u))}return a}function co(e,t){return null==(e=Oi(e,t=mo(t,e)))||delete e[Ui($i(t))]}function lo(e,t,n,r){return Kr(e,t,n(Sr(e,t)),r)}function uo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?eo(e,r?0:i,r?i+1:o):eo(e,r?i+1:0,r?o:i)}function po(e,t){var n=e;return n instanceof qn&&(n=n.value()),At(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),n)}function fo(e,t,n){var o=e.length;if(o<2)return o?ao(e[0]):[];for(var i=-1,s=r(o);++i<o;)for(var a=e[i],c=-1;++c<o;)c!=i&&(s[i]=lr(s[i]||a,e[c],t,n));return ao(hr(s,1),t,n)}function go(e,t,n){for(var r=-1,i=e.length,s=t.length,a={};++r<i;){var c=r<s?t[r]:o;n(a,e[r],c)}return a}function ho(e){return Js(e)?e:[]}function vo(e){return"function"==typeof e?e:nc}function mo(e,t){return Ys(e)?e:bi(e,t)?[e]:Li(ma(e))}var bo=Hr;function yo(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:eo(e,t,n)}var Eo=st||function(e){return dt.clearTimeout(e)};function So(e,t){if(t)return e.slice();var n=e.length,r=Ye?Ye(n):new e.constructor(n);return e.copy(r),r}function To(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function _o(e,t){var n=t?To(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function xo(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,s=aa(e),a=t!==o,c=null===t,l=t==t,u=aa(t);if(!c&&!u&&!s&&e>t||s&&a&&l&&!c&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||c&&n&&i||!a&&i||!l)return-1}return 0}function Oo(e,t,n,o){for(var i=-1,s=e.length,a=n.length,c=-1,l=t.length,u=vn(s-a,0),d=r(l+u),p=!o;++c<l;)d[c]=t[c];for(;++i<a;)(p||i<s)&&(d[n[i]]=e[i]);for(;u--;)d[c++]=e[i++];return d}function wo(e,t,n,o){for(var i=-1,s=e.length,a=-1,c=n.length,l=-1,u=t.length,d=vn(s-c,0),p=r(d+u),f=!o;++i<d;)p[i]=e[i];for(var g=i;++l<u;)p[g+l]=t[l];for(;++a<c;)(f||i<s)&&(p[g+n[a]]=e[i++]);return p}function Io(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function ko(e,t,n,r){var i=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var c=t[s],l=r?r(n[c],e[c],c,n,e):o;l===o&&(l=e[c]),i?rr(n,c,l):Zn(n,c,l)}return n}function Ro(e,t){return function(n,r){var o=Ys(n)?xt:tr,i=t?t():{};return o(n,e,si(r,2),i)}}function Po(e){return Hr((function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:o,a=i>2?n[2]:o;for(s=e.length>3&&"function"==typeof s?(i--,s):o,a&&mi(n[0],n[1],a)&&(s=i<3?o:s,i=1),t=xe(t);++r<i;){var c=n[r];c&&e(t,c,r,s)}return t}))}function Co(e,t){return function(n,r){if(null==n)return n;if(!Gs(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=xe(n);(t?i--:++i<o)&&!1!==r(s[i],i,s););return n}}function No(e){return function(t,n,r){for(var o=-1,i=xe(t),s=r(t),a=s.length;a--;){var c=s[e?a:++o];if(!1===n(i[c],c,i))break}return t}}function Ao(e){return function(t){var n=rn(t=ma(t))?dn(t):o,r=n?n[0]:t.charAt(0),i=n?yo(n,1).join(""):t.slice(1);return r[e]()+i}}function Do(e){return function(t){return At(Ka(qa(t).replace(Ke,"")),e,"")}}function Lo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Fn(e.prototype),r=e.apply(n,t);return Zs(r)?r:n}}function Uo(e){return function(t,n,r){var i=xe(t);if(!Gs(t)){var s=si(n,3);t=Pa(t),n=function(e){return s(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[s?t[a]:a]:o}}function Mo(e){return ei((function(t){var n=t.length,r=n,s=Vn.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Ie(i);if(s&&!c&&"wrapper"==oi(a))var c=new Vn([],!0)}for(r=c?r:n;++r<n;){var l=oi(a=t[r]),u="wrapper"==l?ri(a):o;c=u&&yi(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[oi(u[0])].apply(c,u[3]):1==a.length&&yi(a)?c[l]():c.thru(a)}return function(){var e=arguments,r=e[0];if(c&&1==e.length&&Ys(r))return c.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function jo(e,t,n,i,s,a,c,u,d,p){var f=t&l,g=1&t,h=2&t,v=24&t,m=512&t,b=h?o:Lo(e);return function l(){for(var y=arguments.length,E=r(y),S=y;S--;)E[S]=arguments[S];if(v)var T=ii(l),_=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(E,T);if(i&&(E=Oo(E,i,s,v)),a&&(E=wo(E,a,c,v)),y-=_,v&&y<p){var x=an(E,T);return Go(e,t,jo,l.placeholder,n,E,x,u,d,p-y)}var O=g?n:this,w=h?O[e]:e;return y=E.length,u?E=function(e,t){for(var n=e.length,r=mn(t.length,n),i=Io(e);r--;){var s=t[r];e[r]=vi(s,n)?i[s]:o}return e}(E,u):m&&y>1&&E.reverse(),f&&d<y&&(E.length=d),this&&this!==dt&&this instanceof l&&(w=b||Lo(w)),w.apply(O,E)}}function Fo(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Bo(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=so(n),r=so(r)):(n=io(n),r=io(r)),i=e(n,r)}return i}}function Vo(e){return ei((function(t){return t=Ct(t,$t(si())),Hr((function(n){var r=this;return e(t,(function(e){return _t(e,r,n)}))}))}))}function qo(e,t){var n=(t=t===o?" ":so(t)).length;if(n<2)return n?Jr(t,e):t;var r=Jr(t,pt(e/un(t)));return rn(t)?yo(dn(r),0,e).join(""):r.slice(0,e)}function Yo(e){return function(t,n,i){return i&&"number"!=typeof i&&mi(t,n,i)&&(n=i=o),t=pa(t),n===o?(n=t,t=0):n=pa(n),function(e,t,n,o){for(var i=-1,s=vn(pt((t-e)/(n||1)),0),a=r(s);s--;)a[o?s:++i]=e,e+=n;return a}(t,n,i=i===o?t<n?1:-1:pa(i),e)}}function Wo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ha(t),n=ha(n)),e(t,n)}}function Go(e,t,n,r,i,s,a,l,u,d){var p=8&t;t|=p?c:64,4&(t&=~(p?64:c))||(t&=-4);var f=[e,t,i,p?s:o,p?a:o,p?o:s,p?o:a,l,u,d],g=n.apply(o,f);return yi(e)&&Ii(g,f),g.placeholder=r,Pi(g,e,t)}function Jo(e){var t=_e[e];return function(e,n){if(e=ha(e),(n=null==n?0:mn(fa(n),292))&&Ut(e)){var r=(ma(e)+"e").split("e");return+((r=(ma(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ho=On&&1/cn(new On([,-0]))[1]==u?function(e){return new On(e)}:ac;function zo(e){return function(t){var n=pi(t);return n==T?on(t):n==I?ln(t):function(e,t){return Ct(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function $o(e,t,n,s,u,d,p,f){var g=2&t;if(!g&&"function"!=typeof e)throw new Ie(i);var h=s?s.length:0;if(h||(t&=-97,s=u=o),p=p===o?p:vn(fa(p),0),f=f===o?f:fa(f),h-=u?u.length:0,64&t){var v=s,m=u;s=u=o}var b=g?o:ri(e),y=[e,t,n,s,u,v,m,d,p,f];if(b&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,s=r==l&&8==n||r==l&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!s)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Oo(u,c,t[4]):c,e[4]=u?an(e[3],a):t[4]}(c=t[5])&&(u=e[5],e[5]=u?wo(u,c,t[6]):c,e[6]=u?an(e[5],a):t[6]),(c=t[7])&&(e[7]=c),r&l&&(e[8]=null==e[8]?t[8]:mn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(y,b),e=y[0],t=y[1],n=y[2],s=y[3],u=y[4],!(f=y[9]=y[9]===o?g?0:e.length:vn(y[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||16==t?function(e,t,n){var i=Lo(e);return function s(){for(var a=arguments.length,c=r(a),l=a,u=ii(s);l--;)c[l]=arguments[l];var d=a<3&&c[0]!==u&&c[a-1]!==u?[]:an(c,u);return(a-=d.length)<n?Go(e,t,jo,s.placeholder,o,c,d,o,o,n-a):_t(this&&this!==dt&&this instanceof s?i:e,this,c)}}(e,t,f):t!=c&&33!=t||u.length?jo.apply(o,y):function(e,t,n,o){var i=1&t,s=Lo(e);return function t(){for(var a=-1,c=arguments.length,l=-1,u=o.length,d=r(u+c),p=this&&this!==dt&&this instanceof t?s:e;++l<u;)d[l]=o[l];for(;c--;)d[l++]=arguments[++a];return _t(p,i?n:this,d)}}(e,t,n,s);else var E=function(e,t,n){var r=1&t,o=Lo(e);return function t(){return(this&&this!==dt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Pi((b?Xr:Ii)(E,y),e,t)}function Ko(e,t,n,r){return e===o||Fs(e,Pe[n])&&!Ae.call(r,n)?t:e}function Xo(e,t,n,r,i,s){return Zs(e)&&Zs(t)&&(s.set(t,e),Fr(e,t,o,Xo,s),s.delete(t)),e}function Qo(e){return ra(e)?o:e}function Zo(e,t,n,r,i,s){var a=1&n,c=e.length,l=t.length;if(c!=l&&!(a&&l>c))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var p=-1,f=!0,g=2&n?new Jn:o;for(s.set(e,t),s.set(t,e);++p<c;){var h=e[p],v=t[p];if(r)var m=a?r(v,h,p,t,e,s):r(h,v,p,e,t,s);if(m!==o){if(m)continue;f=!1;break}if(g){if(!Lt(t,(function(e,t){if(!Xt(g,t)&&(h===e||i(h,e,n,r,s)))return g.push(t)}))){f=!1;break}}else if(h!==v&&!i(h,v,n,r,s)){f=!1;break}}return s.delete(e),s.delete(t),f}function ei(e){return Ri(xi(e,o,Wi),e+"")}function ti(e){return Tr(e,Pa,ui)}function ni(e){return Tr(e,Ca,di)}var ri=kn?function(e){return kn.get(e)}:ac;function oi(e){for(var t=e.name+"",n=Rn[t],r=Ae.call(Rn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ii(e){return(Ae.call(jn,"placeholder")?jn:e).placeholder}function si(){var e=jn.iteratee||rc;return e=e===rc?Ar:e,arguments.length?e(arguments[0],arguments[1]):e}function ai(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ci(e){for(var t=Pa(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Ti(o)]}return t}function li(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Nr(n)?n:o}var ui=ht?function(e){return null==e?[]:(e=xe(e),kt(ht(e),(function(t){return Je.call(e,t)})))}:gc,di=ht?function(e){for(var t=[];e;)Nt(t,ui(e)),e=We(e);return t}:gc,pi=_r;function fi(e,t,n){for(var r=-1,o=(t=mo(t,e)).length,i=!1;++r<o;){var s=Ui(t[r]);if(!(i=null!=e&&n(e,s)))break;e=e[s]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Qs(o)&&vi(s,o)&&(Ys(e)||qs(e))}function gi(e){return"function"!=typeof e.constructor||Si(e)?{}:Fn(We(e))}function hi(e){return Ys(e)||qs(e)||!!(ze&&e&&e[ze])}function vi(e,t){var n=typeof e;return!!(t=null==t?d:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function mi(e,t,n){if(!Zs(n))return!1;var r=typeof t;return!!("number"==r?Gs(n)&&vi(t,n.length):"string"==r&&t in n)&&Fs(n[t],e)}function bi(e,t){if(Ys(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!aa(e))||Z.test(e)||!Q.test(e)||null!=t&&e in xe(t)}function yi(e){var t=oi(e),n=jn[t];if("function"!=typeof n||!(t in qn.prototype))return!1;if(e===n)return!0;var r=ri(n);return!!r&&e===r[0]}(Tn&&pi(new Tn(new ArrayBuffer(1)))!=N||_n&&pi(new _n)!=T||xn&&pi(xn.resolve())!=O||On&&pi(new On)!=I||wn&&pi(new wn)!=P)&&(pi=function(e){var t=_r(e),n=t==x?e.constructor:o,r=n?Mi(n):"";if(r)switch(r){case Pn:return N;case Cn:return T;case Nn:return O;case An:return I;case Dn:return P}return t});var Ei=Ce?Ks:hc;function Si(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function Ti(e){return e==e&&!Zs(e)}function _i(e,t){return function(n){return null!=n&&n[e]===t&&(t!==o||e in xe(n))}}function xi(e,t,n){return t=vn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=vn(o.length-t,0),a=r(s);++i<s;)a[i]=o[t+i];i=-1;for(var c=r(t+1);++i<t;)c[i]=o[i];return c[t]=n(a),_t(e,this,c)}}function Oi(e,t){return t.length<2?e:Sr(e,eo(t,0,-1))}function wi(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ii=Ci(Xr),ki=ut||function(e,t){return dt.setTimeout(e,t)},Ri=Ci(Qr);function Pi(e,t,n){var r=t+"";return Ri(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ie,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ot(g,(function(n){var r="_."+n[0];t&n[1]&&!Rt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ae):[]}(r),n)))}function Ci(e){var t=0,n=0;return function(){var r=bn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Ni(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var s=Gr(n,i),a=e[s];e[s]=e[n],e[n]=a}return e.length=t,e}var Ai,Di,Li=(Ai=As((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,n,r,o){t.push(r?o.replace(ue,"$1"):n||e)})),t}),(function(e){return 500===Di.size&&Di.clear(),e})),Di=Ai.cache,Ai);function Ui(e){if("string"==typeof e||aa(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Mi(e){if(null!=e){try{return Ne.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ji(e){if(e instanceof qn)return e.clone();var t=new Vn(e.__wrapped__,e.__chain__);return t.__actions__=Io(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fi=Hr((function(e,t){return Js(e)?lr(e,hr(t,1,Js,!0)):[]})),Bi=Hr((function(e,t){var n=$i(t);return Js(n)&&(n=o),Js(e)?lr(e,hr(t,1,Js,!0),si(n,2)):[]})),Vi=Hr((function(e,t){var n=$i(t);return Js(n)&&(n=o),Js(e)?lr(e,hr(t,1,Js,!0),o,n):[]}));function qi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:fa(n);return o<0&&(o=vn(r+o,0)),jt(e,si(t,3),o)}function Yi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=fa(n),i=n<0?vn(r+i,0):mn(i,r-1)),jt(e,si(t,3),i,!0)}function Wi(e){return null!=e&&e.length?hr(e,1):[]}function Gi(e){return e&&e.length?e[0]:o}var Ji=Hr((function(e){var t=Ct(e,ho);return t.length&&t[0]===e[0]?Ir(t):[]})),Hi=Hr((function(e){var t=$i(e),n=Ct(e,ho);return t===$i(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Ir(n,si(t,2)):[]})),zi=Hr((function(e){var t=$i(e),n=Ct(e,ho);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Ir(n,o,t):[]}));function $i(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ki=Hr(Xi);function Xi(e,t){return e&&e.length&&t&&t.length?Yr(e,t):e}var Qi=ei((function(e,t){var n=null==e?0:e.length,r=or(e,t);return Wr(e,Ct(t,(function(e){return vi(e,n)?+e:e})).sort(xo)),r}));function Zi(e){return null==e?e:Sn.call(e)}var es=Hr((function(e){return ao(hr(e,1,Js,!0))})),ts=Hr((function(e){var t=$i(e);return Js(t)&&(t=o),ao(hr(e,1,Js,!0),si(t,2))})),ns=Hr((function(e){var t=$i(e);return t="function"==typeof t?t:o,ao(hr(e,1,Js,!0),o,t)}));function rs(e){if(!e||!e.length)return[];var t=0;return e=kt(e,(function(e){if(Js(e))return t=vn(e.length,t),!0})),Ht(t,(function(t){return Ct(e,Yt(t))}))}function os(e,t){if(!e||!e.length)return[];var n=rs(e);return null==t?n:Ct(n,(function(e){return _t(t,o,e)}))}var is=Hr((function(e,t){return Js(e)?lr(e,t):[]})),ss=Hr((function(e){return fo(kt(e,Js))})),as=Hr((function(e){var t=$i(e);return Js(t)&&(t=o),fo(kt(e,Js),si(t,2))})),cs=Hr((function(e){var t=$i(e);return t="function"==typeof t?t:o,fo(kt(e,Js),o,t)})),ls=Hr(rs),us=Hr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,os(e,n)}));function ds(e){var t=jn(e);return t.__chain__=!0,t}function ps(e,t){return t(e)}var fs=ei((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return or(t,e)};return!(t>1||this.__actions__.length)&&r instanceof qn&&vi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ps,args:[i],thisArg:o}),new Vn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)})),gs=Ro((function(e,t,n){Ae.call(e,n)?++e[n]:rr(e,n,1)})),hs=Uo(qi),vs=Uo(Yi);function ms(e,t){return(Ys(e)?Ot:ur)(e,si(t,3))}function bs(e,t){return(Ys(e)?wt:dr)(e,si(t,3))}var ys=Ro((function(e,t,n){Ae.call(e,n)?e[n].push(t):rr(e,n,[t])})),Es=Hr((function(e,t,n){var o=-1,i="function"==typeof t,s=Gs(e)?r(e.length):[];return ur(e,(function(e){s[++o]=i?_t(t,e,n):kr(e,t,n)})),s})),Ss=Ro((function(e,t,n){rr(e,n,t)}));function Ts(e,t){return(Ys(e)?Ct:Ur)(e,si(t,3))}var _s=Ro((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),xs=Hr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&mi(e,t[0],t[1])?t=[]:n>2&&mi(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,hr(t,1),[])})),Os=lt||function(){return dt.Date.now()};function ws(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,$o(e,l,o,o,o,o,t)}function Is(e,t){var n;if("function"!=typeof t)throw new Ie(i);return e=fa(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var ks=Hr((function(e,t,n){var r=1;if(n.length){var o=an(n,ii(ks));r|=c}return $o(e,r,t,n,o)})),Rs=Hr((function(e,t,n){var r=3;if(n.length){var o=an(n,ii(Rs));r|=c}return $o(t,r,e,n,o)}));function Ps(e,t,n){var r,s,a,c,l,u,d=0,p=!1,f=!1,g=!0;if("function"!=typeof e)throw new Ie(i);function h(t){var n=r,i=s;return r=s=o,d=t,c=e.apply(i,n)}function v(e){var n=e-u;return u===o||n>=t||n<0||f&&e-d>=a}function m(){var e=Os();if(v(e))return b(e);l=ki(m,function(e){var n=t-(e-u);return f?mn(n,a-(e-d)):n}(e))}function b(e){return l=o,g&&r?h(e):(r=s=o,c)}function y(){var e=Os(),n=v(e);if(r=arguments,s=this,u=e,n){if(l===o)return function(e){return d=e,l=ki(m,t),p?h(e):c}(u);if(f)return Eo(l),l=ki(m,t),h(u)}return l===o&&(l=ki(m,t)),c}return t=ha(t)||0,Zs(n)&&(p=!!n.leading,a=(f="maxWait"in n)?vn(ha(n.maxWait)||0,t):a,g="trailing"in n?!!n.trailing:g),y.cancel=function(){l!==o&&Eo(l),d=0,r=u=s=l=o},y.flush=function(){return l===o?c:b(Os())},y}var Cs=Hr((function(e,t){return cr(e,1,t)})),Ns=Hr((function(e,t,n){return cr(e,ha(t)||0,n)}));function As(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ie(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(As.Cache||Gn),n}function Ds(e){if("function"!=typeof e)throw new Ie(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}As.Cache=Gn;var Ls=bo((function(e,t){var n=(t=1==t.length&&Ys(t[0])?Ct(t[0],$t(si())):Ct(hr(t,1),$t(si()))).length;return Hr((function(r){for(var o=-1,i=mn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return _t(e,this,r)}))})),Us=Hr((function(e,t){var n=an(t,ii(Us));return $o(e,c,o,t,n)})),Ms=Hr((function(e,t){var n=an(t,ii(Ms));return $o(e,64,o,t,n)})),js=ei((function(e,t){return $o(e,256,o,o,o,t)}));function Fs(e,t){return e===t||e!=e&&t!=t}var Bs=Wo(xr),Vs=Wo((function(e,t){return e>=t})),qs=Rr(function(){return arguments}())?Rr:function(e){return ea(e)&&Ae.call(e,"callee")&&!Je.call(e,"callee")},Ys=r.isArray,Ws=mt?$t(mt):function(e){return ea(e)&&_r(e)==C};function Gs(e){return null!=e&&Qs(e.length)&&!Ks(e)}function Js(e){return ea(e)&&Gs(e)}var Hs=vt||hc,zs=bt?$t(bt):function(e){return ea(e)&&_r(e)==b};function $s(e){if(!ea(e))return!1;var t=_r(e);return t==y||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ra(e)}function Ks(e){if(!Zs(e))return!1;var t=_r(e);return t==E||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Xs(e){return"number"==typeof e&&e==fa(e)}function Qs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}function Zs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ea(e){return null!=e&&"object"==typeof e}var ta=yt?$t(yt):function(e){return ea(e)&&pi(e)==T};function na(e){return"number"==typeof e||ea(e)&&_r(e)==_}function ra(e){if(!ea(e)||_r(e)!=x)return!1;var t=We(e);if(null===t)return!0;var n=Ae.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ne.call(n)==Me}var oa=Et?$t(Et):function(e){return ea(e)&&_r(e)==w},ia=St?$t(St):function(e){return ea(e)&&pi(e)==I};function sa(e){return"string"==typeof e||!Ys(e)&&ea(e)&&_r(e)==k}function aa(e){return"symbol"==typeof e||ea(e)&&_r(e)==R}var ca=Tt?$t(Tt):function(e){return ea(e)&&Qs(e.length)&&!!ot[_r(e)]},la=Wo(Lr),ua=Wo((function(e,t){return e<=t}));function da(e){if(!e)return[];if(Gs(e))return sa(e)?dn(e):Io(e);if($e&&e[$e])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[$e]());var t=pi(e);return(t==T?on:t==I?cn:Fa)(e)}function pa(e){return e?(e=ha(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function fa(e){var t=pa(e),n=t%1;return t==t?n?t-n:t:0}function ga(e){return e?ir(fa(e),0,f):0}function ha(e){if("number"==typeof e)return e;if(aa(e))return p;if(Zs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Zs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=zt(e);var n=ge.test(e);return n||ve.test(e)?ct(e.slice(2),n?2:8):fe.test(e)?p:+e}function va(e){return ko(e,Ca(e))}function ma(e){return null==e?"":so(e)}var ba=Po((function(e,t){if(Si(t)||Gs(t))ko(t,Pa(t),e);else for(var n in t)Ae.call(t,n)&&Zn(e,n,t[n])})),ya=Po((function(e,t){ko(t,Ca(t),e)})),Ea=Po((function(e,t,n,r){ko(t,Ca(t),e,r)})),Sa=Po((function(e,t,n,r){ko(t,Pa(t),e,r)})),Ta=ei(or),_a=Hr((function(e,t){e=xe(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&mi(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],a=Ca(s),c=-1,l=a.length;++c<l;){var u=a[c],d=e[u];(d===o||Fs(d,Pe[u])&&!Ae.call(e,u))&&(e[u]=s[u])}return e})),xa=Hr((function(e){return e.push(o,Xo),_t(Aa,o,e)}));function Oa(e,t,n){var r=null==e?o:Sr(e,t);return r===o?n:r}function wa(e,t){return null!=e&&fi(e,t,wr)}var Ia=Fo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),Za(nc)),ka=Fo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Ae.call(e,t)?e[t].push(n):e[t]=[n]}),si),Ra=Hr(kr);function Pa(e){return Gs(e)?zn(e):Dr(e)}function Ca(e){return Gs(e)?zn(e,!0):function(e){if(!Zs(e))return function(e){var t=[];if(null!=e)for(var n in xe(e))t.push(n);return t}(e);var t=Si(e),n=[];for(var r in e)("constructor"!=r||!t&&Ae.call(e,r))&&n.push(r);return n}(e)}var Na=Po((function(e,t,n){Fr(e,t,n)})),Aa=Po((function(e,t,n,r){Fr(e,t,n,r)})),Da=ei((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ct(t,(function(t){return t=mo(t,e),r||(r=t.length>1),t})),ko(e,ni(e),n),r&&(n=sr(n,7,Qo));for(var o=t.length;o--;)co(n,t[o]);return n})),La=ei((function(e,t){return null==e?{}:function(e,t){return qr(e,t,(function(t,n){return wa(e,n)}))}(e,t)}));function Ua(e,t){if(null==e)return{};var n=Ct(ni(e),(function(e){return[e]}));return t=si(t),qr(e,n,(function(e,n){return t(e,n[0])}))}var Ma=zo(Pa),ja=zo(Ca);function Fa(e){return null==e?[]:Kt(e,Pa(e))}var Ba=Do((function(e,t,n){return t=t.toLowerCase(),e+(n?Va(t):t)}));function Va(e){return $a(ma(e).toLowerCase())}function qa(e){return(e=ma(e))&&e.replace(be,en).replace(Xe,"")}var Ya=Do((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Wa=Do((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ga=Ao("toLowerCase"),Ja=Do((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ha=Do((function(e,t,n){return e+(n?" ":"")+$a(t)})),za=Do((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),$a=Ao("toUpperCase");function Ka(e,t,n){return e=ma(e),(t=n?o:t)===o?function(e){return tt.test(e)}(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Xa=Hr((function(e,t){try{return _t(e,o,t)}catch(e){return $s(e)?e:new Se(e)}})),Qa=ei((function(e,t){return Ot(t,(function(t){t=Ui(t),rr(e,t,ks(e[t],e))})),e}));function Za(e){return function(){return e}}var ec=Mo(),tc=Mo(!0);function nc(e){return e}function rc(e){return Ar("function"==typeof e?e:sr(e,1))}var oc=Hr((function(e,t){return function(n){return kr(n,e,t)}})),ic=Hr((function(e,t){return function(n){return kr(e,n,t)}}));function sc(e,t,n){var r=Pa(t),o=Er(t,r);null!=n||Zs(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=Er(t,Pa(t)));var i=!(Zs(n)&&"chain"in n&&!n.chain),s=Ks(e);return Ot(o,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Io(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nt([this.value()],arguments))})})),e}function ac(){}var cc=Vo(Ct),lc=Vo(It),uc=Vo(Lt);function dc(e){return bi(e)?Yt(Ui(e)):function(e){return function(t){return Sr(t,e)}}(e)}var pc=Yo(),fc=Yo(!0);function gc(){return[]}function hc(){return!1}var vc,mc=Bo((function(e,t){return e+t}),0),bc=Jo("ceil"),yc=Bo((function(e,t){return e/t}),1),Ec=Jo("floor"),Sc=Bo((function(e,t){return e*t}),1),Tc=Jo("round"),_c=Bo((function(e,t){return e-t}),0);return jn.after=function(e,t){if("function"!=typeof t)throw new Ie(i);return e=fa(e),function(){if(--e<1)return t.apply(this,arguments)}},jn.ary=ws,jn.assign=ba,jn.assignIn=ya,jn.assignInWith=Ea,jn.assignWith=Sa,jn.at=Ta,jn.before=Is,jn.bind=ks,jn.bindAll=Qa,jn.bindKey=Rs,jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ys(e)?e:[e]},jn.chain=ds,jn.chunk=function(e,t,n){t=(n?mi(e,t,n):t===o)?1:vn(fa(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var s=0,a=0,c=r(pt(i/t));s<i;)c[a++]=eo(e,s,s+=t);return c},jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Nt(Ys(n)?Io(n):[n],hr(t,1))},jn.cond=function(e){var t=null==e?0:e.length,n=si();return e=t?Ct(e,(function(e){if("function"!=typeof e[1])throw new Ie(i);return[n(e[0]),e[1]]})):[],Hr((function(n){for(var r=-1;++r<t;){var o=e[r];if(_t(o[0],this,n))return _t(o[1],this,n)}}))},jn.conforms=function(e){return function(e){var t=Pa(e);return function(n){return ar(n,e,t)}}(sr(e,1))},jn.constant=Za,jn.countBy=gs,jn.create=function(e,t){var n=Fn(e);return null==t?n:nr(n,t)},jn.curry=function e(t,n,r){var i=$o(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},jn.curryRight=function e(t,n,r){var i=$o(t,16,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},jn.debounce=Ps,jn.defaults=_a,jn.defaultsDeep=xa,jn.defer=Cs,jn.delay=Ns,jn.difference=Fi,jn.differenceBy=Bi,jn.differenceWith=Vi,jn.drop=function(e,t,n){var r=null==e?0:e.length;return r?eo(e,(t=n||t===o?1:fa(t))<0?0:t,r):[]},jn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?eo(e,0,(t=r-(t=n||t===o?1:fa(t)))<0?0:t):[]},jn.dropRightWhile=function(e,t){return e&&e.length?uo(e,si(t,3),!0,!0):[]},jn.dropWhile=function(e,t){return e&&e.length?uo(e,si(t,3),!0):[]},jn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&mi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=fa(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:fa(r))<0&&(r+=i),r=n>r?0:ga(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},jn.filter=function(e,t){return(Ys(e)?kt:gr)(e,si(t,3))},jn.flatMap=function(e,t){return hr(Ts(e,t),1)},jn.flatMapDeep=function(e,t){return hr(Ts(e,t),u)},jn.flatMapDepth=function(e,t,n){return n=n===o?1:fa(n),hr(Ts(e,t),n)},jn.flatten=Wi,jn.flattenDeep=function(e){return null!=e&&e.length?hr(e,u):[]},jn.flattenDepth=function(e,t){return null!=e&&e.length?hr(e,t=t===o?1:fa(t)):[]},jn.flip=function(e){return $o(e,512)},jn.flow=ec,jn.flowRight=tc,jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},jn.functions=function(e){return null==e?[]:Er(e,Pa(e))},jn.functionsIn=function(e){return null==e?[]:Er(e,Ca(e))},jn.groupBy=ys,jn.initial=function(e){return null!=e&&e.length?eo(e,0,-1):[]},jn.intersection=Ji,jn.intersectionBy=Hi,jn.intersectionWith=zi,jn.invert=Ia,jn.invertBy=ka,jn.invokeMap=Es,jn.iteratee=rc,jn.keyBy=Ss,jn.keys=Pa,jn.keysIn=Ca,jn.map=Ts,jn.mapKeys=function(e,t){var n={};return t=si(t,3),br(e,(function(e,r,o){rr(n,t(e,r,o),e)})),n},jn.mapValues=function(e,t){var n={};return t=si(t,3),br(e,(function(e,r,o){rr(n,r,t(e,r,o))})),n},jn.matches=function(e){return Mr(sr(e,1))},jn.matchesProperty=function(e,t){return jr(e,sr(t,1))},jn.memoize=As,jn.merge=Na,jn.mergeWith=Aa,jn.method=oc,jn.methodOf=ic,jn.mixin=sc,jn.negate=Ds,jn.nthArg=function(e){return e=fa(e),Hr((function(t){return Br(t,e)}))},jn.omit=Da,jn.omitBy=function(e,t){return Ua(e,Ds(si(t)))},jn.once=function(e){return Is(2,e)},jn.orderBy=function(e,t,n,r){return null==e?[]:(Ys(t)||(t=null==t?[]:[t]),Ys(n=r?o:n)||(n=null==n?[]:[n]),Vr(e,t,n))},jn.over=cc,jn.overArgs=Ls,jn.overEvery=lc,jn.overSome=uc,jn.partial=Us,jn.partialRight=Ms,jn.partition=_s,jn.pick=La,jn.pickBy=Ua,jn.property=dc,jn.propertyOf=function(e){return function(t){return null==e?o:Sr(e,t)}},jn.pull=Ki,jn.pullAll=Xi,jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,si(n,2)):e},jn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,o,n):e},jn.pullAt=Qi,jn.range=pc,jn.rangeRight=fc,jn.rearg=js,jn.reject=function(e,t){return(Ys(e)?kt:gr)(e,Ds(si(t,3)))},jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=si(t,3);++r<i;){var s=e[r];t(s,r,e)&&(n.push(s),o.push(r))}return Wr(e,o),n},jn.rest=function(e,t){if("function"!=typeof e)throw new Ie(i);return Hr(e,t=t===o?t:fa(t))},jn.reverse=Zi,jn.sampleSize=function(e,t,n){return t=(n?mi(e,t,n):t===o)?1:fa(t),(Ys(e)?Kn:$r)(e,t)},jn.set=function(e,t,n){return null==e?e:Kr(e,t,n)},jn.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:Kr(e,t,n,r)},jn.shuffle=function(e){return(Ys(e)?Xn:Zr)(e)},jn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&mi(e,t,n)?(t=0,n=r):(t=null==t?0:fa(t),n=n===o?r:fa(n)),eo(e,t,n)):[]},jn.sortBy=xs,jn.sortedUniq=function(e){return e&&e.length?oo(e):[]},jn.sortedUniqBy=function(e,t){return e&&e.length?oo(e,si(t,2)):[]},jn.split=function(e,t,n){return n&&"number"!=typeof n&&mi(e,t,n)&&(t=n=o),(n=n===o?f:n>>>0)?(e=ma(e))&&("string"==typeof t||null!=t&&!oa(t))&&!(t=so(t))&&rn(e)?yo(dn(e),0,n):e.split(t,n):[]},jn.spread=function(e,t){if("function"!=typeof e)throw new Ie(i);return t=null==t?0:vn(fa(t),0),Hr((function(n){var r=n[t],o=yo(n,0,t);return r&&Nt(o,r),_t(e,this,o)}))},jn.tail=function(e){var t=null==e?0:e.length;return t?eo(e,1,t):[]},jn.take=function(e,t,n){return e&&e.length?eo(e,0,(t=n||t===o?1:fa(t))<0?0:t):[]},jn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?eo(e,(t=r-(t=n||t===o?1:fa(t)))<0?0:t,r):[]},jn.takeRightWhile=function(e,t){return e&&e.length?uo(e,si(t,3),!1,!0):[]},jn.takeWhile=function(e,t){return e&&e.length?uo(e,si(t,3)):[]},jn.tap=function(e,t){return t(e),e},jn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Ie(i);return Zs(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ps(e,t,{leading:r,maxWait:t,trailing:o})},jn.thru=ps,jn.toArray=da,jn.toPairs=Ma,jn.toPairsIn=ja,jn.toPath=function(e){return Ys(e)?Ct(e,Ui):aa(e)?[e]:Io(Li(ma(e)))},jn.toPlainObject=va,jn.transform=function(e,t,n){var r=Ys(e),o=r||Hs(e)||ca(e);if(t=si(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:Zs(e)&&Ks(i)?Fn(We(e)):{}}return(o?Ot:br)(e,(function(e,r,o){return t(n,e,r,o)})),n},jn.unary=function(e){return ws(e,1)},jn.union=es,jn.unionBy=ts,jn.unionWith=ns,jn.uniq=function(e){return e&&e.length?ao(e):[]},jn.uniqBy=function(e,t){return e&&e.length?ao(e,si(t,2)):[]},jn.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?ao(e,o,t):[]},jn.unset=function(e,t){return null==e||co(e,t)},jn.unzip=rs,jn.unzipWith=os,jn.update=function(e,t,n){return null==e?e:lo(e,t,vo(n))},jn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:lo(e,t,vo(n),r)},jn.values=Fa,jn.valuesIn=function(e){return null==e?[]:Kt(e,Ca(e))},jn.without=is,jn.words=Ka,jn.wrap=function(e,t){return Us(vo(t),e)},jn.xor=ss,jn.xorBy=as,jn.xorWith=cs,jn.zip=ls,jn.zipObject=function(e,t){return go(e||[],t||[],Zn)},jn.zipObjectDeep=function(e,t){return go(e||[],t||[],Kr)},jn.zipWith=us,jn.entries=Ma,jn.entriesIn=ja,jn.extend=ya,jn.extendWith=Ea,sc(jn,jn),jn.add=mc,jn.attempt=Xa,jn.camelCase=Ba,jn.capitalize=Va,jn.ceil=bc,jn.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=ha(n))==n?n:0),t!==o&&(t=(t=ha(t))==t?t:0),ir(ha(e),t,n)},jn.clone=function(e){return sr(e,4)},jn.cloneDeep=function(e){return sr(e,5)},jn.cloneDeepWith=function(e,t){return sr(e,5,t="function"==typeof t?t:o)},jn.cloneWith=function(e,t){return sr(e,4,t="function"==typeof t?t:o)},jn.conformsTo=function(e,t){return null==t||ar(e,t,Pa(t))},jn.deburr=qa,jn.defaultTo=function(e,t){return null==e||e!=e?t:e},jn.divide=yc,jn.endsWith=function(e,t,n){e=ma(e),t=so(t);var r=e.length,i=n=n===o?r:ir(fa(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},jn.eq=Fs,jn.escape=function(e){return(e=ma(e))&&z.test(e)?e.replace(J,tn):e},jn.escapeRegExp=function(e){return(e=ma(e))&&ne.test(e)?e.replace(te,"\\$&"):e},jn.every=function(e,t,n){var r=Ys(e)?It:pr;return n&&mi(e,t,n)&&(t=o),r(e,si(t,3))},jn.find=hs,jn.findIndex=qi,jn.findKey=function(e,t){return Mt(e,si(t,3),br)},jn.findLast=vs,jn.findLastIndex=Yi,jn.findLastKey=function(e,t){return Mt(e,si(t,3),yr)},jn.floor=Ec,jn.forEach=ms,jn.forEachRight=bs,jn.forIn=function(e,t){return null==e?e:vr(e,si(t,3),Ca)},jn.forInRight=function(e,t){return null==e?e:mr(e,si(t,3),Ca)},jn.forOwn=function(e,t){return e&&br(e,si(t,3))},jn.forOwnRight=function(e,t){return e&&yr(e,si(t,3))},jn.get=Oa,jn.gt=Bs,jn.gte=Vs,jn.has=function(e,t){return null!=e&&fi(e,t,Or)},jn.hasIn=wa,jn.head=Gi,jn.identity=nc,jn.includes=function(e,t,n,r){e=Gs(e)?e:Fa(e),n=n&&!r?fa(n):0;var o=e.length;return n<0&&(n=vn(o+n,0)),sa(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Ft(e,t,n)>-1},jn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:fa(n);return o<0&&(o=vn(r+o,0)),Ft(e,t,o)},jn.inRange=function(e,t,n){return t=pa(t),n===o?(n=t,t=0):n=pa(n),function(e,t,n){return e>=mn(t,n)&&e<vn(t,n)}(e=ha(e),t,n)},jn.invoke=Ra,jn.isArguments=qs,jn.isArray=Ys,jn.isArrayBuffer=Ws,jn.isArrayLike=Gs,jn.isArrayLikeObject=Js,jn.isBoolean=function(e){return!0===e||!1===e||ea(e)&&_r(e)==m},jn.isBuffer=Hs,jn.isDate=zs,jn.isElement=function(e){return ea(e)&&1===e.nodeType&&!ra(e)},jn.isEmpty=function(e){if(null==e)return!0;if(Gs(e)&&(Ys(e)||"string"==typeof e||"function"==typeof e.splice||Hs(e)||ca(e)||qs(e)))return!e.length;var t=pi(e);if(t==T||t==I)return!e.size;if(Si(e))return!Dr(e).length;for(var n in e)if(Ae.call(e,n))return!1;return!0},jn.isEqual=function(e,t){return Pr(e,t)},jn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Pr(e,t,o,n):!!r},jn.isError=$s,jn.isFinite=function(e){return"number"==typeof e&&Ut(e)},jn.isFunction=Ks,jn.isInteger=Xs,jn.isLength=Qs,jn.isMap=ta,jn.isMatch=function(e,t){return e===t||Cr(e,t,ci(t))},jn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Cr(e,t,ci(t),n)},jn.isNaN=function(e){return na(e)&&e!=+e},jn.isNative=function(e){if(Ei(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nr(e)},jn.isNil=function(e){return null==e},jn.isNull=function(e){return null===e},jn.isNumber=na,jn.isObject=Zs,jn.isObjectLike=ea,jn.isPlainObject=ra,jn.isRegExp=oa,jn.isSafeInteger=function(e){return Xs(e)&&e>=-9007199254740991&&e<=d},jn.isSet=ia,jn.isString=sa,jn.isSymbol=aa,jn.isTypedArray=ca,jn.isUndefined=function(e){return e===o},jn.isWeakMap=function(e){return ea(e)&&pi(e)==P},jn.isWeakSet=function(e){return ea(e)&&"[object WeakSet]"==_r(e)},jn.join=function(e,t){return null==e?"":Wt.call(e,t)},jn.kebabCase=Ya,jn.last=$i,jn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=fa(n))<0?vn(r+i,0):mn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):jt(e,Vt,i,!0)},jn.lowerCase=Wa,jn.lowerFirst=Ga,jn.lt=la,jn.lte=ua,jn.max=function(e){return e&&e.length?fr(e,nc,xr):o},jn.maxBy=function(e,t){return e&&e.length?fr(e,si(t,2),xr):o},jn.mean=function(e){return qt(e,nc)},jn.meanBy=function(e,t){return qt(e,si(t,2))},jn.min=function(e){return e&&e.length?fr(e,nc,Lr):o},jn.minBy=function(e,t){return e&&e.length?fr(e,si(t,2),Lr):o},jn.stubArray=gc,jn.stubFalse=hc,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=Sc,jn.nth=function(e,t){return e&&e.length?Br(e,fa(t)):o},jn.noConflict=function(){return dt._===this&&(dt._=je),this},jn.noop=ac,jn.now=Os,jn.pad=function(e,t,n){e=ma(e);var r=(t=fa(t))?un(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return qo(ft(o),n)+e+qo(pt(o),n)},jn.padEnd=function(e,t,n){e=ma(e);var r=(t=fa(t))?un(e):0;return t&&r<t?e+qo(t-r,n):e},jn.padStart=function(e,t,n){e=ma(e);var r=(t=fa(t))?un(e):0;return t&&r<t?qo(t-r,n)+e:e},jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),yn(ma(e).replace(re,""),t||0)},jn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&mi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=pa(e),t===o?(t=e,e=0):t=pa(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=En();return mn(e+i*(t-e+at("1e-"+((i+"").length-1))),t)}return Gr(e,t)},jn.reduce=function(e,t,n){var r=Ys(e)?At:Gt,o=arguments.length<3;return r(e,si(t,4),n,o,ur)},jn.reduceRight=function(e,t,n){var r=Ys(e)?Dt:Gt,o=arguments.length<3;return r(e,si(t,4),n,o,dr)},jn.repeat=function(e,t,n){return t=(n?mi(e,t,n):t===o)?1:fa(t),Jr(ma(e),t)},jn.replace=function(){var e=arguments,t=ma(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jn.result=function(e,t,n){var r=-1,i=(t=mo(t,e)).length;for(i||(i=1,e=o);++r<i;){var s=null==e?o:e[Ui(t[r])];s===o&&(r=i,s=n),e=Ks(s)?s.call(e):s}return e},jn.round=Tc,jn.runInContext=e,jn.sample=function(e){return(Ys(e)?$n:zr)(e)},jn.size=function(e){if(null==e)return 0;if(Gs(e))return sa(e)?un(e):e.length;var t=pi(e);return t==T||t==I?e.size:Dr(e).length},jn.snakeCase=Ja,jn.some=function(e,t,n){var r=Ys(e)?Lt:to;return n&&mi(e,t,n)&&(t=o),r(e,si(t,3))},jn.sortedIndex=function(e,t){return no(e,t)},jn.sortedIndexBy=function(e,t,n){return ro(e,t,si(n,2))},jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=no(e,t);if(r<n&&Fs(e[r],t))return r}return-1},jn.sortedLastIndex=function(e,t){return no(e,t,!0)},jn.sortedLastIndexBy=function(e,t,n){return ro(e,t,si(n,2),!0)},jn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=no(e,t,!0)-1;if(Fs(e[n],t))return n}return-1},jn.startCase=Ha,jn.startsWith=function(e,t,n){return e=ma(e),n=null==n?0:ir(fa(n),0,e.length),t=so(t),e.slice(n,n+t.length)==t},jn.subtract=_c,jn.sum=function(e){return e&&e.length?Jt(e,nc):0},jn.sumBy=function(e,t){return e&&e.length?Jt(e,si(t,2)):0},jn.template=function(e,t,n){var r=jn.templateSettings;n&&mi(e,t,n)&&(t=o),e=ma(e),t=Ea({},t,r,Ko);var i,s,a=Ea({},t.imports,r.imports,Ko),c=Pa(a),l=Kt(a,c),u=0,d=t.interpolate||ye,p="__p += '",f=Oe((t.escape||ye).source+"|"+d.source+"|"+(d===X?de:ye).source+"|"+(t.evaluate||ye).source+"|$","g"),g="//# sourceURL="+(Ae.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(f,(function(t,n,r,o,a,c){return r||(r=o),p+=e.slice(u,c).replace(Ee,nn),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),p+="';\n";var h=Ae.call(t,"variable")&&t.variable;if(h){if(le.test(h))throw new Se("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(s?p.replace(q,""):p).replace(Y,"$1").replace(W,"$1;"),p="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Xa((function(){return Te(c,g+"return "+p).apply(o,l)}));if(v.source=p,$s(v))throw v;return v},jn.times=function(e,t){if((e=fa(e))<1||e>d)return[];var n=f,r=mn(e,f);t=si(t),e-=f;for(var o=Ht(r,t);++n<e;)t(n);return o},jn.toFinite=pa,jn.toInteger=fa,jn.toLength=ga,jn.toLower=function(e){return ma(e).toLowerCase()},jn.toNumber=ha,jn.toSafeInteger=function(e){return e?ir(fa(e),-9007199254740991,d):0===e?e:0},jn.toString=ma,jn.toUpper=function(e){return ma(e).toUpperCase()},jn.trim=function(e,t,n){if((e=ma(e))&&(n||t===o))return zt(e);if(!e||!(t=so(t)))return e;var r=dn(e),i=dn(t);return yo(r,Qt(r,i),Zt(r,i)+1).join("")},jn.trimEnd=function(e,t,n){if((e=ma(e))&&(n||t===o))return e.slice(0,pn(e)+1);if(!e||!(t=so(t)))return e;var r=dn(e);return yo(r,0,Zt(r,dn(t))+1).join("")},jn.trimStart=function(e,t,n){if((e=ma(e))&&(n||t===o))return e.replace(re,"");if(!e||!(t=so(t)))return e;var r=dn(e);return yo(r,Qt(r,dn(t))).join("")},jn.truncate=function(e,t){var n=30,r="...";if(Zs(t)){var i="separator"in t?t.separator:i;n="length"in t?fa(t.length):n,r="omission"in t?so(t.omission):r}var s=(e=ma(e)).length;if(rn(e)){var a=dn(e);s=a.length}if(n>=s)return e;var c=n-un(r);if(c<1)return r;var l=a?yo(a,0,c).join(""):e.slice(0,c);if(i===o)return l+r;if(a&&(c+=l.length-c),oa(i)){if(e.slice(c).search(i)){var u,d=l;for(i.global||(i=Oe(i.source,ma(pe.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var p=u.index;l=l.slice(0,p===o?c:p)}}else if(e.indexOf(so(i),c)!=c){var f=l.lastIndexOf(i);f>-1&&(l=l.slice(0,f))}return l+r},jn.unescape=function(e){return(e=ma(e))&&H.test(e)?e.replace(G,fn):e},jn.uniqueId=function(e){var t=++De;return ma(e)+t},jn.upperCase=za,jn.upperFirst=$a,jn.each=ms,jn.eachRight=bs,jn.first=Gi,sc(jn,(vc={},br(jn,(function(e,t){Ae.call(jn.prototype,t)||(vc[t]=e)})),vc),{chain:!1}),jn.VERSION="4.17.21",Ot(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jn[e].placeholder=jn})),Ot(["drop","take"],(function(e,t){qn.prototype[e]=function(n){n=n===o?1:vn(fa(n),0);var r=this.__filtered__&&!t?new qn(this):this.clone();return r.__filtered__?r.__takeCount__=mn(n,r.__takeCount__):r.__views__.push({size:mn(n,f),type:e+(r.__dir__<0?"Right":"")}),r},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ot(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:si(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ot(["head","last"],(function(e,t){var n="take"+(t?"Right":"");qn.prototype[e]=function(){return this[n](1).value()[0]}})),Ot(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");qn.prototype[e]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(nc)},qn.prototype.find=function(e){return this.filter(e).head()},qn.prototype.findLast=function(e){return this.reverse().find(e)},qn.prototype.invokeMap=Hr((function(e,t){return"function"==typeof e?new qn(this):this.map((function(n){return kr(n,e,t)}))})),qn.prototype.reject=function(e){return this.filter(Ds(si(e)))},qn.prototype.slice=function(e,t){e=fa(e);var n=this;return n.__filtered__&&(e>0||t<0)?new qn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=fa(t))<0?n.dropRight(-t):n.take(t-e)),n)},qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qn.prototype.toArray=function(){return this.take(f)},br(qn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=jn[r?"take"+("last"==t?"Right":""):t],s=r||/^find/.test(t);i&&(jn.prototype[t]=function(){var t=this.__wrapped__,a=r?[1]:arguments,c=t instanceof qn,l=a[0],u=c||Ys(t),d=function(e){var t=i.apply(jn,Nt([e],a));return r&&p?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var p=this.__chain__,f=!!this.__actions__.length,g=s&&!p,h=c&&!f;if(!s&&u){t=h?t:new qn(this);var v=e.apply(t,a);return v.__actions__.push({func:ps,args:[d],thisArg:o}),new Vn(v,p)}return g&&h?e.apply(this,a):(v=this.thru(d),g?r?v.value()[0]:v.value():v)})})),Ot(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ke[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);jn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ys(o)?o:[],e)}return this[n]((function(n){return t.apply(Ys(n)?n:[],e)}))}})),br(qn.prototype,(function(e,t){var n=jn[t];if(n){var r=n.name+"";Ae.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:t,func:n})}})),Rn[jo(o,2).name]=[{name:"wrapper",func:o}],qn.prototype.clone=function(){var e=new qn(this.__wrapped__);return e.__actions__=Io(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Io(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Io(this.__views__),e},qn.prototype.reverse=function(){if(this.__filtered__){var e=new qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ys(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],s=i.size;switch(i.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=mn(t,e+s);break;case"takeRight":e=vn(e,t-s)}}return{start:e,end:t}}(0,o,this.__views__),s=i.start,a=i.end,c=a-s,l=r?a:s-1,u=this.__iteratees__,d=u.length,p=0,f=mn(c,this.__takeCount__);if(!n||!r&&o==c&&f==c)return po(e,this.__actions__);var g=[];e:for(;c--&&p<f;){for(var h=-1,v=e[l+=t];++h<d;){var m=u[h],b=m.iteratee,y=m.type,E=b(v);if(2==y)v=E;else if(!E){if(1==y)continue e;break e}}g[p++]=v}return g},jn.prototype.at=fs,jn.prototype.chain=function(){return ds(this)},jn.prototype.commit=function(){return new Vn(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===o&&(this.__values__=da(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},jn.prototype.plant=function(e){for(var t,n=this;n instanceof Bn;){var r=ji(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},jn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var t=e;return this.__actions__.length&&(t=new qn(this)),(t=t.reverse()).__actions__.push({func:ps,args:[Zi],thisArg:o}),new Vn(t,this.__chain__)}return this.thru(Zi)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return po(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,$e&&(jn.prototype[$e]=function(){return this}),jn}();dt._=gn,(r=function(){return gn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},8234:(e,t,n)=>{"use strict";e.exports=n(4728)},4728:(e,t,n)=>{"use strict";var r=t;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(4243),r.BufferWriter=n(3664),r.Reader=n(2148),r.BufferReader=n(2759),r.util=n(5190),r.rpc=n(7562),r.roots=n(9981),r.configure=o,o()},2148:(e,t,n)=>{"use strict";e.exports=c;var r,o=n(5190),i=o.LongBits,s=o.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},d=function(){return o.Buffer?function(e){return(c.create=function(e){return o.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function p(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function g(){if(this.pos+8>this.len)throw a(this,8);return new i(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=d(),r._configure();var t=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return g.call(this)[t](!0)},sfixed64:function(){return g.call(this)[t](!1)}})}},2759:(e,t,n)=>{"use strict";e.exports=i;var r=n(2148);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(5190);function i(e){r.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},9981:e=>{"use strict";e.exports={}},7562:(e,t,n)=>{"use strict";t.Service=n(3576)},3576:(e,t,n)=>{"use strict";e.exports=o;var r=n(5190);function o(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,n,o,i,s){if(!i)throw TypeError("request must be specified");var a=this;if(!s)return r.asPromise(e,a,t,n,o,i);if(a.rpcImpl)try{return a.rpcImpl(t,n[a.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return a.emit("error",e,t),s(e);if(null!==n){if(!(n instanceof o))try{n=o[a.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",n,t),s(null,n)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},8620:(e,t,n)=>{"use strict";e.exports=o;var r=n(5190);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var s=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(r.isString(e)){if(!r.Long)return o.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;o.fromHash=function(e){return e===s?i:new o((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},5190:function(e,t,n){"use strict";var r=t;function o(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;++o)void 0!==e[r[o]]&&n||(e[r[o]]=t[r[o]]);return e}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}r.asPromise=n(6770),r.base64=n(7472),r.EventEmitter=n(2620),r.float=n(7673),r.inquire=n(5947),r.utf8=n(9244),r.pool=n(7009),r.LongBits=n(8620),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=o,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},4243:(e,t,n)=>{"use strict";e.exports=d;var r,o=n(5190),i=o.LongBits,s=o.base64,a=o.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var p=function(){return o.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function f(e,t,n){t[n]=255&e}function g(e,t){this.len=e,this.next=void 0,this.val=t}function h(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function v(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=p(),d.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(d.alloc=o.pool(d.alloc,o.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},g.prototype=Object.create(c.prototype),g.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new g((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(h,10,i.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=i.from(e);return this._push(h,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(h,t.length(),t)},d.prototype.bool=function(e){return this._push(f,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(v,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=i.from(e);return this._push(v,4,t.lo)._push(v,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var m=o.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(o.isString(e)){var n=d.alloc(t=s.length(e));s.decode(e,n,0),e=n}return this.uint32(t)._push(m,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(f,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=p(),r._configure()}},3664:(e,t,n)=>{"use strict";e.exports=i;var r=n(4243);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(5190);function i(){r.call(this)}function s(e,t,n){e.length<40?o.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},i._configure()},2291:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DispatchError=void 0;class n extends Error{constructor(e){super(e)}}t.DispatchError=n},5642:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionChangeEventDispatcher=t.DispatcherBase=void 0;const r=n(3788),o=n(5504),i=n(1295);class s{constructor(){this._subscriptions=new Array}get count(){return this._subscriptions.length}get onSubscriptionChange(){return null==this._onSubscriptionChange&&(this._onSubscriptionChange=new a),this._onSubscriptionChange.asEvent()}subscribe(e){return e&&(this._subscriptions.push(this.createSubscription(e,!1)),this.triggerSubscriptionChange()),()=>{this.unsubscribe(e)}}sub(e){return this.subscribe(e)}one(e){return e&&(this._subscriptions.push(this.createSubscription(e,!0)),this.triggerSubscriptionChange()),()=>{this.unsubscribe(e)}}has(e){return!!e&&this._subscriptions.some((t=>t.handler==e))}unsubscribe(e){if(!e)return;let t=!1;for(let n=0;n<this._subscriptions.length;n++)if(this._subscriptions[n].handler==e){this._subscriptions.splice(n,1),t=!0;break}t&&this.triggerSubscriptionChange()}unsub(e){this.unsubscribe(e)}_dispatch(e,t,n){for(let r of[...this._subscriptions]){let o=new i.EventManagement((()=>this.unsub(r.handler))),s=Array.prototype.slice.call(n);if(s.push(o),r.execute(e,t,s),this.cleanup(r),!e&&o.propagationStopped)return{propagationStopped:!0}}return e?null:{propagationStopped:!1}}createSubscription(e,t){return new o.Subscription(e,t)}cleanup(e){let t=!1;if(e.isOnce&&e.isExecuted){let n=this._subscriptions.indexOf(e);n>-1&&(this._subscriptions.splice(n,1),t=!0)}t&&this.triggerSubscriptionChange()}asEvent(){return null==this._wrap&&(this._wrap=new r.DispatcherWrapper(this)),this._wrap}clear(){0!=this._subscriptions.length&&(this._subscriptions.splice(0,this._subscriptions.length),this.triggerSubscriptionChange())}triggerSubscriptionChange(){null!=this._onSubscriptionChange&&this._onSubscriptionChange.dispatch(this.count)}}t.DispatcherBase=s;class a extends s{dispatch(e){this._dispatch(!1,this,arguments)}}t.SubscriptionChangeEventDispatcher=a},3788:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DispatcherWrapper=void 0,t.DispatcherWrapper=class{constructor(e){this._subscribe=t=>e.subscribe(t),this._unsubscribe=t=>e.unsubscribe(t),this._one=t=>e.one(t),this._has=t=>e.has(t),this._clear=()=>e.clear(),this._count=()=>e.count,this._onSubscriptionChange=()=>e.onSubscriptionChange}get onSubscriptionChange(){return this._onSubscriptionChange()}get count(){return this._count()}subscribe(e){return this._subscribe(e)}sub(e){return this.subscribe(e)}unsubscribe(e){this._unsubscribe(e)}unsub(e){this.unsubscribe(e)}one(e){return this._one(e)}has(e){return this._has(e)}clear(){this._clear()}}},9852:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventListBase=void 0,t.EventListBase=class{constructor(){this._events={}}get(e){let t=this._events[e];return t||(t=this.createDispatcher(),this._events[e]=t,t)}remove(e){delete this._events[e]}}},4606:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseDispatcherBase=void 0;const r=n(7379),o=n(1295),i=n(5642),s=n(2291);class a extends i.DispatcherBase{_dispatch(e,t,n){throw new s.DispatchError("_dispatch not supported. Use _dispatchAsPromise.")}createSubscription(e,t){return new r.PromiseSubscription(e,t)}async _dispatchAsPromise(e,t,n){for(let r of[...this._subscriptions]){let i=new o.EventManagement((()=>this.unsub(r.handler))),s=Array.prototype.slice.call(n);s.push(i);let a=r;if(await a.execute(e,t,s),this.cleanup(r),!e&&i.propagationStopped)return{propagationStopped:!0}}return e?null:{propagationStopped:!1}}}t.PromiseDispatcherBase=a},7379:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseSubscription=void 0,t.PromiseSubscription=class{constructor(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}async execute(e,t,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;if(e)return void setTimeout((()=>{r.apply(t,n)}),1);let o=r.apply(t,n);await o}}}},5504:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subscription=void 0,t.Subscription=class{constructor(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}execute(e,t,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;e?setTimeout((()=>{r.apply(t,n)}),1):r.apply(t,n)}}}},9317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandlingBase=void 0,t.HandlingBase=class{constructor(e){this.events=e}one(e,t){this.events.get(e).one(t)}has(e,t){return this.events.get(e).has(t)}subscribe(e,t){this.events.get(e).subscribe(t)}sub(e,t){this.subscribe(e,t)}unsubscribe(e,t){this.events.get(e).unsubscribe(t)}unsub(e,t){this.unsubscribe(e,t)}}},9995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionChangeEventDispatcher=t.HandlingBase=t.PromiseDispatcherBase=t.PromiseSubscription=t.DispatchError=t.EventManagement=t.EventListBase=t.DispatcherWrapper=t.DispatcherBase=t.Subscription=void 0;const r=n(5642);Object.defineProperty(t,"DispatcherBase",{enumerable:!0,get:function(){return r.DispatcherBase}}),Object.defineProperty(t,"SubscriptionChangeEventDispatcher",{enumerable:!0,get:function(){return r.SubscriptionChangeEventDispatcher}});const o=n(2291);Object.defineProperty(t,"DispatchError",{enumerable:!0,get:function(){return o.DispatchError}});const i=n(3788);Object.defineProperty(t,"DispatcherWrapper",{enumerable:!0,get:function(){return i.DispatcherWrapper}});const s=n(9852);Object.defineProperty(t,"EventListBase",{enumerable:!0,get:function(){return s.EventListBase}});const a=n(1295);Object.defineProperty(t,"EventManagement",{enumerable:!0,get:function(){return a.EventManagement}});const c=n(9317);Object.defineProperty(t,"HandlingBase",{enumerable:!0,get:function(){return c.HandlingBase}});const l=n(4606);Object.defineProperty(t,"PromiseDispatcherBase",{enumerable:!0,get:function(){return l.PromiseDispatcherBase}});const u=n(7379);Object.defineProperty(t,"PromiseSubscription",{enumerable:!0,get:function(){return u.PromiseSubscription}});const d=n(5504);Object.defineProperty(t,"Subscription",{enumerable:!0,get:function(){return d.Subscription}})},1295:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventManagement=void 0,t.EventManagement=class{constructor(e){this.unsub=e,this.propagationStopped=!1}stopPropagation(){this.propagationStopped=!0}}},6805:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventDispatcher=void 0;const r=n(9995);class o extends r.DispatcherBase{constructor(){super()}dispatch(e,t){const n=this._dispatch(!1,this,arguments);if(null==n)throw new r.DispatchError("Got `null` back from dispatch.");return n}dispatchAsync(e,t){this._dispatch(!0,this,arguments)}asEvent(){return super.asEvent()}}t.EventDispatcher=o},4067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventHandlingBase=void 0;const r=n(9995),o=n(8135);class i extends r.HandlingBase{constructor(){super(new o.EventList)}}t.EventHandlingBase=i},8135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventList=void 0;const r=n(9995),o=n(6805);class i extends r.EventListBase{constructor(){super()}createDispatcher(){return new o.EventDispatcher}}t.EventList=i},2870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonUniformEventList=void 0;const r=n(6805);t.NonUniformEventList=class{constructor(){this._events={}}get(e){if(this._events[e])return this._events[e];const t=this.createDispatcher();return this._events[e]=t,t}remove(e){delete this._events[e]}createDispatcher(){return new r.EventDispatcher}}},7717:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonUniformEventList=t.EventList=t.EventHandlingBase=t.EventDispatcher=void 0;const r=n(6805);Object.defineProperty(t,"EventDispatcher",{enumerable:!0,get:function(){return r.EventDispatcher}});const o=n(4067);Object.defineProperty(t,"EventHandlingBase",{enumerable:!0,get:function(){return o.EventHandlingBase}});const i=n(8135);Object.defineProperty(t,"EventList",{enumerable:!0,get:function(){return i.EventList}});const s=n(2870);Object.defineProperty(t,"NonUniformEventList",{enumerable:!0,get:function(){return s.NonUniformEventList}})},8098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonUniformPromiseEventList=void 0;const r=n(9564);t.NonUniformPromiseEventList=class{constructor(){this._events={}}get(e){if(this._events[e])return this._events[e];const t=this.createDispatcher();return this._events[e]=t,t}remove(e){delete this._events[e]}createDispatcher(){return new r.PromiseEventDispatcher}}},9564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseEventDispatcher=void 0;const r=n(9995);class o extends r.PromiseDispatcherBase{constructor(){super()}async dispatch(e,t){const n=await this._dispatchAsPromise(!1,this,arguments);if(null==n)throw new r.DispatchError("Got `null` back from dispatch.");return n}dispatchAsync(e,t){this._dispatchAsPromise(!0,this,arguments)}asEvent(){return super.asEvent()}}t.PromiseEventDispatcher=o},2876:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseEventHandlingBase=void 0;const r=n(9995),o=n(600);class i extends r.HandlingBase{constructor(){super(new o.PromiseEventList)}}t.PromiseEventHandlingBase=i},600:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseEventList=void 0;const r=n(9995),o=n(9564);class i extends r.EventListBase{constructor(){super()}createDispatcher(){return new o.PromiseEventDispatcher}}t.PromiseEventList=i},9722:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonUniformPromiseEventList=t.PromiseEventList=t.PromiseEventHandlingBase=t.PromiseEventDispatcher=void 0;const r=n(9564);Object.defineProperty(t,"PromiseEventDispatcher",{enumerable:!0,get:function(){return r.PromiseEventDispatcher}});const o=n(2876);Object.defineProperty(t,"PromiseEventHandlingBase",{enumerable:!0,get:function(){return o.PromiseEventHandlingBase}});const i=n(600);Object.defineProperty(t,"PromiseEventList",{enumerable:!0,get:function(){return i.PromiseEventList}});const s=n(8098);Object.defineProperty(t,"NonUniformPromiseEventList",{enumerable:!0,get:function(){return s.NonUniformPromiseEventList}})},576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseSignalDispatcher=void 0;const r=n(9995);class o extends r.PromiseDispatcherBase{constructor(){super()}async dispatch(){const e=await this._dispatchAsPromise(!1,this,arguments);if(null==e)throw new r.DispatchError("Got `null` back from dispatch.");return e}dispatchAsync(){this._dispatchAsPromise(!0,this,arguments)}asEvent(){return super.asEvent()}}t.PromiseSignalDispatcher=o},741:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseSignalHandlingBase=void 0;const r=n(9995),o=n(5967);class i extends r.HandlingBase{constructor(){super(new o.PromiseSignalList)}}t.PromiseSignalHandlingBase=i},5967:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseSignalList=void 0;const r=n(9995),o=n(576);class i extends r.EventListBase{constructor(){super()}createDispatcher(){return new o.PromiseSignalDispatcher}}t.PromiseSignalList=i},3938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseSignalList=t.PromiseSignalHandlingBase=t.PromiseSignalDispatcher=void 0;const r=n(576);Object.defineProperty(t,"PromiseSignalDispatcher",{enumerable:!0,get:function(){return r.PromiseSignalDispatcher}});const o=n(741);Object.defineProperty(t,"PromiseSignalHandlingBase",{enumerable:!0,get:function(){return o.PromiseSignalHandlingBase}});const i=n(5967);Object.defineProperty(t,"PromiseSignalList",{enumerable:!0,get:function(){return i.PromiseSignalList}})},104:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonUniformPromiseSimpleEventList=void 0;const r=n(8774);t.NonUniformPromiseSimpleEventList=class{constructor(){this._events={}}get(e){if(this._events[e])return this._events[e];const t=this.createDispatcher();return this._events[e]=t,t}remove(e){delete this._events[e]}createDispatcher(){return new r.PromiseSimpleEventDispatcher}}},8774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseSimpleEventDispatcher=void 0;const r=n(9995);class o extends r.PromiseDispatcherBase{constructor(){super()}async dispatch(e){const t=await this._dispatchAsPromise(!1,this,arguments);if(null==t)throw new r.DispatchError("Got `null` back from dispatch.");return t}dispatchAsync(e){this._dispatchAsPromise(!0,this,arguments)}asEvent(){return super.asEvent()}}t.PromiseSimpleEventDispatcher=o},1909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseSimpleEventHandlingBase=void 0;const r=n(9995),o=n(9405);class i extends r.HandlingBase{constructor(){super(new o.PromiseSimpleEventList)}}t.PromiseSimpleEventHandlingBase=i},9405:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromiseSimpleEventList=void 0;const r=n(9995),o=n(8774);class i extends r.EventListBase{constructor(){super()}createDispatcher(){return new o.PromiseSimpleEventDispatcher}}t.PromiseSimpleEventList=i},4529:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonUniformPromiseSimpleEventList=t.PromiseSimpleEventList=t.PromiseSimpleEventHandlingBase=t.PromiseSimpleEventDispatcher=void 0;const r=n(104);Object.defineProperty(t,"NonUniformPromiseSimpleEventList",{enumerable:!0,get:function(){return r.NonUniformPromiseSimpleEventList}});const o=n(8774);Object.defineProperty(t,"PromiseSimpleEventDispatcher",{enumerable:!0,get:function(){return o.PromiseSimpleEventDispatcher}});const i=n(1909);Object.defineProperty(t,"PromiseSimpleEventHandlingBase",{enumerable:!0,get:function(){return i.PromiseSimpleEventHandlingBase}});const s=n(9405);Object.defineProperty(t,"PromiseSimpleEventList",{enumerable:!0,get:function(){return s.PromiseSimpleEventList}})},9772:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalDispatcher=void 0;const r=n(9995);class o extends r.DispatcherBase{dispatch(){const e=this._dispatch(!1,this,arguments);if(null==e)throw new r.DispatchError("Got `null` back from dispatch.");return e}dispatchAsync(){this._dispatch(!0,this,arguments)}asEvent(){return super.asEvent()}}t.SignalDispatcher=o},8741:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalHandlingBase=void 0;const r=n(9995),o=n(7648);class i extends r.HandlingBase{constructor(){super(new o.SignalList)}}t.SignalHandlingBase=i},7648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalList=void 0;const r=n(9995),o=n(9772);class i extends r.EventListBase{constructor(){super()}createDispatcher(){return new o.SignalDispatcher}}t.SignalList=i},7165:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalList=t.SignalHandlingBase=t.SignalDispatcher=void 0;const r=n(9772);Object.defineProperty(t,"SignalDispatcher",{enumerable:!0,get:function(){return r.SignalDispatcher}});const o=n(8741);Object.defineProperty(t,"SignalHandlingBase",{enumerable:!0,get:function(){return o.SignalHandlingBase}});const i=n(7648);Object.defineProperty(t,"SignalList",{enumerable:!0,get:function(){return i.SignalList}})},9063:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonUniformSimpleEventList=void 0;const r=n(4233);t.NonUniformSimpleEventList=class{constructor(){this._events={}}get(e){if(this._events[e])return this._events[e];const t=this.createDispatcher();return this._events[e]=t,t}remove(e){delete this._events[e]}createDispatcher(){return new r.SimpleEventDispatcher}}},4233:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleEventDispatcher=void 0;const r=n(9995);class o extends r.DispatcherBase{constructor(){super()}dispatch(e){const t=this._dispatch(!1,this,arguments);if(null==t)throw new r.DispatchError("Got `null` back from dispatch.");return t}dispatchAsync(e){this._dispatch(!0,this,arguments)}asEvent(){return super.asEvent()}}t.SimpleEventDispatcher=o},9133:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleEventHandlingBase=void 0;const r=n(9995),o=n(3621);class i extends r.HandlingBase{constructor(){super(new o.SimpleEventList)}}t.SimpleEventHandlingBase=i},3621:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleEventList=void 0;const r=n(9995),o=n(4233);class i extends r.EventListBase{constructor(){super()}createDispatcher(){return new o.SimpleEventDispatcher}}t.SimpleEventList=i},1774:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonUniformSimpleEventList=t.SimpleEventList=t.SimpleEventHandlingBase=t.SimpleEventDispatcher=void 0;const r=n(4233);Object.defineProperty(t,"SimpleEventDispatcher",{enumerable:!0,get:function(){return r.SimpleEventDispatcher}});const o=n(9133);Object.defineProperty(t,"SimpleEventHandlingBase",{enumerable:!0,get:function(){return o.SimpleEventHandlingBase}});const i=n(9063);Object.defineProperty(t,"NonUniformSimpleEventList",{enumerable:!0,get:function(){return i.NonUniformSimpleEventList}});const s=n(3621);Object.defineProperty(t,"SimpleEventList",{enumerable:!0,get:function(){return s.SimpleEventList}})},6292:(e,t,n)=>{"use strict";t.FK=void 0;n(9995),n(7717);var r=n(1774);Object.defineProperty(t,"FK",{enumerable:!0,get:function(){return r.SimpleEventDispatcher}});n(7165),n(9722),n(3938),n(4529)},5717:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var r=n(1106);class o{constructor(e,t,n,o=!1){this.name=e,this.callback=t,this.alwaysUseAlarms=o,this.started=!1,this.onAlarm=e=>{e.name===this.name&&(this.callback(),this.delayInMs&&((0,r.q)().alarms.onAlarm.removeListener(this.onAlarm),this.started=!1))},this.callbackOnce=()=>{this.callback(),this.started=!1},this.intervalInMs=n.intervalInMs,this.delayInMs=n.delayInMs}start(){this.isStarted()||(this.isUsingAlarm()?this.startAlarm():this.startTimer(),this.started=!0)}startTimer(){void 0!==this.delayInMs?this.timerId=setTimeout(this.callbackOnce,this.delayInMs):void 0!==this.intervalInMs&&(this.timerId=setInterval(this.callback,this.intervalInMs))}stopTimer(){this.timerId&&(clearInterval(this.timerId),clearTimeout(this.timerId))}startAlarm(){(0,r.q)().alarms.onAlarm.addListener(this.onAlarm),(0,r.q)().alarms.create(this.name,{periodInMinutes:this.intervalInMinutes,delayInMinutes:this.delayInMinutes})}stopAlarm(){(0,r.q)().alarms.clear(this.name),(0,r.q)().alarms.onAlarm.removeListener(this.onAlarm)}stop(){this.isStarted()&&(this.isUsingAlarm()?this.stopAlarm():this.stopTimer(),this.started=!1)}isStarted(){return this.started}isIntervalInMinutes(){var e;return this.intervalInMinutes&&(null!==(e=this.intervalInMs)&&void 0!==e?e:0)%6e4==0}isDelayInMinutes(){var e;return this.delayInMinutes&&(null!==(e=this.delayInMs)&&void 0!==e?e:0)%6e4==0}get intervalInMinutes(){return this.intervalInMs?Math.ceil(this.intervalInMs/6e4):void 0}get delayInMinutes(){return this.delayInMs?Math.ceil(this.delayInMs/6e4):void 0}isUsingAlarm(){return this.isIntervalInMinutes()||this.isDelayInMinutes()||this.alwaysUseAlarms}}},9867:(e,t,n)=>{"use strict";n.d(t,{i:()=>c});var r=n(6292),o=n(1106),i=n(27),s=n(5717),a=n(5976);class c{constructor(e,t=!0,n=2e4,o=(0,i.j)("NativeConnection")){this.nativeHostId=e,this.autoReconnect=t,this.autoReconnectIntervalMs=n,this.logger=o,this.isConnectedEvent=new r.FK,this.isCurrentlyConnected=!1,this.onMessageReceivedEvent=new r.FK,this.isInARetryLoop=!1,this.pendingMessagesQueue=[]}get isConnected(){return this.isCurrentlyConnected}connect(){void 0===this.port&&(this.port=(0,o.q)().runtime.connectNative(this.nativeHostId),this.port.onMessage.addListener((e=>this.messageHandler(e))),this.port.onDisconnect.addListener((()=>this.disconnectHandler())))}disconnect(){if(this.port){try{this.port.disconnect()}catch{}delete this.port}this.notifyConnectionStatusChanged(!1)}onConnectionStatusChanged(){return this.isConnectedEvent.asEvent()}sendToHostApp(e,t=-1){if(this.port)try{this.port.postMessage(e)}catch(n){this.queueMessage(e,t),this.disconnect(),this.logger.warn("Failed to send message. Disconnecting",e,n),this.retryReconnection()}else this.queueMessage(e,t)}sendToExtension(e){this.messageHandler(e)}onMessageReceived(){return this.onMessageReceivedEvent.asEvent()}queueMessage(e,t){const n={data:e,timestamp:-1===t?a.X.now():t};if(this.pendingMessagesQueue.length>=5){if(n.timestamp<this.pendingMessagesQueue[0].timestamp)return void this.logger.warn("Dropping current message",n);this.logger.warn("Dropping oldest message",this.pendingMessagesQueue.pop())}this.logger.debug("Queueing message",e),this.pendingMessagesQueue.push(n),this.pendingMessagesQueue.sort(((e,t)=>t.timestamp-e.timestamp))}notifyConnectionStatusChanged(e){this.isCurrentlyConnected!==e&&(this.isCurrentlyConnected=e,e&&this.sendPendingMessages(),this.isConnectedEvent.dispatch(this.isCurrentlyConnected))}sendPendingMessages(){if(!this.isConnected)return;let e=this.pendingMessagesQueue.pop();for(;e&&(this.logger.debug("Sending pending message",e),this.sendToHostApp(e.data),this.isConnected);)e=this.pendingMessagesQueue.pop()}messageHandler(e){this.logger.debug("Received message from HostApp",e,a.X.now()),this.notifyConnectionStatusChanged(!0),this.isInARetryLoop=!1,this.onMessageReceivedEvent.dispatch(e)}disconnectHandler(){var e;if(!this.isInARetryLoop){const t="Native connection disconnected",n=null===(e=(0,o.q)().runtime.lastError)||void 0===e?void 0:e.message;this.logger.error(n?`${t}: ${n}`:`${t}`)}this.disconnect(),this.retryReconnection()}retryReconnection(){this.autoReconnect&&(this.isInARetryLoop=!0,this.logger.debug(`Native connection automatic reconnection in ${this.autoReconnectIntervalMs/1e3} seconds`),new s.j("native-disconnection-handler",(()=>this.connect()),{delayInMs:this.autoReconnectIntervalMs}).start())}}},7842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SimulatedNativeHostConnection:()=>u});var r=n(6292),o=n(27),i=n(1106),s=n(5976),a=n(9867),c=n(4532),l=n(5717);class u extends a.i{constructor(e,t,n=!0,i=2e4,a=-1){super(t,n,i),this.configSource=e,this.nativeHostId=t,this.autoReconnect=n,this.autoReconnectIntervalMs=i,this.downloadLogIntervalMs=a,this.messageReceivedDispatcher=new r.FK,this.connectionStatusChangeDispatcher=new r.FK,this.connectedStatus=!0,this.firstHelloMessage={type:c.v.Hello,hello:{uuid:"simulated-native-connection",device_id:"dev-testing-device-id",user_id:"9999",bsm_version:"22.1.1"}},this.startTime=s.X.now(),this.collectedMessages=[],this.subLogger=(0,o.j)("SimulatedNativeHostConnection"),new l.j("simulated-native-host-connection",(()=>{this.subLogger.debug("Simulate first Hello message",this.firstHelloMessage),this.messageReceivedDispatcher.dispatch(this.firstHelloMessage)}),{delayInMs:0}).start(),a>0&&new l.j("download-log",(()=>{this.downloadMessages().catch(),this.collectedMessages=[]}),{intervalInMs:a}).start()}get isConnected(){return this.connectedStatus}sendToHostApp(e){this.downloadLogIntervalMs>0&&this.collectedMessages.push(e)}sendToExtension(e){this.subLogger.debug("received message from hostapp",e),this.messageReceivedDispatcher.dispatch(e)}connect(){this.connectedStatus=!0,this.connectionStatusChangeDispatcher.dispatch(this.connectedStatus)}disconnect(){this.connectedStatus=!1,this.connectionStatusChangeDispatcher.dispatch(this.connectedStatus)}onConnectionStatusChanged(){return this.connectionStatusChangeDispatcher.asEvent()}onMessageReceived(){return this.messageReceivedDispatcher.asEvent()}async downloadMessages(){try{if(0===this.collectedMessages.length)return;if(!(0,i.q)().downloads)return void this.subLogger.warn("No downloads permission set for simulated collectors, skipped");const e=this.collectedMessages.map((e=>JSON.stringify(e))).join("\n"),t=new Blob([e],{type:"text/plain"}),n=(window.webkitURL||window.URL).createObjectURL(t),r=(new Date).getTime(),o=`extension-log.${this.startTime}.${r}.jsonl`;await(0,i.q)().downloads.download({url:n,filename:o,conflictAction:"uniquify"}),this.subLogger.debug(`Downloaded log to ${o}`)}catch(e){this.subLogger.error("Failed to download message",e)}}}},4532:(e,t,n)=>{"use strict";var r;n.d(t,{v:()=>r}),function(e){e[e.Hello=0]="Hello",e[e.Config=1]="Config",e[e.NetworkInterfaces=2]="NetworkInterfaces",e[e.ConnectionStatus=3]="ConnectionStatus"}(r||(r={}))},1106:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s,q:()=>i});var r=n(2875),o=n.n(r);function i(){var e;return o().action=null!==(e=o().action)&&void 0!==e?e:o().browserAction,o()}const s={Unknown:"Unknown",Chrome:"Google Chrome",Firefox:"Mozilla Firefox",Safari:"Apple Safari",Edge:"Microsoft Edge"}},2121:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(6893);class o{constructor(e,t=r.in.NONE){this.sinkPost=e,this.logLevel=t,this.post=(e,t,n,r,...o)=>{this.sinkPost(e,t,n,r,...o)}}trace(e,t,n,...o){this.shouldReportThisLogLevel(r.in.TRACE)&&this.post(r.in.TRACE,e,t,n,...o)}debug(e,t,n,...o){this.shouldReportThisLogLevel(r.in.DEBUG)&&this.post(r.in.DEBUG,e,t,n,...o)}info(e,t,n,...o){this.shouldReportThisLogLevel(r.in.INFO)&&this.post(r.in.INFO,e,t,n,...o)}warn(e,t,n,...o){this.shouldReportThisLogLevel(r.in.WARN)&&this.post(r.in.WARN,e,t,n,...o)}error(e,t,n,...o){this.shouldReportThisLogLevel(r.in.ERROR)&&this.post(r.in.ERROR,e,t,n,...o)}shouldReportThisLogLevel(e){return this.logLevel.level<=e.level}}},8012:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var r=n(2121),o=n(6893);class i extends r.b{constructor(e){super(((e,t,n,r,...i)=>{e.name!==o.in.NONE.name&&console[e.name](...(0,o.Uo)(e,t,n,r),...i)}),e)}}},5891:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(4738);class o{static addSink(e,t){o.loggerSinkManager.addSink(e,t)}static getSinkManager(){return o.loggerSinkManager}}o.loggerSinkManager=new r.Q},4738:(e,t,n)=>{"use strict";n.d(t,{Q:()=>i,h:()=>r});var r,o=n(6893);!function(e){e[e.Console=0]="Console",e[e.Sentry=1]="Sentry",e[e.BsmLoggerForwarder=2]="BsmLoggerForwarder",e[e.BackgroundLoggerForwarder=3]="BackgroundLoggerForwarder"}(r||(r={}));class i{constructor(){this.sinks=new Map}addSink(e,t){this.sinks.has(e)||this.sinks.set(e,t)}getSink(e){return this.sinks.get(e)}clearSinks(){this.sinks.clear()}executeSinks(e,t,n,r,...i){this.sinks.forEach((s=>{var a,c,l,u,d;switch(e){case o.in.TRACE:null===(a=s.trace)||void 0===a||a.call(s,t,n,r,...i);break;case o.in.DEBUG:null===(c=s.debug)||void 0===c||c.call(s,t,n,r,...i);break;case o.in.INFO:null===(l=s.info)||void 0===l||l.call(s,t,n,r,...i);break;case o.in.WARN:null===(u=s.warn)||void 0===u||u.call(s,t,n,r,...i);break;case o.in.ERROR:null===(d=s.error)||void 0===d||d.call(s,t,n,r,...i)}}))}}},6893:(e,t,n)=>{"use strict";n.d(t,{Uo:()=>i,in:()=>r,pi:()=>s});const r={NONE:{name:"none",level:5},ERROR:{name:"error",level:4},WARN:{name:"warn",level:3},INFO:{name:"info",level:2},DEBUG:{name:"debug",level:1},TRACE:{name:"trace",level:0}},o=()=>(new Date).toISOString();function i(e,t,n,r){const i=`${null!=t?t:""} [${o()}] ${e.name.toUpperCase()} ${null!=n?n:""}:`;return"string"==typeof r?[`${i} ${r}`]:[i,r]}const s=e=>e instanceof Error?JSON.parse(JSON.stringify(e,Object.getOwnPropertyNames(e))):e},27:(e,t,n)=>{"use strict";n.d(t,{U:()=>l,j:()=>c});var r=n(8012),o=n(5891),i=n(6893);class s{constructor(e,t=void 0,n=void 0){this.sinkManager=e,this.loggerName=t,this.correlationId=n}executeSinks(e,t,...n){this.sinkManager.executeSinks(e,this.correlationId,this.loggerName,t,...n)}trace(e,...t){this.executeSinks(i.in.TRACE,e,...t)}debug(e,...t){this.executeSinks(i.in.DEBUG,e,...t)}warn(e,...t){this.executeSinks(i.in.WARN,e,...t)}info(e,...t){this.executeSinks(i.in.INFO,e,...t)}error(e,...t){this.executeSinks(i.in.ERROR,e,...t)}toJSON(){return`${this.loggerName}Logger`}}var a=n(4738);function c(e=void 0,t=void 0){return new s(o.P.getSinkManager(),e,t)}function l(){o.P.addSink(a.h.Console,new r.v(i.in.TRACE))}},5976:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(27);const o=new class{constructor(e=(0,r.j)("Time","NXTK")){this.logger=e,this.origin=performance.timeOrigin,this.offset=0,this.measureDrift=()=>{const e=performance.now(),t=Date.now(),n=performance.now();return t-(this.origin+(e+n)/2)}}now(){return this.origin+this.offset+performance.now()}abs(e){return this.origin+this.offset+e}}},2875:function(e,t){var n,r;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,n=function(e){"use strict";if(!globalThis.chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(void 0===globalThis.browser||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const t="The message port closed before a response was received.",n=e=>{const n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(n).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class r extends WeakMap{constructor(e,t=void 0){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const o=(t,n)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):n.singleCallbackArg||r.length<=1&&!1!==n.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},i=e=>1==e?"argument":"arguments",s=(e,t,n)=>new Proxy(t,{apply:(t,r,o)=>n.call(r,e,...o)});let a=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,t={},n={})=>{let r=Object.create(null),l={has:(t,n)=>n in e||n in r,get(l,u,d){if(u in r)return r[u];if(!(u in e))return;let p=e[u];if("function"==typeof p)if("function"==typeof t[u])p=s(e,e[u],t[u]);else if(a(n,u)){let t=((e,t)=>function(n,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((i,s)=>{if(t.fallbackToNoCallback)try{n[e](...r,o({resolve:i,reject:s},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),n[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,i()}else t.noCallback?(n[e](...r),i()):n[e](...r,o({resolve:i,reject:s},t))}))})(u,n[u]);p=s(e,e[u],t)}else p=p.bind(e);else if("object"==typeof p&&null!==p&&(a(t,u)||a(n,u)))p=c(p,t[u],n[u]);else{if(!a(n,"*"))return Object.defineProperty(r,u,{configurable:!0,enumerable:!0,get:()=>e[u],set(t){e[u]=t}}),p;p=c(p,t[u],n["*"])}return r[u]=p,p},set:(t,n,o,i)=>(n in r?r[n]=o:e[n]=o,!0),defineProperty:(e,t,n)=>Reflect.defineProperty(r,t,n),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},u=Object.create(e);return new Proxy(u,l)},l=e=>({addListener(t,n,...r){t.addListener(e.get(n),...r)},hasListener:(t,n)=>t.hasListener(e.get(n)),removeListener(t,n){t.removeListener(e.get(n))}}),u=new r((e=>"function"!=typeof e?e:function(t){const n=c(t,{},{getContent:{minArgs:0,maxArgs:0}});e(n)})),d=new r((e=>"function"!=typeof e?e:function(t,n,r){let o,i,s=!1,a=new Promise((e=>{o=function(t){s=!0,e(t)}}));try{i=e(t,n,o)}catch(e){i=Promise.reject(e)}const c=!0!==i&&((l=i)&&"object"==typeof l&&"function"==typeof l.then);var l;if(!0!==i&&!c&&!s)return!1;return(c?i:a).then((e=>{r(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",r({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)})),!0})),p=({reject:n,resolve:r},o)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():n(new Error(e.runtime.lastError.message)):o&&o.__mozWebExtensionPolyfillReject__?n(new Error(o.message)):r(o)},f=(e,t,n,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const o=p.bind(null,{resolve:e,reject:t});r.push(o),n.sendMessage(...r)}))},g={devtools:{network:{onRequestFinished:l(u)}},runtime:{onMessage:l(d),onMessageExternal:l(d),sendMessage:f.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:f.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},h={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":h},services:{"*":h},websites:{"*":h}},c(e,g,n)};e.exports=n(chrome)}else e.exports=globalThis.browser},void 0===(r=n.apply(t,[e]))||(e.exports=r)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";const e=new WeakMap;function t(t,n){return e.get(t)&&e.get(t).get(n)}function n(e,n,r){if(void 0===n)throw new TypeError;const o=t(n,r);return o&&o.get(e)}function r(n,r,o,i){if(i&&!["string","symbol"].includes(typeof i))throw new TypeError;(t(o,i)||function(t,n){const r=e.get(t)||new Map;e.set(t,r);const o=r.get(n)||new Map;return r.set(n,o),o}(o,i)).set(n,r)}function o(e,t,r){return n(e,t,r)?n(e,t,r):Object.getPrototypeOf(t)?o(e,Object.getPrototypeOf(t),r):void 0}const i={decorate:function(e,t,n,r){if(!Array.isArray(e)||0===e.length)throw new TypeError;return void 0!==n?function(e,t,n,r){return e.reverse().forEach((e=>{r=e(t,n,r)||r})),r}(e,t,n,r):"function"==typeof t?function(e,t){return e.reverse().forEach((e=>{const n=e(t);n&&(t=n)})),t}(e,t):void 0},defineMetadata:function(e,t,n,o){r(e,t,n,o)},getMetadata:function(e,t,n){return o(e,t,n)},getOwnMetadata:function(e,t,r){return n(e,t,r)},hasMetadata:function(e,t,n){return!!o(e,t,n)},hasOwnMetadata:function(e,t,r){return!!n(e,t,r)},metadata:function(e,t){return function(n,o){r(e,t,n,o)}}};Object.assign(Reflect,i);var s=__webpack_require__(6292),a=__webpack_require__(27),c=__webpack_require__(5976),l=__webpack_require__(8234),u=__webpack_require__.n(l);const d=l.Reader,p=l.Writer,f=l.util,g=l.roots.appex||(l.roots.appex={}),h=g.nexthink=(()=>{const e={};return e.protobuf=function(){const e={};return e.collector_blocks=function(){const e={};return e.v15=function(){const e={};return e.NetworkInterfaceIdentifier=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.index=null,e.prototype.name=null,Object.defineProperty(e.prototype,"_index",{get:f.oneOfGetter(t=["index"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_name",{get:f.oneOfGetter(t=["name"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.index&&Object.hasOwnProperty.call(e,"index")&&t.uint32(8).uint32(e.index),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.index=e.uint32();break;case 2:r.name=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};return null!=e.index&&e.hasOwnProperty("index")&&(t._index=1,!f.isInteger(e.index))?"index: integer expected":null!=e.name&&e.hasOwnProperty("name")&&(t._name=1,!f.isString(e.name))?"name: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier)return e;let t=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier;return null!=e.index&&(t.index=e.index>>>0),null!=e.name&&(t.name=String(e.name)),t},e.toObject=function(e,t){t||(t={});let n={};return null!=e.index&&e.hasOwnProperty("index")&&(n.index=e.index,t.oneofs&&(n._index="index")),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name,t.oneofs&&(n._name="name")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier"},e}(),e.NetworkInterfaceType=function(){const e={},t=Object.create(e);return t[e[0]="NETWORK_INTERFACE_TYPE_UNSPECIFIED"]=0,t[e[1]="NETWORK_INTERFACE_TYPE_VIRTUAL"]=1,t[e[2]="NETWORK_INTERFACE_TYPE_PHYSICAL_ETHERNET"]=2,t[e[3]="NETWORK_INTERFACE_TYPE_PHYSICAL_WIFI"]=3,t[e[4]="NETWORK_INTERFACE_TYPE_PHYSICAL_BLUETOOTH"]=4,t}(),e.WiFiProtocolType=function(){const e={},t=Object.create(e);return t[e[0]="WIFI_PROTOCOL_TYPE_UNSPECIFIED"]=0,t[e[1]="WIFI_PROTOCOL_TYPE_802_11a"]=1,t[e[2]="WIFI_PROTOCOL_TYPE_802_11b"]=2,t[e[3]="WIFI_PROTOCOL_TYPE_802_11g"]=3,t[e[4]="WIFI_PROTOCOL_TYPE_802_11n"]=4,t[e[5]="WIFI_PROTOCOL_TYPE_802_11ac"]=5,t[e[6]="WIFI_PROTOCOL_TYPE_802_11ad"]=6,t[e[7]="WIFI_PROTOCOL_TYPE_802_11ax"]=7,t}(),e.WiFiBandType=function(){const e={},t=Object.create(e);return t[e[0]="WIFI_BAND_TYPE_UNSPECIFIED"]=0,t[e[1]="WIFI_BAND_TYPE_900MHz"]=1,t[e[2]="WIFI_BAND_TYPE_2dot4GHz"]=2,t[e[3]="WIFI_BAND_TYPE_3dot65GHz"]=3,t[e[4]="WIFI_BAND_TYPE_5GHz"]=4,t}(),e.IpAddress=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.v4=null,e.prototype.v6=null,e.prototype.prefixLength=null,Object.defineProperty(e.prototype,"addr",{get:f.oneOfGetter(t=["v4","v6"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_prefixLength",{get:f.oneOfGetter(t=["prefixLength"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.v4&&Object.hasOwnProperty.call(e,"v4")&&t.uint32(13).fixed32(e.v4),null!=e.v6&&Object.hasOwnProperty.call(e,"v6")&&t.uint32(18).bytes(e.v6),null!=e.prefixLength&&Object.hasOwnProperty.call(e,"prefixLength")&&t.uint32(24).uint32(e.prefixLength),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.collector_blocks.v15.IpAddress;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.v4=e.fixed32();break;case 2:r.v6=e.bytes();break;case 3:r.prefixLength=e.uint32();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};if(null!=e.v4&&e.hasOwnProperty("v4")&&(t.addr=1,!f.isInteger(e.v4)))return"v4: integer expected";if(null!=e.v6&&e.hasOwnProperty("v6")){if(1===t.addr)return"addr: multiple values";if(t.addr=1,!(e.v6&&"number"==typeof e.v6.length||f.isString(e.v6)))return"v6: buffer expected"}return null!=e.prefixLength&&e.hasOwnProperty("prefixLength")&&(t._prefixLength=1,!f.isInteger(e.prefixLength))?"prefixLength: integer expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.collector_blocks.v15.IpAddress)return e;let t=new g.nexthink.protobuf.collector_blocks.v15.IpAddress;return null!=e.v4&&(t.v4=e.v4>>>0),null!=e.v6&&("string"==typeof e.v6?f.base64.decode(e.v6,t.v6=f.newBuffer(f.base64.length(e.v6)),0):e.v6.length>=0&&(t.v6=e.v6)),null!=e.prefixLength&&(t.prefixLength=e.prefixLength>>>0),t},e.toObject=function(e,t){t||(t={});let n={};return null!=e.v4&&e.hasOwnProperty("v4")&&(n.v4=e.v4,t.oneofs&&(n.addr="v4")),null!=e.v6&&e.hasOwnProperty("v6")&&(n.v6=t.bytes===String?f.base64.encode(e.v6,0,e.v6.length):t.bytes===Array?Array.prototype.slice.call(e.v6):e.v6,t.oneofs&&(n.addr="v6")),null!=e.prefixLength&&e.hasOwnProperty("prefixLength")&&(n.prefixLength=e.prefixLength,t.oneofs&&(n._prefixLength="prefixLength")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.collector_blocks.v15.IpAddress"},e}(),e.NetworkInterface=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.timeSinceBoot=0,e.prototype.enumerated=null,e.prototype.addedOrUpdatedInterface=null,e.prototype.removedInterface=null,e.prototype.wifiQuality=null,Object.defineProperty(e.prototype,"payload",{get:f.oneOfGetter(t=["enumerated","addedOrUpdatedInterface","removedInterface","wifiQuality"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.timeSinceBoot&&Object.hasOwnProperty.call(e,"timeSinceBoot")&&t.uint32(8).uint32(e.timeSinceBoot),null!=e.enumerated&&Object.hasOwnProperty.call(e,"enumerated")&&g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Enumeration.encode(e.enumerated,t.uint32(18).fork()).ldelim(),null!=e.addedOrUpdatedInterface&&Object.hasOwnProperty.call(e,"addedOrUpdatedInterface")&&g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.encode(e.addedOrUpdatedInterface,t.uint32(26).fork()).ldelim(),null!=e.removedInterface&&Object.hasOwnProperty.call(e,"removedInterface")&&g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.encode(e.removedInterface,t.uint32(34).fork()).ldelim(),null!=e.wifiQuality&&Object.hasOwnProperty.call(e,"wifiQuality")&&g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.encode(e.wifiQuality,t.uint32(42).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterface;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.timeSinceBoot=e.uint32();break;case 2:r.enumerated=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Enumeration.decode(e,e.uint32());break;case 3:r.addedOrUpdatedInterface=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.decode(e,e.uint32());break;case 4:r.removedInterface=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.decode(e,e.uint32());break;case 5:r.wifiQuality=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};if(null!=e.timeSinceBoot&&e.hasOwnProperty("timeSinceBoot")&&!f.isInteger(e.timeSinceBoot))return"timeSinceBoot: integer expected";if(null!=e.enumerated&&e.hasOwnProperty("enumerated")){t.payload=1;{let t=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Enumeration.verify(e.enumerated);if(t)return"enumerated."+t}}if(null!=e.addedOrUpdatedInterface&&e.hasOwnProperty("addedOrUpdatedInterface")){if(1===t.payload)return"payload: multiple values";t.payload=1;{let t=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.verify(e.addedOrUpdatedInterface);if(t)return"addedOrUpdatedInterface."+t}}if(null!=e.removedInterface&&e.hasOwnProperty("removedInterface")){if(1===t.payload)return"payload: multiple values";t.payload=1;{let t=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.verify(e.removedInterface);if(t)return"removedInterface."+t}}if(null!=e.wifiQuality&&e.hasOwnProperty("wifiQuality")){if(1===t.payload)return"payload: multiple values";t.payload=1;{let t=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.verify(e.wifiQuality);if(t)return"wifiQuality."+t}}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.collector_blocks.v15.NetworkInterface)return e;let t=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterface;if(null!=e.timeSinceBoot&&(t.timeSinceBoot=e.timeSinceBoot>>>0),null!=e.enumerated){if("object"!=typeof e.enumerated)throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.enumerated: object expected");t.enumerated=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Enumeration.fromObject(e.enumerated)}if(null!=e.addedOrUpdatedInterface){if("object"!=typeof e.addedOrUpdatedInterface)throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.addedOrUpdatedInterface: object expected");t.addedOrUpdatedInterface=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.fromObject(e.addedOrUpdatedInterface)}if(null!=e.removedInterface){if("object"!=typeof e.removedInterface)throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.removedInterface: object expected");t.removedInterface=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.fromObject(e.removedInterface)}if(null!=e.wifiQuality){if("object"!=typeof e.wifiQuality)throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.wifiQuality: object expected");t.wifiQuality=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.fromObject(e.wifiQuality)}return t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.timeSinceBoot=0),null!=e.timeSinceBoot&&e.hasOwnProperty("timeSinceBoot")&&(n.timeSinceBoot=e.timeSinceBoot),null!=e.enumerated&&e.hasOwnProperty("enumerated")&&(n.enumerated=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Enumeration.toObject(e.enumerated,t),t.oneofs&&(n.payload="enumerated")),null!=e.addedOrUpdatedInterface&&e.hasOwnProperty("addedOrUpdatedInterface")&&(n.addedOrUpdatedInterface=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.toObject(e.addedOrUpdatedInterface,t),t.oneofs&&(n.payload="addedOrUpdatedInterface")),null!=e.removedInterface&&e.hasOwnProperty("removedInterface")&&(n.removedInterface=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.toObject(e.removedInterface,t),t.oneofs&&(n.payload="removedInterface")),null!=e.wifiQuality&&e.hasOwnProperty("wifiQuality")&&(n.wifiQuality=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.toObject(e.wifiQuality,t),t.oneofs&&(n.payload="wifiQuality")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.collector_blocks.v15.NetworkInterface"},e.Properties=function(){function e(e){if(this.localAddresses=[],this.defaultGateways=[],this.dnsServers=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.identifier=null,e.prototype.type=0,e.prototype.description="",e.prototype.localAddresses=f.emptyArray,e.prototype.defaultGateways=f.emptyArray,e.prototype.dnsServers=f.emptyArray,e.prototype.wifiInfo=null,e.prototype.isIpv4PrimaryPhysicalInterface=!1,Object.defineProperty(e.prototype,"_wifiInfo",{get:f.oneOfGetter(t=["wifiInfo"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.identifier&&Object.hasOwnProperty.call(e,"identifier")&&g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.encode(e.identifier,t.uint32(10).fork()).ldelim(),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),null!=e.description&&Object.hasOwnProperty.call(e,"description")&&t.uint32(26).string(e.description),null!=e.localAddresses&&e.localAddresses.length)for(let n=0;n<e.localAddresses.length;++n)g.nexthink.protobuf.collector_blocks.v15.IpAddress.encode(e.localAddresses[n],t.uint32(34).fork()).ldelim();if(null!=e.defaultGateways&&e.defaultGateways.length)for(let n=0;n<e.defaultGateways.length;++n)g.nexthink.protobuf.collector_blocks.v15.IpAddress.encode(e.defaultGateways[n],t.uint32(42).fork()).ldelim();if(null!=e.dnsServers&&e.dnsServers.length)for(let n=0;n<e.dnsServers.length;++n)g.nexthink.protobuf.collector_blocks.v15.IpAddress.encode(e.dnsServers[n],t.uint32(50).fork()).ldelim();return null!=e.wifiInfo&&Object.hasOwnProperty.call(e,"wifiInfo")&&g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.WiFiInfo.encode(e.wifiInfo,t.uint32(58).fork()).ldelim(),null!=e.isIpv4PrimaryPhysicalInterface&&Object.hasOwnProperty.call(e,"isIpv4PrimaryPhysicalInterface")&&t.uint32(64).bool(e.isIpv4PrimaryPhysicalInterface),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.identifier=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.decode(e,e.uint32());break;case 2:r.type=e.int32();break;case 3:r.description=e.string();break;case 4:r.localAddresses&&r.localAddresses.length||(r.localAddresses=[]),r.localAddresses.push(g.nexthink.protobuf.collector_blocks.v15.IpAddress.decode(e,e.uint32()));break;case 5:r.defaultGateways&&r.defaultGateways.length||(r.defaultGateways=[]),r.defaultGateways.push(g.nexthink.protobuf.collector_blocks.v15.IpAddress.decode(e,e.uint32()));break;case 6:r.dnsServers&&r.dnsServers.length||(r.dnsServers=[]),r.dnsServers.push(g.nexthink.protobuf.collector_blocks.v15.IpAddress.decode(e,e.uint32()));break;case 7:r.wifiInfo=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.WiFiInfo.decode(e,e.uint32());break;case 8:r.isIpv4PrimaryPhysicalInterface=e.bool();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};if(null!=e.identifier&&e.hasOwnProperty("identifier")){let t=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.verify(e.identifier);if(t)return"identifier."+t}if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:}if(null!=e.description&&e.hasOwnProperty("description")&&!f.isString(e.description))return"description: string expected";if(null!=e.localAddresses&&e.hasOwnProperty("localAddresses")){if(!Array.isArray(e.localAddresses))return"localAddresses: array expected";for(let t=0;t<e.localAddresses.length;++t){let n=g.nexthink.protobuf.collector_blocks.v15.IpAddress.verify(e.localAddresses[t]);if(n)return"localAddresses."+n}}if(null!=e.defaultGateways&&e.hasOwnProperty("defaultGateways")){if(!Array.isArray(e.defaultGateways))return"defaultGateways: array expected";for(let t=0;t<e.defaultGateways.length;++t){let n=g.nexthink.protobuf.collector_blocks.v15.IpAddress.verify(e.defaultGateways[t]);if(n)return"defaultGateways."+n}}if(null!=e.dnsServers&&e.hasOwnProperty("dnsServers")){if(!Array.isArray(e.dnsServers))return"dnsServers: array expected";for(let t=0;t<e.dnsServers.length;++t){let n=g.nexthink.protobuf.collector_blocks.v15.IpAddress.verify(e.dnsServers[t]);if(n)return"dnsServers."+n}}if(null!=e.wifiInfo&&e.hasOwnProperty("wifiInfo")){t._wifiInfo=1;{let t=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.WiFiInfo.verify(e.wifiInfo);if(t)return"wifiInfo."+t}}return null!=e.isIpv4PrimaryPhysicalInterface&&e.hasOwnProperty("isIpv4PrimaryPhysicalInterface")&&"boolean"!=typeof e.isIpv4PrimaryPhysicalInterface?"isIpv4PrimaryPhysicalInterface: boolean expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties)return e;let t=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties;if(null!=e.identifier){if("object"!=typeof e.identifier)throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.identifier: object expected");t.identifier=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.fromObject(e.identifier)}switch(e.type){default:if("number"==typeof e.type){t.type=e.type;break}break;case"NETWORK_INTERFACE_TYPE_UNSPECIFIED":case 0:t.type=0;break;case"NETWORK_INTERFACE_TYPE_VIRTUAL":case 1:t.type=1;break;case"NETWORK_INTERFACE_TYPE_PHYSICAL_ETHERNET":case 2:t.type=2;break;case"NETWORK_INTERFACE_TYPE_PHYSICAL_WIFI":case 3:t.type=3;break;case"NETWORK_INTERFACE_TYPE_PHYSICAL_BLUETOOTH":case 4:t.type=4}if(null!=e.description&&(t.description=String(e.description)),e.localAddresses){if(!Array.isArray(e.localAddresses))throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.localAddresses: array expected");t.localAddresses=[];for(let n=0;n<e.localAddresses.length;++n){if("object"!=typeof e.localAddresses[n])throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.localAddresses: object expected");t.localAddresses[n]=g.nexthink.protobuf.collector_blocks.v15.IpAddress.fromObject(e.localAddresses[n])}}if(e.defaultGateways){if(!Array.isArray(e.defaultGateways))throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.defaultGateways: array expected");t.defaultGateways=[];for(let n=0;n<e.defaultGateways.length;++n){if("object"!=typeof e.defaultGateways[n])throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.defaultGateways: object expected");t.defaultGateways[n]=g.nexthink.protobuf.collector_blocks.v15.IpAddress.fromObject(e.defaultGateways[n])}}if(e.dnsServers){if(!Array.isArray(e.dnsServers))throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.dnsServers: array expected");t.dnsServers=[];for(let n=0;n<e.dnsServers.length;++n){if("object"!=typeof e.dnsServers[n])throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.dnsServers: object expected");t.dnsServers[n]=g.nexthink.protobuf.collector_blocks.v15.IpAddress.fromObject(e.dnsServers[n])}}if(null!=e.wifiInfo){if("object"!=typeof e.wifiInfo)throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.wifiInfo: object expected");t.wifiInfo=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.WiFiInfo.fromObject(e.wifiInfo)}return null!=e.isIpv4PrimaryPhysicalInterface&&(t.isIpv4PrimaryPhysicalInterface=Boolean(e.isIpv4PrimaryPhysicalInterface)),t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.localAddresses=[],n.defaultGateways=[],n.dnsServers=[]),t.defaults&&(n.identifier=null,n.type=t.enums===String?"NETWORK_INTERFACE_TYPE_UNSPECIFIED":0,n.description="",n.isIpv4PrimaryPhysicalInterface=!1),null!=e.identifier&&e.hasOwnProperty("identifier")&&(n.identifier=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.toObject(e.identifier,t)),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?void 0===g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceType[e.type]?e.type:g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceType[e.type]:e.type),null!=e.description&&e.hasOwnProperty("description")&&(n.description=e.description),e.localAddresses&&e.localAddresses.length){n.localAddresses=[];for(let r=0;r<e.localAddresses.length;++r)n.localAddresses[r]=g.nexthink.protobuf.collector_blocks.v15.IpAddress.toObject(e.localAddresses[r],t)}if(e.defaultGateways&&e.defaultGateways.length){n.defaultGateways=[];for(let r=0;r<e.defaultGateways.length;++r)n.defaultGateways[r]=g.nexthink.protobuf.collector_blocks.v15.IpAddress.toObject(e.defaultGateways[r],t)}if(e.dnsServers&&e.dnsServers.length){n.dnsServers=[];for(let r=0;r<e.dnsServers.length;++r)n.dnsServers[r]=g.nexthink.protobuf.collector_blocks.v15.IpAddress.toObject(e.dnsServers[r],t)}return null!=e.wifiInfo&&e.hasOwnProperty("wifiInfo")&&(n.wifiInfo=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.WiFiInfo.toObject(e.wifiInfo,t),t.oneofs&&(n._wifiInfo="wifiInfo")),null!=e.isIpv4PrimaryPhysicalInterface&&e.hasOwnProperty("isIpv4PrimaryPhysicalInterface")&&(n.isIpv4PrimaryPhysicalInterface=e.isIpv4PrimaryPhysicalInterface),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties"},e.WiFiInfo=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.ssid=null,e.prototype.bssid=null,e.prototype.protocolType=0,e.prototype.bandType=0,e.prototype.channelNumber=0,e.prototype.channelWidthMhz=null,Object.defineProperty(e.prototype,"_ssid",{get:f.oneOfGetter(t=["ssid"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_bssid",{get:f.oneOfGetter(t=["bssid"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_channelWidthMhz",{get:f.oneOfGetter(t=["channelWidthMhz"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.ssid&&Object.hasOwnProperty.call(e,"ssid")&&t.uint32(10).string(e.ssid),null!=e.bssid&&Object.hasOwnProperty.call(e,"bssid")&&t.uint32(18).bytes(e.bssid),null!=e.protocolType&&Object.hasOwnProperty.call(e,"protocolType")&&t.uint32(24).int32(e.protocolType),null!=e.bandType&&Object.hasOwnProperty.call(e,"bandType")&&t.uint32(32).int32(e.bandType),null!=e.channelNumber&&Object.hasOwnProperty.call(e,"channelNumber")&&t.uint32(40).uint32(e.channelNumber),null!=e.channelWidthMhz&&Object.hasOwnProperty.call(e,"channelWidthMhz")&&t.uint32(48).uint32(e.channelWidthMhz),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.WiFiInfo;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.ssid=e.string();break;case 2:r.bssid=e.bytes();break;case 3:r.protocolType=e.int32();break;case 4:r.bandType=e.int32();break;case 5:r.channelNumber=e.uint32();break;case 6:r.channelWidthMhz=e.uint32();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};if(null!=e.ssid&&e.hasOwnProperty("ssid")&&(t._ssid=1,!f.isString(e.ssid)))return"ssid: string expected";if(null!=e.bssid&&e.hasOwnProperty("bssid")&&(t._bssid=1,!(e.bssid&&"number"==typeof e.bssid.length||f.isString(e.bssid))))return"bssid: buffer expected";if(null!=e.protocolType&&e.hasOwnProperty("protocolType"))switch(e.protocolType){default:return"protocolType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:}if(null!=e.bandType&&e.hasOwnProperty("bandType"))switch(e.bandType){default:return"bandType: enum value expected";case 0:case 1:case 2:case 3:case 4:}return null!=e.channelNumber&&e.hasOwnProperty("channelNumber")&&!f.isInteger(e.channelNumber)?"channelNumber: integer expected":null!=e.channelWidthMhz&&e.hasOwnProperty("channelWidthMhz")&&(t._channelWidthMhz=1,!f.isInteger(e.channelWidthMhz))?"channelWidthMhz: integer expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.WiFiInfo)return e;let t=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.WiFiInfo;switch(null!=e.ssid&&(t.ssid=String(e.ssid)),null!=e.bssid&&("string"==typeof e.bssid?f.base64.decode(e.bssid,t.bssid=f.newBuffer(f.base64.length(e.bssid)),0):e.bssid.length>=0&&(t.bssid=e.bssid)),e.protocolType){default:if("number"==typeof e.protocolType){t.protocolType=e.protocolType;break}break;case"WIFI_PROTOCOL_TYPE_UNSPECIFIED":case 0:t.protocolType=0;break;case"WIFI_PROTOCOL_TYPE_802_11a":case 1:t.protocolType=1;break;case"WIFI_PROTOCOL_TYPE_802_11b":case 2:t.protocolType=2;break;case"WIFI_PROTOCOL_TYPE_802_11g":case 3:t.protocolType=3;break;case"WIFI_PROTOCOL_TYPE_802_11n":case 4:t.protocolType=4;break;case"WIFI_PROTOCOL_TYPE_802_11ac":case 5:t.protocolType=5;break;case"WIFI_PROTOCOL_TYPE_802_11ad":case 6:t.protocolType=6;break;case"WIFI_PROTOCOL_TYPE_802_11ax":case 7:t.protocolType=7}switch(e.bandType){default:if("number"==typeof e.bandType){t.bandType=e.bandType;break}break;case"WIFI_BAND_TYPE_UNSPECIFIED":case 0:t.bandType=0;break;case"WIFI_BAND_TYPE_900MHz":case 1:t.bandType=1;break;case"WIFI_BAND_TYPE_2dot4GHz":case 2:t.bandType=2;break;case"WIFI_BAND_TYPE_3dot65GHz":case 3:t.bandType=3;break;case"WIFI_BAND_TYPE_5GHz":case 4:t.bandType=4}return null!=e.channelNumber&&(t.channelNumber=e.channelNumber>>>0),null!=e.channelWidthMhz&&(t.channelWidthMhz=e.channelWidthMhz>>>0),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.protocolType=t.enums===String?"WIFI_PROTOCOL_TYPE_UNSPECIFIED":0,n.bandType=t.enums===String?"WIFI_BAND_TYPE_UNSPECIFIED":0,n.channelNumber=0),null!=e.ssid&&e.hasOwnProperty("ssid")&&(n.ssid=e.ssid,t.oneofs&&(n._ssid="ssid")),null!=e.bssid&&e.hasOwnProperty("bssid")&&(n.bssid=t.bytes===String?f.base64.encode(e.bssid,0,e.bssid.length):t.bytes===Array?Array.prototype.slice.call(e.bssid):e.bssid,t.oneofs&&(n._bssid="bssid")),null!=e.protocolType&&e.hasOwnProperty("protocolType")&&(n.protocolType=t.enums===String?void 0===g.nexthink.protobuf.collector_blocks.v15.WiFiProtocolType[e.protocolType]?e.protocolType:g.nexthink.protobuf.collector_blocks.v15.WiFiProtocolType[e.protocolType]:e.protocolType),null!=e.bandType&&e.hasOwnProperty("bandType")&&(n.bandType=t.enums===String?void 0===g.nexthink.protobuf.collector_blocks.v15.WiFiBandType[e.bandType]?e.bandType:g.nexthink.protobuf.collector_blocks.v15.WiFiBandType[e.bandType]:e.bandType),null!=e.channelNumber&&e.hasOwnProperty("channelNumber")&&(n.channelNumber=e.channelNumber),null!=e.channelWidthMhz&&e.hasOwnProperty("channelWidthMhz")&&(n.channelWidthMhz=e.channelWidthMhz,t.oneofs&&(n._channelWidthMhz="channelWidthMhz")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.WiFiInfo"},e}(),e}(),e.Enumeration=function(){function e(e){if(this.interfaces=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.interfaces=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.interfaces&&e.interfaces.length)for(let n=0;n<e.interfaces.length;++n)g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.encode(e.interfaces[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Enumeration;for(;e.pos<n;){let t=e.uint32();t>>>3==1?(r.interfaces&&r.interfaces.length||(r.interfaces=[]),r.interfaces.push(g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.decode(e,e.uint32()))):e.skipType(7&t)}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.interfaces&&e.hasOwnProperty("interfaces")){if(!Array.isArray(e.interfaces))return"interfaces: array expected";for(let t=0;t<e.interfaces.length;++t){let n=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.verify(e.interfaces[t]);if(n)return"interfaces."+n}}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Enumeration)return e;let t=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Enumeration;if(e.interfaces){if(!Array.isArray(e.interfaces))throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.Enumeration.interfaces: array expected");t.interfaces=[];for(let n=0;n<e.interfaces.length;++n){if("object"!=typeof e.interfaces[n])throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.Enumeration.interfaces: object expected");t.interfaces[n]=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.fromObject(e.interfaces[n])}}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.interfaces=[]),e.interfaces&&e.interfaces.length){n.interfaces=[];for(let r=0;r<e.interfaces.length;++r)n.interfaces[r]=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.Properties.toObject(e.interfaces[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.collector_blocks.v15.NetworkInterface.Enumeration"},e}(),e.WiFiQuality=function(){function e(e){if(this.samples=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.identifier=null,e.prototype.samples=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.identifier&&Object.hasOwnProperty.call(e,"identifier")&&g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.encode(e.identifier,t.uint32(10).fork()).ldelim(),null!=e.samples&&e.samples.length)for(let n=0;n<e.samples.length;++n)g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.Sample.encode(e.samples[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.identifier=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.decode(e,e.uint32());break;case 2:r.samples&&r.samples.length||(r.samples=[]),r.samples.push(g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.Sample.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.identifier&&e.hasOwnProperty("identifier")){let t=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.verify(e.identifier);if(t)return"identifier."+t}if(null!=e.samples&&e.hasOwnProperty("samples")){if(!Array.isArray(e.samples))return"samples: array expected";for(let t=0;t<e.samples.length;++t){let n=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.Sample.verify(e.samples[t]);if(n)return"samples."+n}}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality)return e;let t=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality;if(null!=e.identifier){if("object"!=typeof e.identifier)throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.identifier: object expected");t.identifier=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.fromObject(e.identifier)}if(e.samples){if(!Array.isArray(e.samples))throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.samples: array expected");t.samples=[];for(let n=0;n<e.samples.length;++n){if("object"!=typeof e.samples[n])throw TypeError(".nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.samples: object expected");t.samples[n]=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.Sample.fromObject(e.samples[n])}}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.samples=[]),t.defaults&&(n.identifier=null),null!=e.identifier&&e.hasOwnProperty("identifier")&&(n.identifier=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.toObject(e.identifier,t)),e.samples&&e.samples.length){n.samples=[];for(let r=0;r<e.samples.length;++r)n.samples[r]=g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.Sample.toObject(e.samples[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality"},e.Sample=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.transmissionRateMbps=0,e.prototype.receiveRateMbps=null,e.prototype.rssiDBm=0,e.prototype.noiseDBm=null,Object.defineProperty(e.prototype,"_receiveRateMbps",{get:f.oneOfGetter(t=["receiveRateMbps"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_noiseDBm",{get:f.oneOfGetter(t=["noiseDBm"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.transmissionRateMbps&&Object.hasOwnProperty.call(e,"transmissionRateMbps")&&t.uint32(8).uint32(e.transmissionRateMbps),null!=e.receiveRateMbps&&Object.hasOwnProperty.call(e,"receiveRateMbps")&&t.uint32(16).uint32(e.receiveRateMbps),null!=e.rssiDBm&&Object.hasOwnProperty.call(e,"rssiDBm")&&t.uint32(24).sint32(e.rssiDBm),null!=e.noiseDBm&&Object.hasOwnProperty.call(e,"noiseDBm")&&t.uint32(32).sint32(e.noiseDBm),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.Sample;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.transmissionRateMbps=e.uint32();break;case 2:r.receiveRateMbps=e.uint32();break;case 3:r.rssiDBm=e.sint32();break;case 4:r.noiseDBm=e.sint32();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};return null!=e.transmissionRateMbps&&e.hasOwnProperty("transmissionRateMbps")&&!f.isInteger(e.transmissionRateMbps)?"transmissionRateMbps: integer expected":null!=e.receiveRateMbps&&e.hasOwnProperty("receiveRateMbps")&&(t._receiveRateMbps=1,!f.isInteger(e.receiveRateMbps))?"receiveRateMbps: integer expected":null!=e.rssiDBm&&e.hasOwnProperty("rssiDBm")&&!f.isInteger(e.rssiDBm)?"rssiDBm: integer expected":null!=e.noiseDBm&&e.hasOwnProperty("noiseDBm")&&(t._noiseDBm=1,!f.isInteger(e.noiseDBm))?"noiseDBm: integer expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.Sample)return e;let t=new g.nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.Sample;return null!=e.transmissionRateMbps&&(t.transmissionRateMbps=e.transmissionRateMbps>>>0),null!=e.receiveRateMbps&&(t.receiveRateMbps=e.receiveRateMbps>>>0),null!=e.rssiDBm&&(t.rssiDBm=0|e.rssiDBm),null!=e.noiseDBm&&(t.noiseDBm=0|e.noiseDBm),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.transmissionRateMbps=0,n.rssiDBm=0),null!=e.transmissionRateMbps&&e.hasOwnProperty("transmissionRateMbps")&&(n.transmissionRateMbps=e.transmissionRateMbps),null!=e.receiveRateMbps&&e.hasOwnProperty("receiveRateMbps")&&(n.receiveRateMbps=e.receiveRateMbps,t.oneofs&&(n._receiveRateMbps="receiveRateMbps")),null!=e.rssiDBm&&e.hasOwnProperty("rssiDBm")&&(n.rssiDBm=e.rssiDBm),null!=e.noiseDBm&&e.hasOwnProperty("noiseDBm")&&(n.noiseDBm=e.noiseDBm,t.oneofs&&(n._noiseDBm="noiseDBm")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.collector_blocks.v15.NetworkInterface.WiFiQuality.Sample"},e}(),e}(),e}(),e}(),e}(),e.appex=function(){const e={};return e.extension=function(){const e={};return e.data=function(){const e={};return e.v1=function(){const e={};return e.Beacon=function(){function e(e){if(this.activities=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.version=0,e.prototype.startTimestamp=0,e.prototype.endTimestamp=0,e.prototype.activities=f.emptyArray,e.prototype.installedExtensions=null,e.prototype.experimental="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(8).uint32(e.version),null!=e.startTimestamp&&Object.hasOwnProperty.call(e,"startTimestamp")&&t.uint32(17).double(e.startTimestamp),null!=e.endTimestamp&&Object.hasOwnProperty.call(e,"endTimestamp")&&t.uint32(25).double(e.endTimestamp),null!=e.activities&&e.activities.length)for(let n=0;n<e.activities.length;++n)g.nexthink.protobuf.appex.extension.data.v1.Activity.encode(e.activities[n],t.uint32(50).fork()).ldelim();return null!=e.installedExtensions&&Object.hasOwnProperty.call(e,"installedExtensions")&&g.nexthink.protobuf.appex.extension.data.v1.InstalledExtensions.encode(e.installedExtensions,t.uint32(58).fork()).ldelim(),null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(122).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.Beacon;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.version=e.uint32();break;case 2:r.startTimestamp=e.double();break;case 3:r.endTimestamp=e.double();break;case 6:r.activities&&r.activities.length||(r.activities=[]),r.activities.push(g.nexthink.protobuf.appex.extension.data.v1.Activity.decode(e,e.uint32()));break;case 7:r.installedExtensions=g.nexthink.protobuf.appex.extension.data.v1.InstalledExtensions.decode(e,e.uint32());break;case 15:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.version&&e.hasOwnProperty("version")&&!f.isInteger(e.version))return"version: integer expected";if(null!=e.startTimestamp&&e.hasOwnProperty("startTimestamp")&&"number"!=typeof e.startTimestamp)return"startTimestamp: number expected";if(null!=e.endTimestamp&&e.hasOwnProperty("endTimestamp")&&"number"!=typeof e.endTimestamp)return"endTimestamp: number expected";if(null!=e.activities&&e.hasOwnProperty("activities")){if(!Array.isArray(e.activities))return"activities: array expected";for(let t=0;t<e.activities.length;++t){let n=g.nexthink.protobuf.appex.extension.data.v1.Activity.verify(e.activities[t]);if(n)return"activities."+n}}if(null!=e.installedExtensions&&e.hasOwnProperty("installedExtensions")){let t=g.nexthink.protobuf.appex.extension.data.v1.InstalledExtensions.verify(e.installedExtensions);if(t)return"installedExtensions."+t}return null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.Beacon)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.Beacon;if(null!=e.version&&(t.version=e.version>>>0),null!=e.startTimestamp&&(t.startTimestamp=Number(e.startTimestamp)),null!=e.endTimestamp&&(t.endTimestamp=Number(e.endTimestamp)),e.activities){if(!Array.isArray(e.activities))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Beacon.activities: array expected");t.activities=[];for(let n=0;n<e.activities.length;++n){if("object"!=typeof e.activities[n])throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Beacon.activities: object expected");t.activities[n]=g.nexthink.protobuf.appex.extension.data.v1.Activity.fromObject(e.activities[n])}}if(null!=e.installedExtensions){if("object"!=typeof e.installedExtensions)throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Beacon.installedExtensions: object expected");t.installedExtensions=g.nexthink.protobuf.appex.extension.data.v1.InstalledExtensions.fromObject(e.installedExtensions)}return null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.activities=[]),t.defaults&&(n.version=0,n.startTimestamp=0,n.endTimestamp=0,n.installedExtensions=null,n.experimental=""),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.startTimestamp&&e.hasOwnProperty("startTimestamp")&&(n.startTimestamp=t.json&&!isFinite(e.startTimestamp)?String(e.startTimestamp):e.startTimestamp),null!=e.endTimestamp&&e.hasOwnProperty("endTimestamp")&&(n.endTimestamp=t.json&&!isFinite(e.endTimestamp)?String(e.endTimestamp):e.endTimestamp),e.activities&&e.activities.length){n.activities=[];for(let r=0;r<e.activities.length;++r)n.activities[r]=g.nexthink.protobuf.appex.extension.data.v1.Activity.toObject(e.activities[r],t)}return null!=e.installedExtensions&&e.hasOwnProperty("installedExtensions")&&(n.installedExtensions=g.nexthink.protobuf.appex.extension.data.v1.InstalledExtensions.toObject(e.installedExtensions,t)),null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.Beacon"},e}(),e.Activity=function(){function e(e){if(this.navigationData=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.appId="",e.prototype.keyPageId="",e.prototype.usage=null,e.prototype.navigationData=f.emptyArray,e.prototype.experimental="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(10).string(e.appId),null!=e.keyPageId&&Object.hasOwnProperty.call(e,"keyPageId")&&t.uint32(18).string(e.keyPageId),null!=e.usage&&Object.hasOwnProperty.call(e,"usage")&&g.nexthink.protobuf.appex.extension.data.v1.Usage.encode(e.usage,t.uint32(50).fork()).ldelim(),null!=e.navigationData&&e.navigationData.length)for(let n=0;n<e.navigationData.length;++n)g.nexthink.protobuf.appex.extension.data.v1.NavigationData.encode(e.navigationData[n],t.uint32(58).fork()).ldelim();return null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(122).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.Activity;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.appId=e.string();break;case 2:r.keyPageId=e.string();break;case 6:r.usage=g.nexthink.protobuf.appex.extension.data.v1.Usage.decode(e,e.uint32());break;case 7:r.navigationData&&r.navigationData.length||(r.navigationData=[]),r.navigationData.push(g.nexthink.protobuf.appex.extension.data.v1.NavigationData.decode(e,e.uint32()));break;case 15:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.appId&&e.hasOwnProperty("appId")&&!f.isString(e.appId))return"appId: string expected";if(null!=e.keyPageId&&e.hasOwnProperty("keyPageId")&&!f.isString(e.keyPageId))return"keyPageId: string expected";if(null!=e.usage&&e.hasOwnProperty("usage")){let t=g.nexthink.protobuf.appex.extension.data.v1.Usage.verify(e.usage);if(t)return"usage."+t}if(null!=e.navigationData&&e.hasOwnProperty("navigationData")){if(!Array.isArray(e.navigationData))return"navigationData: array expected";for(let t=0;t<e.navigationData.length;++t){let n=g.nexthink.protobuf.appex.extension.data.v1.NavigationData.verify(e.navigationData[t]);if(n)return"navigationData."+n}}return null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.Activity)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.Activity;if(null!=e.appId&&(t.appId=String(e.appId)),null!=e.keyPageId&&(t.keyPageId=String(e.keyPageId)),null!=e.usage){if("object"!=typeof e.usage)throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Activity.usage: object expected");t.usage=g.nexthink.protobuf.appex.extension.data.v1.Usage.fromObject(e.usage)}if(e.navigationData){if(!Array.isArray(e.navigationData))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Activity.navigationData: array expected");t.navigationData=[];for(let n=0;n<e.navigationData.length;++n){if("object"!=typeof e.navigationData[n])throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Activity.navigationData: object expected");t.navigationData[n]=g.nexthink.protobuf.appex.extension.data.v1.NavigationData.fromObject(e.navigationData[n])}}return null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.navigationData=[]),t.defaults&&(n.appId="",n.keyPageId="",n.usage=null,n.experimental=""),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.keyPageId&&e.hasOwnProperty("keyPageId")&&(n.keyPageId=e.keyPageId),null!=e.usage&&e.hasOwnProperty("usage")&&(n.usage=g.nexthink.protobuf.appex.extension.data.v1.Usage.toObject(e.usage,t)),e.navigationData&&e.navigationData.length){n.navigationData=[];for(let r=0;r<e.navigationData.length;++r)n.navigationData[r]=g.nexthink.protobuf.appex.extension.data.v1.NavigationData.toObject(e.navigationData[r],t)}return null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.Activity"},e}(),e.NetworkInformation=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.timestamp=0,e.prototype.networkInterface=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.timestamp&&Object.hasOwnProperty.call(e,"timestamp")&&t.uint32(9).double(e.timestamp),null!=e.networkInterface&&Object.hasOwnProperty.call(e,"networkInterface")&&g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.encode(e.networkInterface,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.NetworkInformation;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.timestamp=e.double();break;case 2:r.networkInterface=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.timestamp&&e.hasOwnProperty("timestamp")&&"number"!=typeof e.timestamp)return"timestamp: number expected";if(null!=e.networkInterface&&e.hasOwnProperty("networkInterface")){let t=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.verify(e.networkInterface);if(t)return"networkInterface."+t}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.NetworkInformation)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.NetworkInformation;if(null!=e.timestamp&&(t.timestamp=Number(e.timestamp)),null!=e.networkInterface){if("object"!=typeof e.networkInterface)throw TypeError(".nexthink.protobuf.appex.extension.data.v1.NetworkInformation.networkInterface: object expected");t.networkInterface=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.fromObject(e.networkInterface)}return t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.timestamp=0,n.networkInterface=null),null!=e.timestamp&&e.hasOwnProperty("timestamp")&&(n.timestamp=t.json&&!isFinite(e.timestamp)?String(e.timestamp):e.timestamp),null!=e.networkInterface&&e.hasOwnProperty("networkInterface")&&(n.networkInterface=g.nexthink.protobuf.collector_blocks.v15.NetworkInterfaceIdentifier.toObject(e.networkInterface,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.NetworkInformation"},e}(),e.NavigationData=function(){function e(e){if(this.resources=[],this.feedbacks=[],this.transactionEvents=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.tabId=0,e.prototype.navigationUrl="",e.prototype.pageNavigationEvent=null,e.prototype.softNavigationEvent=null,e.prototype.resources=f.emptyArray,e.prototype.feedbacks=f.emptyArray,e.prototype.errors=null,e.prototype.transactionEvents=f.emptyArray,e.prototype.networkInformation=null,e.prototype.openTabCount=0,e.prototype.experimental="",Object.defineProperty(e.prototype,"navigationEvent",{get:f.oneOfGetter(t=["pageNavigationEvent","softNavigationEvent"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_networkInformation",{get:f.oneOfGetter(t=["networkInformation"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.tabId&&Object.hasOwnProperty.call(e,"tabId")&&t.uint32(8).uint32(e.tabId),null!=e.navigationUrl&&Object.hasOwnProperty.call(e,"navigationUrl")&&t.uint32(18).string(e.navigationUrl),null!=e.pageNavigationEvent&&Object.hasOwnProperty.call(e,"pageNavigationEvent")&&g.nexthink.protobuf.appex.extension.data.v1.PageNavigationEvent.encode(e.pageNavigationEvent,t.uint32(34).fork()).ldelim(),null!=e.softNavigationEvent&&Object.hasOwnProperty.call(e,"softNavigationEvent")&&g.nexthink.protobuf.appex.extension.data.v1.SoftNavigationEvent.encode(e.softNavigationEvent,t.uint32(42).fork()).ldelim(),null!=e.resources&&e.resources.length)for(let n=0;n<e.resources.length;++n)g.nexthink.protobuf.appex.extension.data.v1.Resources.encode(e.resources[n],t.uint32(50).fork()).ldelim();if(null!=e.feedbacks&&e.feedbacks.length)for(let n=0;n<e.feedbacks.length;++n)g.nexthink.protobuf.appex.extension.data.v1.Feedback.encode(e.feedbacks[n],t.uint32(58).fork()).ldelim();if(null!=e.errors&&Object.hasOwnProperty.call(e,"errors")&&g.nexthink.protobuf.appex.extension.data.v1.Errors.encode(e.errors,t.uint32(66).fork()).ldelim(),null!=e.transactionEvents&&e.transactionEvents.length)for(let n=0;n<e.transactionEvents.length;++n)g.nexthink.protobuf.appex.extension.data.v1.TransactionEvent.encode(e.transactionEvents[n],t.uint32(74).fork()).ldelim();return null!=e.networkInformation&&Object.hasOwnProperty.call(e,"networkInformation")&&g.nexthink.protobuf.appex.extension.data.v1.NetworkInformation.encode(e.networkInformation,t.uint32(82).fork()).ldelim(),null!=e.openTabCount&&Object.hasOwnProperty.call(e,"openTabCount")&&t.uint32(88).uint32(e.openTabCount),null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(122).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.NavigationData;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.tabId=e.uint32();break;case 2:r.navigationUrl=e.string();break;case 4:r.pageNavigationEvent=g.nexthink.protobuf.appex.extension.data.v1.PageNavigationEvent.decode(e,e.uint32());break;case 5:r.softNavigationEvent=g.nexthink.protobuf.appex.extension.data.v1.SoftNavigationEvent.decode(e,e.uint32());break;case 6:r.resources&&r.resources.length||(r.resources=[]),r.resources.push(g.nexthink.protobuf.appex.extension.data.v1.Resources.decode(e,e.uint32()));break;case 7:r.feedbacks&&r.feedbacks.length||(r.feedbacks=[]),r.feedbacks.push(g.nexthink.protobuf.appex.extension.data.v1.Feedback.decode(e,e.uint32()));break;case 8:r.errors=g.nexthink.protobuf.appex.extension.data.v1.Errors.decode(e,e.uint32());break;case 9:r.transactionEvents&&r.transactionEvents.length||(r.transactionEvents=[]),r.transactionEvents.push(g.nexthink.protobuf.appex.extension.data.v1.TransactionEvent.decode(e,e.uint32()));break;case 10:r.networkInformation=g.nexthink.protobuf.appex.extension.data.v1.NetworkInformation.decode(e,e.uint32());break;case 11:r.openTabCount=e.uint32();break;case 15:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};if(null!=e.tabId&&e.hasOwnProperty("tabId")&&!f.isInteger(e.tabId))return"tabId: integer expected";if(null!=e.navigationUrl&&e.hasOwnProperty("navigationUrl")&&!f.isString(e.navigationUrl))return"navigationUrl: string expected";if(null!=e.pageNavigationEvent&&e.hasOwnProperty("pageNavigationEvent")){t.navigationEvent=1;{let t=g.nexthink.protobuf.appex.extension.data.v1.PageNavigationEvent.verify(e.pageNavigationEvent);if(t)return"pageNavigationEvent."+t}}if(null!=e.softNavigationEvent&&e.hasOwnProperty("softNavigationEvent")){if(1===t.navigationEvent)return"navigationEvent: multiple values";t.navigationEvent=1;{let t=g.nexthink.protobuf.appex.extension.data.v1.SoftNavigationEvent.verify(e.softNavigationEvent);if(t)return"softNavigationEvent."+t}}if(null!=e.resources&&e.hasOwnProperty("resources")){if(!Array.isArray(e.resources))return"resources: array expected";for(let t=0;t<e.resources.length;++t){let n=g.nexthink.protobuf.appex.extension.data.v1.Resources.verify(e.resources[t]);if(n)return"resources."+n}}if(null!=e.feedbacks&&e.hasOwnProperty("feedbacks")){if(!Array.isArray(e.feedbacks))return"feedbacks: array expected";for(let t=0;t<e.feedbacks.length;++t){let n=g.nexthink.protobuf.appex.extension.data.v1.Feedback.verify(e.feedbacks[t]);if(n)return"feedbacks."+n}}if(null!=e.errors&&e.hasOwnProperty("errors")){let t=g.nexthink.protobuf.appex.extension.data.v1.Errors.verify(e.errors);if(t)return"errors."+t}if(null!=e.transactionEvents&&e.hasOwnProperty("transactionEvents")){if(!Array.isArray(e.transactionEvents))return"transactionEvents: array expected";for(let t=0;t<e.transactionEvents.length;++t){let n=g.nexthink.protobuf.appex.extension.data.v1.TransactionEvent.verify(e.transactionEvents[t]);if(n)return"transactionEvents."+n}}if(null!=e.networkInformation&&e.hasOwnProperty("networkInformation")){t._networkInformation=1;{let t=g.nexthink.protobuf.appex.extension.data.v1.NetworkInformation.verify(e.networkInformation);if(t)return"networkInformation."+t}}return null!=e.openTabCount&&e.hasOwnProperty("openTabCount")&&!f.isInteger(e.openTabCount)?"openTabCount: integer expected":null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.NavigationData)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.NavigationData;if(null!=e.tabId&&(t.tabId=e.tabId>>>0),null!=e.navigationUrl&&(t.navigationUrl=String(e.navigationUrl)),null!=e.pageNavigationEvent){if("object"!=typeof e.pageNavigationEvent)throw TypeError(".nexthink.protobuf.appex.extension.data.v1.NavigationData.pageNavigationEvent: object expected");t.pageNavigationEvent=g.nexthink.protobuf.appex.extension.data.v1.PageNavigationEvent.fromObject(e.pageNavigationEvent)}if(null!=e.softNavigationEvent){if("object"!=typeof e.softNavigationEvent)throw TypeError(".nexthink.protobuf.appex.extension.data.v1.NavigationData.softNavigationEvent: object expected");t.softNavigationEvent=g.nexthink.protobuf.appex.extension.data.v1.SoftNavigationEvent.fromObject(e.softNavigationEvent)}if(e.resources){if(!Array.isArray(e.resources))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.NavigationData.resources: array expected");t.resources=[];for(let n=0;n<e.resources.length;++n){if("object"!=typeof e.resources[n])throw TypeError(".nexthink.protobuf.appex.extension.data.v1.NavigationData.resources: object expected");t.resources[n]=g.nexthink.protobuf.appex.extension.data.v1.Resources.fromObject(e.resources[n])}}if(e.feedbacks){if(!Array.isArray(e.feedbacks))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.NavigationData.feedbacks: array expected");t.feedbacks=[];for(let n=0;n<e.feedbacks.length;++n){if("object"!=typeof e.feedbacks[n])throw TypeError(".nexthink.protobuf.appex.extension.data.v1.NavigationData.feedbacks: object expected");t.feedbacks[n]=g.nexthink.protobuf.appex.extension.data.v1.Feedback.fromObject(e.feedbacks[n])}}if(null!=e.errors){if("object"!=typeof e.errors)throw TypeError(".nexthink.protobuf.appex.extension.data.v1.NavigationData.errors: object expected");t.errors=g.nexthink.protobuf.appex.extension.data.v1.Errors.fromObject(e.errors)}if(e.transactionEvents){if(!Array.isArray(e.transactionEvents))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.NavigationData.transactionEvents: array expected");t.transactionEvents=[];for(let n=0;n<e.transactionEvents.length;++n){if("object"!=typeof e.transactionEvents[n])throw TypeError(".nexthink.protobuf.appex.extension.data.v1.NavigationData.transactionEvents: object expected");t.transactionEvents[n]=g.nexthink.protobuf.appex.extension.data.v1.TransactionEvent.fromObject(e.transactionEvents[n])}}if(null!=e.networkInformation){if("object"!=typeof e.networkInformation)throw TypeError(".nexthink.protobuf.appex.extension.data.v1.NavigationData.networkInformation: object expected");t.networkInformation=g.nexthink.protobuf.appex.extension.data.v1.NetworkInformation.fromObject(e.networkInformation)}return null!=e.openTabCount&&(t.openTabCount=e.openTabCount>>>0),null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.resources=[],n.feedbacks=[],n.transactionEvents=[]),t.defaults&&(n.tabId=0,n.navigationUrl="",n.errors=null,n.openTabCount=0,n.experimental=""),null!=e.tabId&&e.hasOwnProperty("tabId")&&(n.tabId=e.tabId),null!=e.navigationUrl&&e.hasOwnProperty("navigationUrl")&&(n.navigationUrl=e.navigationUrl),null!=e.pageNavigationEvent&&e.hasOwnProperty("pageNavigationEvent")&&(n.pageNavigationEvent=g.nexthink.protobuf.appex.extension.data.v1.PageNavigationEvent.toObject(e.pageNavigationEvent,t),t.oneofs&&(n.navigationEvent="pageNavigationEvent")),null!=e.softNavigationEvent&&e.hasOwnProperty("softNavigationEvent")&&(n.softNavigationEvent=g.nexthink.protobuf.appex.extension.data.v1.SoftNavigationEvent.toObject(e.softNavigationEvent,t),t.oneofs&&(n.navigationEvent="softNavigationEvent")),e.resources&&e.resources.length){n.resources=[];for(let r=0;r<e.resources.length;++r)n.resources[r]=g.nexthink.protobuf.appex.extension.data.v1.Resources.toObject(e.resources[r],t)}if(e.feedbacks&&e.feedbacks.length){n.feedbacks=[];for(let r=0;r<e.feedbacks.length;++r)n.feedbacks[r]=g.nexthink.protobuf.appex.extension.data.v1.Feedback.toObject(e.feedbacks[r],t)}if(null!=e.errors&&e.hasOwnProperty("errors")&&(n.errors=g.nexthink.protobuf.appex.extension.data.v1.Errors.toObject(e.errors,t)),e.transactionEvents&&e.transactionEvents.length){n.transactionEvents=[];for(let r=0;r<e.transactionEvents.length;++r)n.transactionEvents[r]=g.nexthink.protobuf.appex.extension.data.v1.TransactionEvent.toObject(e.transactionEvents[r],t)}return null!=e.networkInformation&&e.hasOwnProperty("networkInformation")&&(n.networkInformation=g.nexthink.protobuf.appex.extension.data.v1.NetworkInformation.toObject(e.networkInformation,t),t.oneofs&&(n._networkInformation="networkInformation")),null!=e.openTabCount&&e.hasOwnProperty("openTabCount")&&(n.openTabCount=e.openTabCount),null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.NavigationData"},e}(),e.Errors=function(){function e(e){if(this.navigationErrors=[],this.resourceErrors=[],this.customErrors=[],this.experimental=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.navigationErrors=f.emptyArray,e.prototype.resourceErrors=f.emptyArray,e.prototype.customErrors=f.emptyArray,e.prototype.experimental=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.navigationErrors&&e.navigationErrors.length)for(let n=0;n<e.navigationErrors.length;++n)g.nexthink.protobuf.appex.extension.data.v1.NavigationError.encode(e.navigationErrors[n],t.uint32(10).fork()).ldelim();if(null!=e.resourceErrors&&e.resourceErrors.length)for(let n=0;n<e.resourceErrors.length;++n)g.nexthink.protobuf.appex.extension.data.v1.ResourceError.encode(e.resourceErrors[n],t.uint32(26).fork()).ldelim();if(null!=e.customErrors&&e.customErrors.length)for(let n=0;n<e.customErrors.length;++n)g.nexthink.protobuf.appex.extension.data.v1.CustomError.encode(e.customErrors[n],t.uint32(34).fork()).ldelim();if(null!=e.experimental&&e.experimental.length)for(let n=0;n<e.experimental.length;++n)t.uint32(122).string(e.experimental[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.Errors;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.navigationErrors&&r.navigationErrors.length||(r.navigationErrors=[]),r.navigationErrors.push(g.nexthink.protobuf.appex.extension.data.v1.NavigationError.decode(e,e.uint32()));break;case 3:r.resourceErrors&&r.resourceErrors.length||(r.resourceErrors=[]),r.resourceErrors.push(g.nexthink.protobuf.appex.extension.data.v1.ResourceError.decode(e,e.uint32()));break;case 4:r.customErrors&&r.customErrors.length||(r.customErrors=[]),r.customErrors.push(g.nexthink.protobuf.appex.extension.data.v1.CustomError.decode(e,e.uint32()));break;case 15:r.experimental&&r.experimental.length||(r.experimental=[]),r.experimental.push(e.string());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.navigationErrors&&e.hasOwnProperty("navigationErrors")){if(!Array.isArray(e.navigationErrors))return"navigationErrors: array expected";for(let t=0;t<e.navigationErrors.length;++t){let n=g.nexthink.protobuf.appex.extension.data.v1.NavigationError.verify(e.navigationErrors[t]);if(n)return"navigationErrors."+n}}if(null!=e.resourceErrors&&e.hasOwnProperty("resourceErrors")){if(!Array.isArray(e.resourceErrors))return"resourceErrors: array expected";for(let t=0;t<e.resourceErrors.length;++t){let n=g.nexthink.protobuf.appex.extension.data.v1.ResourceError.verify(e.resourceErrors[t]);if(n)return"resourceErrors."+n}}if(null!=e.customErrors&&e.hasOwnProperty("customErrors")){if(!Array.isArray(e.customErrors))return"customErrors: array expected";for(let t=0;t<e.customErrors.length;++t){let n=g.nexthink.protobuf.appex.extension.data.v1.CustomError.verify(e.customErrors[t]);if(n)return"customErrors."+n}}if(null!=e.experimental&&e.hasOwnProperty("experimental")){if(!Array.isArray(e.experimental))return"experimental: array expected";for(let t=0;t<e.experimental.length;++t)if(!f.isString(e.experimental[t]))return"experimental: string[] expected"}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.Errors)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.Errors;if(e.navigationErrors){if(!Array.isArray(e.navigationErrors))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Errors.navigationErrors: array expected");t.navigationErrors=[];for(let n=0;n<e.navigationErrors.length;++n){if("object"!=typeof e.navigationErrors[n])throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Errors.navigationErrors: object expected");t.navigationErrors[n]=g.nexthink.protobuf.appex.extension.data.v1.NavigationError.fromObject(e.navigationErrors[n])}}if(e.resourceErrors){if(!Array.isArray(e.resourceErrors))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Errors.resourceErrors: array expected");t.resourceErrors=[];for(let n=0;n<e.resourceErrors.length;++n){if("object"!=typeof e.resourceErrors[n])throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Errors.resourceErrors: object expected");t.resourceErrors[n]=g.nexthink.protobuf.appex.extension.data.v1.ResourceError.fromObject(e.resourceErrors[n])}}if(e.customErrors){if(!Array.isArray(e.customErrors))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Errors.customErrors: array expected");t.customErrors=[];for(let n=0;n<e.customErrors.length;++n){if("object"!=typeof e.customErrors[n])throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Errors.customErrors: object expected");t.customErrors[n]=g.nexthink.protobuf.appex.extension.data.v1.CustomError.fromObject(e.customErrors[n])}}if(e.experimental){if(!Array.isArray(e.experimental))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Errors.experimental: array expected");t.experimental=[];for(let n=0;n<e.experimental.length;++n)t.experimental[n]=String(e.experimental[n])}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.navigationErrors=[],n.resourceErrors=[],n.customErrors=[],n.experimental=[]),e.navigationErrors&&e.navigationErrors.length){n.navigationErrors=[];for(let r=0;r<e.navigationErrors.length;++r)n.navigationErrors[r]=g.nexthink.protobuf.appex.extension.data.v1.NavigationError.toObject(e.navigationErrors[r],t)}if(e.resourceErrors&&e.resourceErrors.length){n.resourceErrors=[];for(let r=0;r<e.resourceErrors.length;++r)n.resourceErrors[r]=g.nexthink.protobuf.appex.extension.data.v1.ResourceError.toObject(e.resourceErrors[r],t)}if(e.customErrors&&e.customErrors.length){n.customErrors=[];for(let r=0;r<e.customErrors.length;++r)n.customErrors[r]=g.nexthink.protobuf.appex.extension.data.v1.CustomError.toObject(e.customErrors[r],t)}if(e.experimental&&e.experimental.length){n.experimental=[];for(let t=0;t<e.experimental.length;++t)n.experimental[t]=e.experimental[t]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.Errors"},e}(),e.NavigationError=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.prototype.label="",e.prototype.count=0,e.prototype.activityLevel=0,e.prototype.experimental="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).uint32(e.code),null!=e.label&&Object.hasOwnProperty.call(e,"label")&&t.uint32(18).string(e.label),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(40).uint32(e.count),null!=e.activityLevel&&Object.hasOwnProperty.call(e,"activityLevel")&&t.uint32(48).int32(e.activityLevel),null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(122).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.NavigationError;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.code=e.uint32();break;case 2:r.label=e.string();break;case 5:r.count=e.uint32();break;case 6:r.activityLevel=e.int32();break;case 15:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.code&&e.hasOwnProperty("code")&&!f.isInteger(e.code))return"code: integer expected";if(null!=e.label&&e.hasOwnProperty("label")&&!f.isString(e.label))return"label: string expected";if(null!=e.count&&e.hasOwnProperty("count")&&!f.isInteger(e.count))return"count: integer expected";if(null!=e.activityLevel&&e.hasOwnProperty("activityLevel"))switch(e.activityLevel){default:return"activityLevel: enum value expected";case 0:case 5:case 6:}return null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.NavigationError)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.NavigationError;switch(null!=e.code&&(t.code=e.code>>>0),null!=e.label&&(t.label=String(e.label)),null!=e.count&&(t.count=e.count>>>0),e.activityLevel){default:if("number"==typeof e.activityLevel){t.activityLevel=e.activityLevel;break}break;case"ACTIVITY_LEVEL_UNSPECIFIED":case 0:t.activityLevel=0;break;case"ACTIVITY_LEVEL_UNFOCUSED":case 5:t.activityLevel=5;break;case"ACTIVITY_LEVEL_FOCUSED":case 6:t.activityLevel=6}return null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.code=0,n.label="",n.count=0,n.activityLevel=t.enums===String?"ACTIVITY_LEVEL_UNSPECIFIED":0,n.experimental=""),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.label&&e.hasOwnProperty("label")&&(n.label=e.label),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.activityLevel&&e.hasOwnProperty("activityLevel")&&(n.activityLevel=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.ActivityLevel[e.activityLevel]?e.activityLevel:g.nexthink.protobuf.appex.extension.config.v1.ActivityLevel[e.activityLevel]:e.activityLevel),null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.NavigationError"},e}(),e.ResourceError=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.code=0,e.prototype.label="",e.prototype.count=0,e.prototype.activityLevel=0,e.prototype.resourceType=0,e.prototype.resourceUrl="",e.prototype.experimental="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).uint32(e.code),null!=e.label&&Object.hasOwnProperty.call(e,"label")&&t.uint32(18).string(e.label),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(40).uint32(e.count),null!=e.activityLevel&&Object.hasOwnProperty.call(e,"activityLevel")&&t.uint32(48).int32(e.activityLevel),null!=e.resourceType&&Object.hasOwnProperty.call(e,"resourceType")&&t.uint32(80).int32(e.resourceType),null!=e.resourceUrl&&Object.hasOwnProperty.call(e,"resourceUrl")&&t.uint32(90).string(e.resourceUrl),null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(122).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.ResourceError;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.code=e.uint32();break;case 2:r.label=e.string();break;case 5:r.count=e.uint32();break;case 6:r.activityLevel=e.int32();break;case 10:r.resourceType=e.int32();break;case 11:r.resourceUrl=e.string();break;case 15:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.code&&e.hasOwnProperty("code")&&!f.isInteger(e.code))return"code: integer expected";if(null!=e.label&&e.hasOwnProperty("label")&&!f.isString(e.label))return"label: string expected";if(null!=e.count&&e.hasOwnProperty("count")&&!f.isInteger(e.count))return"count: integer expected";if(null!=e.activityLevel&&e.hasOwnProperty("activityLevel"))switch(e.activityLevel){default:return"activityLevel: enum value expected";case 0:case 5:case 6:}if(null!=e.resourceType&&e.hasOwnProperty("resourceType"))switch(e.resourceType){default:return"resourceType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:}return null!=e.resourceUrl&&e.hasOwnProperty("resourceUrl")&&!f.isString(e.resourceUrl)?"resourceUrl: string expected":null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.ResourceError)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.ResourceError;switch(null!=e.code&&(t.code=e.code>>>0),null!=e.label&&(t.label=String(e.label)),null!=e.count&&(t.count=e.count>>>0),e.activityLevel){default:if("number"==typeof e.activityLevel){t.activityLevel=e.activityLevel;break}break;case"ACTIVITY_LEVEL_UNSPECIFIED":case 0:t.activityLevel=0;break;case"ACTIVITY_LEVEL_UNFOCUSED":case 5:t.activityLevel=5;break;case"ACTIVITY_LEVEL_FOCUSED":case 6:t.activityLevel=6}switch(e.resourceType){default:if("number"==typeof e.resourceType){t.resourceType=e.resourceType;break}break;case"RESOURCE_TYPE_UNSPECIFIED":case 0:t.resourceType=0;break;case"RESOURCE_TYPE_BEACON":case 1:t.resourceType=1;break;case"RESOURCE_TYPE_CSP_REPORT":case 2:t.resourceType=2;break;case"RESOURCE_TYPE_FONT":case 3:t.resourceType=3;break;case"RESOURCE_TYPE_IMAGE":case 4:t.resourceType=4;break;case"RESOURCE_TYPE_IMAGE_SET":case 5:t.resourceType=5;break;case"RESOURCE_TYPE_MAIN_FRAME":case 6:t.resourceType=6;break;case"RESOURCE_TYPE_MEDIA":case 7:t.resourceType=7;break;case"RESOURCE_TYPE_OBJECT":case 8:t.resourceType=8;break;case"RESOURCE_TYPE_OBJECT_SUBREQUEST":case 9:t.resourceType=9;break;case"RESOURCE_TYPE_PING":case 10:t.resourceType=10;break;case"RESOURCE_TYPE_SCRIPT":case 11:t.resourceType=11;break;case"RESOURCE_TYPE_SPECULATIVE":case 12:t.resourceType=12;break;case"RESOURCE_TYPE_STYLESHEET":case 13:t.resourceType=13;break;case"RESOURCE_TYPE_SUBFRAME":case 14:t.resourceType=14;break;case"RESOURCE_TYPE_WEB_MANIFEST":case 15:t.resourceType=15;break;case"RESOURCE_TYPE_WEB_SOCKET":case 16:t.resourceType=16;break;case"RESOURCE_TYPE_XBL":case 17:t.resourceType=17;break;case"RESOURCE_TYPE_XML_DTD":case 18:t.resourceType=18;break;case"RESOURCE_TYPE_XML_HTTP_REQUEST":case 19:t.resourceType=19;break;case"RESOURCE_TYPE_XSLT":case 20:t.resourceType=20}return null!=e.resourceUrl&&(t.resourceUrl=String(e.resourceUrl)),null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.code=0,n.label="",n.count=0,n.activityLevel=t.enums===String?"ACTIVITY_LEVEL_UNSPECIFIED":0,n.resourceType=t.enums===String?"RESOURCE_TYPE_UNSPECIFIED":0,n.resourceUrl="",n.experimental=""),null!=e.code&&e.hasOwnProperty("code")&&(n.code=e.code),null!=e.label&&e.hasOwnProperty("label")&&(n.label=e.label),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.activityLevel&&e.hasOwnProperty("activityLevel")&&(n.activityLevel=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.ActivityLevel[e.activityLevel]?e.activityLevel:g.nexthink.protobuf.appex.extension.config.v1.ActivityLevel[e.activityLevel]:e.activityLevel),null!=e.resourceType&&e.hasOwnProperty("resourceType")&&(n.resourceType=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.ResourceType[e.resourceType]?e.resourceType:g.nexthink.protobuf.appex.extension.config.v1.ResourceType[e.resourceType]:e.resourceType),null!=e.resourceUrl&&e.hasOwnProperty("resourceUrl")&&(n.resourceUrl=e.resourceUrl),null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.ResourceError"},e}(),e.CustomError=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.errorMonitorId="",e.prototype.count=0,e.prototype.activityLevel=0,e.prototype.experimental="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.errorMonitorId&&Object.hasOwnProperty.call(e,"errorMonitorId")&&t.uint32(10).string(e.errorMonitorId),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(40).uint32(e.count),null!=e.activityLevel&&Object.hasOwnProperty.call(e,"activityLevel")&&t.uint32(48).int32(e.activityLevel),null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(122).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.CustomError;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.errorMonitorId=e.string();break;case 5:r.count=e.uint32();break;case 6:r.activityLevel=e.int32();break;case 15:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.errorMonitorId&&e.hasOwnProperty("errorMonitorId")&&!f.isString(e.errorMonitorId))return"errorMonitorId: string expected";if(null!=e.count&&e.hasOwnProperty("count")&&!f.isInteger(e.count))return"count: integer expected";if(null!=e.activityLevel&&e.hasOwnProperty("activityLevel"))switch(e.activityLevel){default:return"activityLevel: enum value expected";case 0:case 5:case 6:}return null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.CustomError)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.CustomError;switch(null!=e.errorMonitorId&&(t.errorMonitorId=String(e.errorMonitorId)),null!=e.count&&(t.count=e.count>>>0),e.activityLevel){default:if("number"==typeof e.activityLevel){t.activityLevel=e.activityLevel;break}break;case"ACTIVITY_LEVEL_UNSPECIFIED":case 0:t.activityLevel=0;break;case"ACTIVITY_LEVEL_UNFOCUSED":case 5:t.activityLevel=5;break;case"ACTIVITY_LEVEL_FOCUSED":case 6:t.activityLevel=6}return null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.errorMonitorId="",n.count=0,n.activityLevel=t.enums===String?"ACTIVITY_LEVEL_UNSPECIFIED":0,n.experimental=""),null!=e.errorMonitorId&&e.hasOwnProperty("errorMonitorId")&&(n.errorMonitorId=e.errorMonitorId),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),null!=e.activityLevel&&e.hasOwnProperty("activityLevel")&&(n.activityLevel=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.ActivityLevel[e.activityLevel]?e.activityLevel:g.nexthink.protobuf.appex.extension.config.v1.ActivityLevel[e.activityLevel]:e.activityLevel),null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.CustomError"},e}(),e.Feedback=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.createdTimestamp=0,e.prototype.category=0,e.prototype.message="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.createdTimestamp&&Object.hasOwnProperty.call(e,"createdTimestamp")&&t.uint32(9).double(e.createdTimestamp),null!=e.category&&Object.hasOwnProperty.call(e,"category")&&t.uint32(32).int32(e.category),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(42).string(e.message),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.Feedback;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.createdTimestamp=e.double();break;case 4:r.category=e.int32();break;case 5:r.message=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.createdTimestamp&&e.hasOwnProperty("createdTimestamp")&&"number"!=typeof e.createdTimestamp)return"createdTimestamp: number expected";if(null!=e.category&&e.hasOwnProperty("category"))switch(e.category){default:return"category: enum value expected";case 0:case 1:case 2:case 3:case 4:}return null!=e.message&&e.hasOwnProperty("message")&&!f.isString(e.message)?"message: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.Feedback)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.Feedback;switch(null!=e.createdTimestamp&&(t.createdTimestamp=Number(e.createdTimestamp)),e.category){default:if("number"==typeof e.category){t.category=e.category;break}break;case"FEEDBACK_CATEGORY_UNSPECIFIED":case 0:t.category=0;break;case"FEEDBACK_CATEGORY_BROKEN":case 1:t.category=1;break;case"FEEDBACK_CATEGORY_SLOW":case 2:t.category=2;break;case"FEEDBACK_CATEGORY_UNRESPONSIVE":case 3:t.category=3;break;case"FEEDBACK_CATEGORY_UGLY":case 4:t.category=4}return null!=e.message&&(t.message=String(e.message)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.createdTimestamp=0,n.category=t.enums===String?"FEEDBACK_CATEGORY_UNSPECIFIED":0,n.message=""),null!=e.createdTimestamp&&e.hasOwnProperty("createdTimestamp")&&(n.createdTimestamp=t.json&&!isFinite(e.createdTimestamp)?String(e.createdTimestamp):e.createdTimestamp),null!=e.category&&e.hasOwnProperty("category")&&(n.category=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.data.v1.FeedbackCategory[e.category]?e.category:g.nexthink.protobuf.appex.extension.data.v1.FeedbackCategory[e.category]:e.category),null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.Feedback"},e}(),e.FeedbackCategory=function(){const e={},t=Object.create(e);return t[e[0]="FEEDBACK_CATEGORY_UNSPECIFIED"]=0,t[e[1]="FEEDBACK_CATEGORY_BROKEN"]=1,t[e[2]="FEEDBACK_CATEGORY_SLOW"]=2,t[e[3]="FEEDBACK_CATEGORY_UNRESPONSIVE"]=3,t[e[4]="FEEDBACK_CATEGORY_UGLY"]=4,t}(),e.InstalledExtensions=function(){function e(e){if(this.extensionsInfo=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.extensionsInfo=f.emptyArray,e.prototype.browserName=0,e.prototype.browserVersion="",e.prototype.installationUuid="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.extensionsInfo&&e.extensionsInfo.length)for(let n=0;n<e.extensionsInfo.length;++n)g.nexthink.protobuf.appex.extension.data.v1.ExtensionInfo.encode(e.extensionsInfo[n],t.uint32(10).fork()).ldelim();return null!=e.browserName&&Object.hasOwnProperty.call(e,"browserName")&&t.uint32(16).int32(e.browserName),null!=e.browserVersion&&Object.hasOwnProperty.call(e,"browserVersion")&&t.uint32(26).string(e.browserVersion),null!=e.installationUuid&&Object.hasOwnProperty.call(e,"installationUuid")&&t.uint32(34).string(e.installationUuid),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.InstalledExtensions;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.extensionsInfo&&r.extensionsInfo.length||(r.extensionsInfo=[]),r.extensionsInfo.push(g.nexthink.protobuf.appex.extension.data.v1.ExtensionInfo.decode(e,e.uint32()));break;case 2:r.browserName=e.int32();break;case 3:r.browserVersion=e.string();break;case 4:r.installationUuid=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.extensionsInfo&&e.hasOwnProperty("extensionsInfo")){if(!Array.isArray(e.extensionsInfo))return"extensionsInfo: array expected";for(let t=0;t<e.extensionsInfo.length;++t){let n=g.nexthink.protobuf.appex.extension.data.v1.ExtensionInfo.verify(e.extensionsInfo[t]);if(n)return"extensionsInfo."+n}}if(null!=e.browserName&&e.hasOwnProperty("browserName"))switch(e.browserName){default:return"browserName: enum value expected";case 0:case 1:case 2:case 3:}return null!=e.browserVersion&&e.hasOwnProperty("browserVersion")&&!f.isString(e.browserVersion)?"browserVersion: string expected":null!=e.installationUuid&&e.hasOwnProperty("installationUuid")&&!f.isString(e.installationUuid)?"installationUuid: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.InstalledExtensions)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.InstalledExtensions;if(e.extensionsInfo){if(!Array.isArray(e.extensionsInfo))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.InstalledExtensions.extensionsInfo: array expected");t.extensionsInfo=[];for(let n=0;n<e.extensionsInfo.length;++n){if("object"!=typeof e.extensionsInfo[n])throw TypeError(".nexthink.protobuf.appex.extension.data.v1.InstalledExtensions.extensionsInfo: object expected");t.extensionsInfo[n]=g.nexthink.protobuf.appex.extension.data.v1.ExtensionInfo.fromObject(e.extensionsInfo[n])}}switch(e.browserName){default:if("number"==typeof e.browserName){t.browserName=e.browserName;break}break;case"BROWSER_UNSPECIFIED":case 0:t.browserName=0;break;case"BROWSER_CHROME":case 1:t.browserName=1;break;case"BROWSER_FIREFOX":case 2:t.browserName=2;break;case"BROWSER_EDGE":case 3:t.browserName=3}return null!=e.browserVersion&&(t.browserVersion=String(e.browserVersion)),null!=e.installationUuid&&(t.installationUuid=String(e.installationUuid)),t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.extensionsInfo=[]),t.defaults&&(n.browserName=t.enums===String?"BROWSER_UNSPECIFIED":0,n.browserVersion="",n.installationUuid=""),e.extensionsInfo&&e.extensionsInfo.length){n.extensionsInfo=[];for(let r=0;r<e.extensionsInfo.length;++r)n.extensionsInfo[r]=g.nexthink.protobuf.appex.extension.data.v1.ExtensionInfo.toObject(e.extensionsInfo[r],t)}return null!=e.browserName&&e.hasOwnProperty("browserName")&&(n.browserName=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.data.v1.InstalledExtensions.Browser[e.browserName]?e.browserName:g.nexthink.protobuf.appex.extension.data.v1.InstalledExtensions.Browser[e.browserName]:e.browserName),null!=e.browserVersion&&e.hasOwnProperty("browserVersion")&&(n.browserVersion=e.browserVersion),null!=e.installationUuid&&e.hasOwnProperty("installationUuid")&&(n.installationUuid=e.installationUuid),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.InstalledExtensions"},e.Browser=function(){const e={},t=Object.create(e);return t[e[0]="BROWSER_UNSPECIFIED"]=0,t[e[1]="BROWSER_CHROME"]=1,t[e[2]="BROWSER_FIREFOX"]=2,t[e[3]="BROWSER_EDGE"]=3,t}(),e}(),e.ExtensionInfo=function(){function e(e){if(this.hostPermissions=[],this.permissions=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.enabled=!1,e.prototype.id="",e.prototype.version="",e.prototype.name="",e.prototype.homepageUrl="",e.prototype.installType=0,e.prototype.hostPermissions=f.emptyArray,e.prototype.permissions=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.enabled&&Object.hasOwnProperty.call(e,"enabled")&&t.uint32(8).bool(e.enabled),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(18).string(e.id),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(26).string(e.version),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(34).string(e.name),null!=e.homepageUrl&&Object.hasOwnProperty.call(e,"homepageUrl")&&t.uint32(42).string(e.homepageUrl),null!=e.installType&&Object.hasOwnProperty.call(e,"installType")&&t.uint32(48).int32(e.installType),null!=e.hostPermissions&&e.hostPermissions.length)for(let n=0;n<e.hostPermissions.length;++n)t.uint32(58).string(e.hostPermissions[n]);if(null!=e.permissions&&e.permissions.length)for(let n=0;n<e.permissions.length;++n)t.uint32(66).string(e.permissions[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.ExtensionInfo;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.enabled=e.bool();break;case 2:r.id=e.string();break;case 3:r.version=e.string();break;case 4:r.name=e.string();break;case 5:r.homepageUrl=e.string();break;case 6:r.installType=e.int32();break;case 7:r.hostPermissions&&r.hostPermissions.length||(r.hostPermissions=[]),r.hostPermissions.push(e.string());break;case 8:r.permissions&&r.permissions.length||(r.permissions=[]),r.permissions.push(e.string());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.enabled&&e.hasOwnProperty("enabled")&&"boolean"!=typeof e.enabled)return"enabled: boolean expected";if(null!=e.id&&e.hasOwnProperty("id")&&!f.isString(e.id))return"id: string expected";if(null!=e.version&&e.hasOwnProperty("version")&&!f.isString(e.version))return"version: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(null!=e.homepageUrl&&e.hasOwnProperty("homepageUrl")&&!f.isString(e.homepageUrl))return"homepageUrl: string expected";if(null!=e.installType&&e.hasOwnProperty("installType"))switch(e.installType){default:return"installType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=e.hostPermissions&&e.hasOwnProperty("hostPermissions")){if(!Array.isArray(e.hostPermissions))return"hostPermissions: array expected";for(let t=0;t<e.hostPermissions.length;++t)if(!f.isString(e.hostPermissions[t]))return"hostPermissions: string[] expected"}if(null!=e.permissions&&e.hasOwnProperty("permissions")){if(!Array.isArray(e.permissions))return"permissions: array expected";for(let t=0;t<e.permissions.length;++t)if(!f.isString(e.permissions[t]))return"permissions: string[] expected"}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.ExtensionInfo)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.ExtensionInfo;switch(null!=e.enabled&&(t.enabled=Boolean(e.enabled)),null!=e.id&&(t.id=String(e.id)),null!=e.version&&(t.version=String(e.version)),null!=e.name&&(t.name=String(e.name)),null!=e.homepageUrl&&(t.homepageUrl=String(e.homepageUrl)),e.installType){default:if("number"==typeof e.installType){t.installType=e.installType;break}break;case"INSTALL_TYPE_UNSPECIFIED":case 0:t.installType=0;break;case"INSTALL_TYPE_ADMIN":case 1:t.installType=1;break;case"INSTALL_TYPE_DEVELOPMENT":case 2:t.installType=2;break;case"INSTALL_TYPE_NORMAL":case 3:t.installType=3;break;case"INSTALL_TYPE_SIDE_LOAD":case 4:t.installType=4;break;case"INSTALL_TYPE_OTHER":case 5:t.installType=5}if(e.hostPermissions){if(!Array.isArray(e.hostPermissions))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.ExtensionInfo.hostPermissions: array expected");t.hostPermissions=[];for(let n=0;n<e.hostPermissions.length;++n)t.hostPermissions[n]=String(e.hostPermissions[n])}if(e.permissions){if(!Array.isArray(e.permissions))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.ExtensionInfo.permissions: array expected");t.permissions=[];for(let n=0;n<e.permissions.length;++n)t.permissions[n]=String(e.permissions[n])}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.hostPermissions=[],n.permissions=[]),t.defaults&&(n.enabled=!1,n.id="",n.version="",n.name="",n.homepageUrl="",n.installType=t.enums===String?"INSTALL_TYPE_UNSPECIFIED":0),null!=e.enabled&&e.hasOwnProperty("enabled")&&(n.enabled=e.enabled),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.homepageUrl&&e.hasOwnProperty("homepageUrl")&&(n.homepageUrl=e.homepageUrl),null!=e.installType&&e.hasOwnProperty("installType")&&(n.installType=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.data.v1.ExtensionInfo.InstallType[e.installType]?e.installType:g.nexthink.protobuf.appex.extension.data.v1.ExtensionInfo.InstallType[e.installType]:e.installType),e.hostPermissions&&e.hostPermissions.length){n.hostPermissions=[];for(let t=0;t<e.hostPermissions.length;++t)n.hostPermissions[t]=e.hostPermissions[t]}if(e.permissions&&e.permissions.length){n.permissions=[];for(let t=0;t<e.permissions.length;++t)n.permissions[t]=e.permissions[t]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.ExtensionInfo"},e.InstallType=function(){const e={},t=Object.create(e);return t[e[0]="INSTALL_TYPE_UNSPECIFIED"]=0,t[e[1]="INSTALL_TYPE_ADMIN"]=1,t[e[2]="INSTALL_TYPE_DEVELOPMENT"]=2,t[e[3]="INSTALL_TYPE_NORMAL"]=3,t[e[4]="INSTALL_TYPE_SIDE_LOAD"]=4,t[e[5]="INSTALL_TYPE_OTHER"]=5,t}(),e}(),e.PageNavigationEvent=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.startTimestamp=0,e.prototype.status=0,e.prototype.perceivedDurationSeconds=null,e.prototype.readinessTiming=null,e.prototype.pageLoadTiming=null,e.prototype.perceivedExperienceLevel=0,e.prototype.experimental="",Object.defineProperty(e.prototype,"_perceivedDurationSeconds",{get:f.oneOfGetter(t=["perceivedDurationSeconds"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.startTimestamp&&Object.hasOwnProperty.call(e,"startTimestamp")&&t.uint32(9).double(e.startTimestamp),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(16).int32(e.status),null!=e.perceivedDurationSeconds&&Object.hasOwnProperty.call(e,"perceivedDurationSeconds")&&t.uint32(53).float(e.perceivedDurationSeconds),null!=e.readinessTiming&&Object.hasOwnProperty.call(e,"readinessTiming")&&g.nexthink.protobuf.appex.extension.data.v1.ReadinessTiming.encode(e.readinessTiming,t.uint32(58).fork()).ldelim(),null!=e.pageLoadTiming&&Object.hasOwnProperty.call(e,"pageLoadTiming")&&g.nexthink.protobuf.appex.extension.data.v1.PageLoadTiming.encode(e.pageLoadTiming,t.uint32(66).fork()).ldelim(),null!=e.perceivedExperienceLevel&&Object.hasOwnProperty.call(e,"perceivedExperienceLevel")&&t.uint32(72).int32(e.perceivedExperienceLevel),null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(122).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.PageNavigationEvent;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.startTimestamp=e.double();break;case 2:r.status=e.int32();break;case 6:r.perceivedDurationSeconds=e.float();break;case 7:r.readinessTiming=g.nexthink.protobuf.appex.extension.data.v1.ReadinessTiming.decode(e,e.uint32());break;case 8:r.pageLoadTiming=g.nexthink.protobuf.appex.extension.data.v1.PageLoadTiming.decode(e,e.uint32());break;case 9:r.perceivedExperienceLevel=e.int32();break;case 15:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.startTimestamp&&e.hasOwnProperty("startTimestamp")&&"number"!=typeof e.startTimestamp)return"startTimestamp: number expected";if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 2:case 3:case 4:case 5:case 6:case 7:case 10:}if(null!=e.perceivedDurationSeconds&&e.hasOwnProperty("perceivedDurationSeconds")&&"number"!=typeof e.perceivedDurationSeconds)return"perceivedDurationSeconds: number expected";if(null!=e.readinessTiming&&e.hasOwnProperty("readinessTiming")){let t=g.nexthink.protobuf.appex.extension.data.v1.ReadinessTiming.verify(e.readinessTiming);if(t)return"readinessTiming."+t}if(null!=e.pageLoadTiming&&e.hasOwnProperty("pageLoadTiming")){let t=g.nexthink.protobuf.appex.extension.data.v1.PageLoadTiming.verify(e.pageLoadTiming);if(t)return"pageLoadTiming."+t}if(null!=e.perceivedExperienceLevel&&e.hasOwnProperty("perceivedExperienceLevel"))switch(e.perceivedExperienceLevel){default:return"perceivedExperienceLevel: enum value expected";case 0:case 1:case 2:case 3:}return null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.PageNavigationEvent)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.PageNavigationEvent;switch(null!=e.startTimestamp&&(t.startTimestamp=Number(e.startTimestamp)),e.status){default:if("number"==typeof e.status){t.status=e.status;break}break;case"REQUEST_STATUS_UNSPECIFIED":case 0:t.status=0;break;case"REQUEST_STATUS_SUCCESS":case 2:t.status=2;break;case"REQUEST_STATUS_NOT_MODIFIED":case 3:t.status=3;break;case"REQUEST_STATUS_CLIENT_ERROR":case 4:t.status=4;break;case"REQUEST_STATUS_SERVER_ERROR":case 5:t.status=5;break;case"REQUEST_STATUS_NETWORK_ERROR":case 6:t.status=6;break;case"REQUEST_STATUS_SECURITY_ERROR":case 7:t.status=7;break;case"REQUEST_STATUS_UNKNOWN_ERROR":case 10:t.status=10}if(null!=e.perceivedDurationSeconds&&(t.perceivedDurationSeconds=Number(e.perceivedDurationSeconds)),null!=e.readinessTiming){if("object"!=typeof e.readinessTiming)throw TypeError(".nexthink.protobuf.appex.extension.data.v1.PageNavigationEvent.readinessTiming: object expected");t.readinessTiming=g.nexthink.protobuf.appex.extension.data.v1.ReadinessTiming.fromObject(e.readinessTiming)}if(null!=e.pageLoadTiming){if("object"!=typeof e.pageLoadTiming)throw TypeError(".nexthink.protobuf.appex.extension.data.v1.PageNavigationEvent.pageLoadTiming: object expected");t.pageLoadTiming=g.nexthink.protobuf.appex.extension.data.v1.PageLoadTiming.fromObject(e.pageLoadTiming)}switch(e.perceivedExperienceLevel){default:if("number"==typeof e.perceivedExperienceLevel){t.perceivedExperienceLevel=e.perceivedExperienceLevel;break}break;case"PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED":case 0:t.perceivedExperienceLevel=0;break;case"PERCEIVED_EXPERIENCE_LEVEL_GOOD":case 1:t.perceivedExperienceLevel=1;break;case"PERCEIVED_EXPERIENCE_LEVEL_AVERAGE":case 2:t.perceivedExperienceLevel=2;break;case"PERCEIVED_EXPERIENCE_LEVEL_FRUSTRATING":case 3:t.perceivedExperienceLevel=3}return null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.startTimestamp=0,n.status=t.enums===String?"REQUEST_STATUS_UNSPECIFIED":0,n.readinessTiming=null,n.pageLoadTiming=null,n.perceivedExperienceLevel=t.enums===String?"PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED":0,n.experimental=""),null!=e.startTimestamp&&e.hasOwnProperty("startTimestamp")&&(n.startTimestamp=t.json&&!isFinite(e.startTimestamp)?String(e.startTimestamp):e.startTimestamp),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.RequestStatus[e.status]?e.status:g.nexthink.protobuf.appex.extension.config.v1.RequestStatus[e.status]:e.status),null!=e.perceivedDurationSeconds&&e.hasOwnProperty("perceivedDurationSeconds")&&(n.perceivedDurationSeconds=t.json&&!isFinite(e.perceivedDurationSeconds)?String(e.perceivedDurationSeconds):e.perceivedDurationSeconds,t.oneofs&&(n._perceivedDurationSeconds="perceivedDurationSeconds")),null!=e.readinessTiming&&e.hasOwnProperty("readinessTiming")&&(n.readinessTiming=g.nexthink.protobuf.appex.extension.data.v1.ReadinessTiming.toObject(e.readinessTiming,t)),null!=e.pageLoadTiming&&e.hasOwnProperty("pageLoadTiming")&&(n.pageLoadTiming=g.nexthink.protobuf.appex.extension.data.v1.PageLoadTiming.toObject(e.pageLoadTiming,t)),null!=e.perceivedExperienceLevel&&e.hasOwnProperty("perceivedExperienceLevel")&&(n.perceivedExperienceLevel=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.PerceivedExperienceLevel[e.perceivedExperienceLevel]?e.perceivedExperienceLevel:g.nexthink.protobuf.appex.extension.config.v1.PerceivedExperienceLevel[e.perceivedExperienceLevel]:e.perceivedExperienceLevel),null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.PageNavigationEvent"},e}(),e.SoftNavigationEvent=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.startTimestamp=0,e.prototype.status=0,e.prototype.perceivedDurationSeconds=null,e.prototype.readinessTiming=null,e.prototype.perceivedExperienceLevel=0,e.prototype.experimental="",Object.defineProperty(e.prototype,"_perceivedDurationSeconds",{get:f.oneOfGetter(t=["perceivedDurationSeconds"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.startTimestamp&&Object.hasOwnProperty.call(e,"startTimestamp")&&t.uint32(9).double(e.startTimestamp),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(16).int32(e.status),null!=e.perceivedDurationSeconds&&Object.hasOwnProperty.call(e,"perceivedDurationSeconds")&&t.uint32(53).float(e.perceivedDurationSeconds),null!=e.readinessTiming&&Object.hasOwnProperty.call(e,"readinessTiming")&&g.nexthink.protobuf.appex.extension.data.v1.ReadinessTiming.encode(e.readinessTiming,t.uint32(58).fork()).ldelim(),null!=e.perceivedExperienceLevel&&Object.hasOwnProperty.call(e,"perceivedExperienceLevel")&&t.uint32(72).int32(e.perceivedExperienceLevel),null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(122).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.SoftNavigationEvent;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.startTimestamp=e.double();break;case 2:r.status=e.int32();break;case 6:r.perceivedDurationSeconds=e.float();break;case 7:r.readinessTiming=g.nexthink.protobuf.appex.extension.data.v1.ReadinessTiming.decode(e,e.uint32());break;case 9:r.perceivedExperienceLevel=e.int32();break;case 15:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.startTimestamp&&e.hasOwnProperty("startTimestamp")&&"number"!=typeof e.startTimestamp)return"startTimestamp: number expected";if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 2:case 3:case 4:case 5:case 6:case 7:case 10:}if(null!=e.perceivedDurationSeconds&&e.hasOwnProperty("perceivedDurationSeconds")&&"number"!=typeof e.perceivedDurationSeconds)return"perceivedDurationSeconds: number expected";if(null!=e.readinessTiming&&e.hasOwnProperty("readinessTiming")){let t=g.nexthink.protobuf.appex.extension.data.v1.ReadinessTiming.verify(e.readinessTiming);if(t)return"readinessTiming."+t}if(null!=e.perceivedExperienceLevel&&e.hasOwnProperty("perceivedExperienceLevel"))switch(e.perceivedExperienceLevel){default:return"perceivedExperienceLevel: enum value expected";case 0:case 1:case 2:case 3:}return null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.SoftNavigationEvent)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.SoftNavigationEvent;switch(null!=e.startTimestamp&&(t.startTimestamp=Number(e.startTimestamp)),e.status){default:if("number"==typeof e.status){t.status=e.status;break}break;case"REQUEST_STATUS_UNSPECIFIED":case 0:t.status=0;break;case"REQUEST_STATUS_SUCCESS":case 2:t.status=2;break;case"REQUEST_STATUS_NOT_MODIFIED":case 3:t.status=3;break;case"REQUEST_STATUS_CLIENT_ERROR":case 4:t.status=4;break;case"REQUEST_STATUS_SERVER_ERROR":case 5:t.status=5;break;case"REQUEST_STATUS_NETWORK_ERROR":case 6:t.status=6;break;case"REQUEST_STATUS_SECURITY_ERROR":case 7:t.status=7;break;case"REQUEST_STATUS_UNKNOWN_ERROR":case 10:t.status=10}if(null!=e.perceivedDurationSeconds&&(t.perceivedDurationSeconds=Number(e.perceivedDurationSeconds)),null!=e.readinessTiming){if("object"!=typeof e.readinessTiming)throw TypeError(".nexthink.protobuf.appex.extension.data.v1.SoftNavigationEvent.readinessTiming: object expected");t.readinessTiming=g.nexthink.protobuf.appex.extension.data.v1.ReadinessTiming.fromObject(e.readinessTiming)}switch(e.perceivedExperienceLevel){default:if("number"==typeof e.perceivedExperienceLevel){t.perceivedExperienceLevel=e.perceivedExperienceLevel;break}break;case"PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED":case 0:t.perceivedExperienceLevel=0;break;case"PERCEIVED_EXPERIENCE_LEVEL_GOOD":case 1:t.perceivedExperienceLevel=1;break;case"PERCEIVED_EXPERIENCE_LEVEL_AVERAGE":case 2:t.perceivedExperienceLevel=2;break;case"PERCEIVED_EXPERIENCE_LEVEL_FRUSTRATING":case 3:t.perceivedExperienceLevel=3}return null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.startTimestamp=0,n.status=t.enums===String?"REQUEST_STATUS_UNSPECIFIED":0,n.readinessTiming=null,n.perceivedExperienceLevel=t.enums===String?"PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED":0,n.experimental=""),null!=e.startTimestamp&&e.hasOwnProperty("startTimestamp")&&(n.startTimestamp=t.json&&!isFinite(e.startTimestamp)?String(e.startTimestamp):e.startTimestamp),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.RequestStatus[e.status]?e.status:g.nexthink.protobuf.appex.extension.config.v1.RequestStatus[e.status]:e.status),null!=e.perceivedDurationSeconds&&e.hasOwnProperty("perceivedDurationSeconds")&&(n.perceivedDurationSeconds=t.json&&!isFinite(e.perceivedDurationSeconds)?String(e.perceivedDurationSeconds):e.perceivedDurationSeconds,t.oneofs&&(n._perceivedDurationSeconds="perceivedDurationSeconds")),null!=e.readinessTiming&&e.hasOwnProperty("readinessTiming")&&(n.readinessTiming=g.nexthink.protobuf.appex.extension.data.v1.ReadinessTiming.toObject(e.readinessTiming,t)),null!=e.perceivedExperienceLevel&&e.hasOwnProperty("perceivedExperienceLevel")&&(n.perceivedExperienceLevel=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.PerceivedExperienceLevel[e.perceivedExperienceLevel]?e.perceivedExperienceLevel:g.nexthink.protobuf.appex.extension.config.v1.PerceivedExperienceLevel[e.perceivedExperienceLevel]:e.perceivedExperienceLevel),null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.SoftNavigationEvent"},e}(),e.ReadinessTiming=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.stableDomSeconds=null,e.prototype.firstInteractionSeconds=null,e.prototype.transactionSeconds=null,e.prototype.clientDurationSeconds=null,e.prototype.networkDurationSeconds=null,e.prototype.backendDurationSeconds=null,e.prototype.experimental="",Object.defineProperty(e.prototype,"_stableDomSeconds",{get:f.oneOfGetter(t=["stableDomSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_firstInteractionSeconds",{get:f.oneOfGetter(t=["firstInteractionSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_transactionSeconds",{get:f.oneOfGetter(t=["transactionSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_clientDurationSeconds",{get:f.oneOfGetter(t=["clientDurationSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_networkDurationSeconds",{get:f.oneOfGetter(t=["networkDurationSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_backendDurationSeconds",{get:f.oneOfGetter(t=["backendDurationSeconds"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.stableDomSeconds&&Object.hasOwnProperty.call(e,"stableDomSeconds")&&t.uint32(21).float(e.stableDomSeconds),null!=e.firstInteractionSeconds&&Object.hasOwnProperty.call(e,"firstInteractionSeconds")&&t.uint32(29).float(e.firstInteractionSeconds),null!=e.transactionSeconds&&Object.hasOwnProperty.call(e,"transactionSeconds")&&t.uint32(37).float(e.transactionSeconds),null!=e.clientDurationSeconds&&Object.hasOwnProperty.call(e,"clientDurationSeconds")&&t.uint32(45).float(e.clientDurationSeconds),null!=e.networkDurationSeconds&&Object.hasOwnProperty.call(e,"networkDurationSeconds")&&t.uint32(53).float(e.networkDurationSeconds),null!=e.backendDurationSeconds&&Object.hasOwnProperty.call(e,"backendDurationSeconds")&&t.uint32(61).float(e.backendDurationSeconds),null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(122).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.ReadinessTiming;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 2:r.stableDomSeconds=e.float();break;case 3:r.firstInteractionSeconds=e.float();break;case 4:r.transactionSeconds=e.float();break;case 5:r.clientDurationSeconds=e.float();break;case 6:r.networkDurationSeconds=e.float();break;case 7:r.backendDurationSeconds=e.float();break;case 15:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};return null!=e.stableDomSeconds&&e.hasOwnProperty("stableDomSeconds")&&(t._stableDomSeconds=1,"number"!=typeof e.stableDomSeconds)?"stableDomSeconds: number expected":null!=e.firstInteractionSeconds&&e.hasOwnProperty("firstInteractionSeconds")&&(t._firstInteractionSeconds=1,"number"!=typeof e.firstInteractionSeconds)?"firstInteractionSeconds: number expected":null!=e.transactionSeconds&&e.hasOwnProperty("transactionSeconds")&&(t._transactionSeconds=1,"number"!=typeof e.transactionSeconds)?"transactionSeconds: number expected":null!=e.clientDurationSeconds&&e.hasOwnProperty("clientDurationSeconds")&&(t._clientDurationSeconds=1,"number"!=typeof e.clientDurationSeconds)?"clientDurationSeconds: number expected":null!=e.networkDurationSeconds&&e.hasOwnProperty("networkDurationSeconds")&&(t._networkDurationSeconds=1,"number"!=typeof e.networkDurationSeconds)?"networkDurationSeconds: number expected":null!=e.backendDurationSeconds&&e.hasOwnProperty("backendDurationSeconds")&&(t._backendDurationSeconds=1,"number"!=typeof e.backendDurationSeconds)?"backendDurationSeconds: number expected":null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.ReadinessTiming)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.ReadinessTiming;return null!=e.stableDomSeconds&&(t.stableDomSeconds=Number(e.stableDomSeconds)),null!=e.firstInteractionSeconds&&(t.firstInteractionSeconds=Number(e.firstInteractionSeconds)),null!=e.transactionSeconds&&(t.transactionSeconds=Number(e.transactionSeconds)),null!=e.clientDurationSeconds&&(t.clientDurationSeconds=Number(e.clientDurationSeconds)),null!=e.networkDurationSeconds&&(t.networkDurationSeconds=Number(e.networkDurationSeconds)),null!=e.backendDurationSeconds&&(t.backendDurationSeconds=Number(e.backendDurationSeconds)),null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.experimental=""),null!=e.stableDomSeconds&&e.hasOwnProperty("stableDomSeconds")&&(n.stableDomSeconds=t.json&&!isFinite(e.stableDomSeconds)?String(e.stableDomSeconds):e.stableDomSeconds,t.oneofs&&(n._stableDomSeconds="stableDomSeconds")),null!=e.firstInteractionSeconds&&e.hasOwnProperty("firstInteractionSeconds")&&(n.firstInteractionSeconds=t.json&&!isFinite(e.firstInteractionSeconds)?String(e.firstInteractionSeconds):e.firstInteractionSeconds,t.oneofs&&(n._firstInteractionSeconds="firstInteractionSeconds")),null!=e.transactionSeconds&&e.hasOwnProperty("transactionSeconds")&&(n.transactionSeconds=t.json&&!isFinite(e.transactionSeconds)?String(e.transactionSeconds):e.transactionSeconds,t.oneofs&&(n._transactionSeconds="transactionSeconds")),null!=e.clientDurationSeconds&&e.hasOwnProperty("clientDurationSeconds")&&(n.clientDurationSeconds=t.json&&!isFinite(e.clientDurationSeconds)?String(e.clientDurationSeconds):e.clientDurationSeconds,t.oneofs&&(n._clientDurationSeconds="clientDurationSeconds")),null!=e.networkDurationSeconds&&e.hasOwnProperty("networkDurationSeconds")&&(n.networkDurationSeconds=t.json&&!isFinite(e.networkDurationSeconds)?String(e.networkDurationSeconds):e.networkDurationSeconds,t.oneofs&&(n._networkDurationSeconds="networkDurationSeconds")),null!=e.backendDurationSeconds&&e.hasOwnProperty("backendDurationSeconds")&&(n.backendDurationSeconds=t.json&&!isFinite(e.backendDurationSeconds)?String(e.backendDurationSeconds):e.backendDurationSeconds,t.oneofs&&(n._backendDurationSeconds="backendDurationSeconds")),null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.ReadinessTiming"},e}(),e.PageLoadTiming=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.durationSeconds=null,e.prototype.unloadEventSeconds=null,e.prototype.redirectSeconds=null,e.prototype.redirectCount=null,e.prototype.domainLookupSeconds=null,e.prototype.connectSeconds=null,e.prototype.secureConnectionSeconds=null,e.prototype.requestSeconds=null,e.prototype.responseSeconds=null,e.prototype.transferBytes=null,e.prototype.domProcessingSeconds=null,e.prototype.domContentLoadedEventSeconds=null,e.prototype.loadEventSeconds=null,e.prototype.experimental="",Object.defineProperty(e.prototype,"_durationSeconds",{get:f.oneOfGetter(t=["durationSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_unloadEventSeconds",{get:f.oneOfGetter(t=["unloadEventSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_redirectSeconds",{get:f.oneOfGetter(t=["redirectSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_redirectCount",{get:f.oneOfGetter(t=["redirectCount"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_domainLookupSeconds",{get:f.oneOfGetter(t=["domainLookupSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_connectSeconds",{get:f.oneOfGetter(t=["connectSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_secureConnectionSeconds",{get:f.oneOfGetter(t=["secureConnectionSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_requestSeconds",{get:f.oneOfGetter(t=["requestSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_responseSeconds",{get:f.oneOfGetter(t=["responseSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_transferBytes",{get:f.oneOfGetter(t=["transferBytes"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_domProcessingSeconds",{get:f.oneOfGetter(t=["domProcessingSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_domContentLoadedEventSeconds",{get:f.oneOfGetter(t=["domContentLoadedEventSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_loadEventSeconds",{get:f.oneOfGetter(t=["loadEventSeconds"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.durationSeconds&&Object.hasOwnProperty.call(e,"durationSeconds")&&t.uint32(13).float(e.durationSeconds),null!=e.unloadEventSeconds&&Object.hasOwnProperty.call(e,"unloadEventSeconds")&&t.uint32(21).float(e.unloadEventSeconds),null!=e.redirectSeconds&&Object.hasOwnProperty.call(e,"redirectSeconds")&&t.uint32(29).float(e.redirectSeconds),null!=e.redirectCount&&Object.hasOwnProperty.call(e,"redirectCount")&&t.uint32(32).uint32(e.redirectCount),null!=e.domainLookupSeconds&&Object.hasOwnProperty.call(e,"domainLookupSeconds")&&t.uint32(45).float(e.domainLookupSeconds),null!=e.connectSeconds&&Object.hasOwnProperty.call(e,"connectSeconds")&&t.uint32(53).float(e.connectSeconds),null!=e.secureConnectionSeconds&&Object.hasOwnProperty.call(e,"secureConnectionSeconds")&&t.uint32(61).float(e.secureConnectionSeconds),null!=e.requestSeconds&&Object.hasOwnProperty.call(e,"requestSeconds")&&t.uint32(69).float(e.requestSeconds),null!=e.responseSeconds&&Object.hasOwnProperty.call(e,"responseSeconds")&&t.uint32(77).float(e.responseSeconds),null!=e.transferBytes&&Object.hasOwnProperty.call(e,"transferBytes")&&t.uint32(80).uint64(e.transferBytes),null!=e.domProcessingSeconds&&Object.hasOwnProperty.call(e,"domProcessingSeconds")&&t.uint32(93).float(e.domProcessingSeconds),null!=e.domContentLoadedEventSeconds&&Object.hasOwnProperty.call(e,"domContentLoadedEventSeconds")&&t.uint32(101).float(e.domContentLoadedEventSeconds),null!=e.loadEventSeconds&&Object.hasOwnProperty.call(e,"loadEventSeconds")&&t.uint32(109).float(e.loadEventSeconds),null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(802).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.PageLoadTiming;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.durationSeconds=e.float();break;case 2:r.unloadEventSeconds=e.float();break;case 3:r.redirectSeconds=e.float();break;case 4:r.redirectCount=e.uint32();break;case 5:r.domainLookupSeconds=e.float();break;case 6:r.connectSeconds=e.float();break;case 7:r.secureConnectionSeconds=e.float();break;case 8:r.requestSeconds=e.float();break;case 9:r.responseSeconds=e.float();break;case 10:r.transferBytes=e.uint64();break;case 11:r.domProcessingSeconds=e.float();break;case 12:r.domContentLoadedEventSeconds=e.float();break;case 13:r.loadEventSeconds=e.float();break;case 100:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};return null!=e.durationSeconds&&e.hasOwnProperty("durationSeconds")&&(t._durationSeconds=1,"number"!=typeof e.durationSeconds)?"durationSeconds: number expected":null!=e.unloadEventSeconds&&e.hasOwnProperty("unloadEventSeconds")&&(t._unloadEventSeconds=1,"number"!=typeof e.unloadEventSeconds)?"unloadEventSeconds: number expected":null!=e.redirectSeconds&&e.hasOwnProperty("redirectSeconds")&&(t._redirectSeconds=1,"number"!=typeof e.redirectSeconds)?"redirectSeconds: number expected":null!=e.redirectCount&&e.hasOwnProperty("redirectCount")&&(t._redirectCount=1,!f.isInteger(e.redirectCount))?"redirectCount: integer expected":null!=e.domainLookupSeconds&&e.hasOwnProperty("domainLookupSeconds")&&(t._domainLookupSeconds=1,"number"!=typeof e.domainLookupSeconds)?"domainLookupSeconds: number expected":null!=e.connectSeconds&&e.hasOwnProperty("connectSeconds")&&(t._connectSeconds=1,"number"!=typeof e.connectSeconds)?"connectSeconds: number expected":null!=e.secureConnectionSeconds&&e.hasOwnProperty("secureConnectionSeconds")&&(t._secureConnectionSeconds=1,"number"!=typeof e.secureConnectionSeconds)?"secureConnectionSeconds: number expected":null!=e.requestSeconds&&e.hasOwnProperty("requestSeconds")&&(t._requestSeconds=1,"number"!=typeof e.requestSeconds)?"requestSeconds: number expected":null!=e.responseSeconds&&e.hasOwnProperty("responseSeconds")&&(t._responseSeconds=1,"number"!=typeof e.responseSeconds)?"responseSeconds: number expected":null==e.transferBytes||!e.hasOwnProperty("transferBytes")||(t._transferBytes=1,f.isInteger(e.transferBytes)||e.transferBytes&&f.isInteger(e.transferBytes.low)&&f.isInteger(e.transferBytes.high))?null!=e.domProcessingSeconds&&e.hasOwnProperty("domProcessingSeconds")&&(t._domProcessingSeconds=1,"number"!=typeof e.domProcessingSeconds)?"domProcessingSeconds: number expected":null!=e.domContentLoadedEventSeconds&&e.hasOwnProperty("domContentLoadedEventSeconds")&&(t._domContentLoadedEventSeconds=1,"number"!=typeof e.domContentLoadedEventSeconds)?"domContentLoadedEventSeconds: number expected":null!=e.loadEventSeconds&&e.hasOwnProperty("loadEventSeconds")&&(t._loadEventSeconds=1,"number"!=typeof e.loadEventSeconds)?"loadEventSeconds: number expected":null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null:"transferBytes: integer|Long expected"},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.PageLoadTiming)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.PageLoadTiming;return null!=e.durationSeconds&&(t.durationSeconds=Number(e.durationSeconds)),null!=e.unloadEventSeconds&&(t.unloadEventSeconds=Number(e.unloadEventSeconds)),null!=e.redirectSeconds&&(t.redirectSeconds=Number(e.redirectSeconds)),null!=e.redirectCount&&(t.redirectCount=e.redirectCount>>>0),null!=e.domainLookupSeconds&&(t.domainLookupSeconds=Number(e.domainLookupSeconds)),null!=e.connectSeconds&&(t.connectSeconds=Number(e.connectSeconds)),null!=e.secureConnectionSeconds&&(t.secureConnectionSeconds=Number(e.secureConnectionSeconds)),null!=e.requestSeconds&&(t.requestSeconds=Number(e.requestSeconds)),null!=e.responseSeconds&&(t.responseSeconds=Number(e.responseSeconds)),null!=e.transferBytes&&(f.Long?(t.transferBytes=f.Long.fromValue(e.transferBytes)).unsigned=!0:"string"==typeof e.transferBytes?t.transferBytes=parseInt(e.transferBytes,10):"number"==typeof e.transferBytes?t.transferBytes=e.transferBytes:"object"==typeof e.transferBytes&&(t.transferBytes=new f.LongBits(e.transferBytes.low>>>0,e.transferBytes.high>>>0).toNumber(!0))),null!=e.domProcessingSeconds&&(t.domProcessingSeconds=Number(e.domProcessingSeconds)),null!=e.domContentLoadedEventSeconds&&(t.domContentLoadedEventSeconds=Number(e.domContentLoadedEventSeconds)),null!=e.loadEventSeconds&&(t.loadEventSeconds=Number(e.loadEventSeconds)),null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.experimental=""),null!=e.durationSeconds&&e.hasOwnProperty("durationSeconds")&&(n.durationSeconds=t.json&&!isFinite(e.durationSeconds)?String(e.durationSeconds):e.durationSeconds,t.oneofs&&(n._durationSeconds="durationSeconds")),null!=e.unloadEventSeconds&&e.hasOwnProperty("unloadEventSeconds")&&(n.unloadEventSeconds=t.json&&!isFinite(e.unloadEventSeconds)?String(e.unloadEventSeconds):e.unloadEventSeconds,t.oneofs&&(n._unloadEventSeconds="unloadEventSeconds")),null!=e.redirectSeconds&&e.hasOwnProperty("redirectSeconds")&&(n.redirectSeconds=t.json&&!isFinite(e.redirectSeconds)?String(e.redirectSeconds):e.redirectSeconds,t.oneofs&&(n._redirectSeconds="redirectSeconds")),null!=e.redirectCount&&e.hasOwnProperty("redirectCount")&&(n.redirectCount=e.redirectCount,t.oneofs&&(n._redirectCount="redirectCount")),null!=e.domainLookupSeconds&&e.hasOwnProperty("domainLookupSeconds")&&(n.domainLookupSeconds=t.json&&!isFinite(e.domainLookupSeconds)?String(e.domainLookupSeconds):e.domainLookupSeconds,t.oneofs&&(n._domainLookupSeconds="domainLookupSeconds")),null!=e.connectSeconds&&e.hasOwnProperty("connectSeconds")&&(n.connectSeconds=t.json&&!isFinite(e.connectSeconds)?String(e.connectSeconds):e.connectSeconds,t.oneofs&&(n._connectSeconds="connectSeconds")),null!=e.secureConnectionSeconds&&e.hasOwnProperty("secureConnectionSeconds")&&(n.secureConnectionSeconds=t.json&&!isFinite(e.secureConnectionSeconds)?String(e.secureConnectionSeconds):e.secureConnectionSeconds,t.oneofs&&(n._secureConnectionSeconds="secureConnectionSeconds")),null!=e.requestSeconds&&e.hasOwnProperty("requestSeconds")&&(n.requestSeconds=t.json&&!isFinite(e.requestSeconds)?String(e.requestSeconds):e.requestSeconds,t.oneofs&&(n._requestSeconds="requestSeconds")),null!=e.responseSeconds&&e.hasOwnProperty("responseSeconds")&&(n.responseSeconds=t.json&&!isFinite(e.responseSeconds)?String(e.responseSeconds):e.responseSeconds,t.oneofs&&(n._responseSeconds="responseSeconds")),null!=e.transferBytes&&e.hasOwnProperty("transferBytes")&&("number"==typeof e.transferBytes?n.transferBytes=t.longs===String?String(e.transferBytes):e.transferBytes:n.transferBytes=t.longs===String?f.Long.prototype.toString.call(e.transferBytes):t.longs===Number?new f.LongBits(e.transferBytes.low>>>0,e.transferBytes.high>>>0).toNumber(!0):e.transferBytes,t.oneofs&&(n._transferBytes="transferBytes")),null!=e.domProcessingSeconds&&e.hasOwnProperty("domProcessingSeconds")&&(n.domProcessingSeconds=t.json&&!isFinite(e.domProcessingSeconds)?String(e.domProcessingSeconds):e.domProcessingSeconds,t.oneofs&&(n._domProcessingSeconds="domProcessingSeconds")),null!=e.domContentLoadedEventSeconds&&e.hasOwnProperty("domContentLoadedEventSeconds")&&(n.domContentLoadedEventSeconds=t.json&&!isFinite(e.domContentLoadedEventSeconds)?String(e.domContentLoadedEventSeconds):e.domContentLoadedEventSeconds,t.oneofs&&(n._domContentLoadedEventSeconds="domContentLoadedEventSeconds")),null!=e.loadEventSeconds&&e.hasOwnProperty("loadEventSeconds")&&(n.loadEventSeconds=t.json&&!isFinite(e.loadEventSeconds)?String(e.loadEventSeconds):e.loadEventSeconds,t.oneofs&&(n._loadEventSeconds="loadEventSeconds")),null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.PageLoadTiming"},e}(),e.Resources=function(){function e(e){if(this.timingSample=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.resourceType=0,e.prototype.status=0,e.prototype.count=0,e.prototype.timingSample=f.emptyArray,e.prototype.experimental="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.resourceType&&Object.hasOwnProperty.call(e,"resourceType")&&t.uint32(8).int32(e.resourceType),null!=e.count&&Object.hasOwnProperty.call(e,"count")&&t.uint32(16).uint32(e.count),null!=e.timingSample&&e.timingSample.length)for(let n=0;n<e.timingSample.length;++n)g.nexthink.protobuf.appex.extension.data.v1.ResourceTiming.encode(e.timingSample[n],t.uint32(26).fork()).ldelim();return null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(32).int32(e.status),null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(122).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.Resources;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.resourceType=e.int32();break;case 4:r.status=e.int32();break;case 2:r.count=e.uint32();break;case 3:r.timingSample&&r.timingSample.length||(r.timingSample=[]),r.timingSample.push(g.nexthink.protobuf.appex.extension.data.v1.ResourceTiming.decode(e,e.uint32()));break;case 15:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.resourceType&&e.hasOwnProperty("resourceType"))switch(e.resourceType){default:return"resourceType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:}if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 2:case 3:case 4:case 5:case 6:case 7:case 10:}if(null!=e.count&&e.hasOwnProperty("count")&&!f.isInteger(e.count))return"count: integer expected";if(null!=e.timingSample&&e.hasOwnProperty("timingSample")){if(!Array.isArray(e.timingSample))return"timingSample: array expected";for(let t=0;t<e.timingSample.length;++t){let n=g.nexthink.protobuf.appex.extension.data.v1.ResourceTiming.verify(e.timingSample[t]);if(n)return"timingSample."+n}}return null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.Resources)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.Resources;switch(e.resourceType){default:if("number"==typeof e.resourceType){t.resourceType=e.resourceType;break}break;case"RESOURCE_TYPE_UNSPECIFIED":case 0:t.resourceType=0;break;case"RESOURCE_TYPE_BEACON":case 1:t.resourceType=1;break;case"RESOURCE_TYPE_CSP_REPORT":case 2:t.resourceType=2;break;case"RESOURCE_TYPE_FONT":case 3:t.resourceType=3;break;case"RESOURCE_TYPE_IMAGE":case 4:t.resourceType=4;break;case"RESOURCE_TYPE_IMAGE_SET":case 5:t.resourceType=5;break;case"RESOURCE_TYPE_MAIN_FRAME":case 6:t.resourceType=6;break;case"RESOURCE_TYPE_MEDIA":case 7:t.resourceType=7;break;case"RESOURCE_TYPE_OBJECT":case 8:t.resourceType=8;break;case"RESOURCE_TYPE_OBJECT_SUBREQUEST":case 9:t.resourceType=9;break;case"RESOURCE_TYPE_PING":case 10:t.resourceType=10;break;case"RESOURCE_TYPE_SCRIPT":case 11:t.resourceType=11;break;case"RESOURCE_TYPE_SPECULATIVE":case 12:t.resourceType=12;break;case"RESOURCE_TYPE_STYLESHEET":case 13:t.resourceType=13;break;case"RESOURCE_TYPE_SUBFRAME":case 14:t.resourceType=14;break;case"RESOURCE_TYPE_WEB_MANIFEST":case 15:t.resourceType=15;break;case"RESOURCE_TYPE_WEB_SOCKET":case 16:t.resourceType=16;break;case"RESOURCE_TYPE_XBL":case 17:t.resourceType=17;break;case"RESOURCE_TYPE_XML_DTD":case 18:t.resourceType=18;break;case"RESOURCE_TYPE_XML_HTTP_REQUEST":case 19:t.resourceType=19;break;case"RESOURCE_TYPE_XSLT":case 20:t.resourceType=20}switch(e.status){default:if("number"==typeof e.status){t.status=e.status;break}break;case"REQUEST_STATUS_UNSPECIFIED":case 0:t.status=0;break;case"REQUEST_STATUS_SUCCESS":case 2:t.status=2;break;case"REQUEST_STATUS_NOT_MODIFIED":case 3:t.status=3;break;case"REQUEST_STATUS_CLIENT_ERROR":case 4:t.status=4;break;case"REQUEST_STATUS_SERVER_ERROR":case 5:t.status=5;break;case"REQUEST_STATUS_NETWORK_ERROR":case 6:t.status=6;break;case"REQUEST_STATUS_SECURITY_ERROR":case 7:t.status=7;break;case"REQUEST_STATUS_UNKNOWN_ERROR":case 10:t.status=10}if(null!=e.count&&(t.count=e.count>>>0),e.timingSample){if(!Array.isArray(e.timingSample))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Resources.timingSample: array expected");t.timingSample=[];for(let n=0;n<e.timingSample.length;++n){if("object"!=typeof e.timingSample[n])throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Resources.timingSample: object expected");t.timingSample[n]=g.nexthink.protobuf.appex.extension.data.v1.ResourceTiming.fromObject(e.timingSample[n])}}return null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.timingSample=[]),t.defaults&&(n.resourceType=t.enums===String?"RESOURCE_TYPE_UNSPECIFIED":0,n.count=0,n.status=t.enums===String?"REQUEST_STATUS_UNSPECIFIED":0,n.experimental=""),null!=e.resourceType&&e.hasOwnProperty("resourceType")&&(n.resourceType=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.ResourceType[e.resourceType]?e.resourceType:g.nexthink.protobuf.appex.extension.config.v1.ResourceType[e.resourceType]:e.resourceType),null!=e.count&&e.hasOwnProperty("count")&&(n.count=e.count),e.timingSample&&e.timingSample.length){n.timingSample=[];for(let r=0;r<e.timingSample.length;++r)n.timingSample[r]=g.nexthink.protobuf.appex.extension.data.v1.ResourceTiming.toObject(e.timingSample[r],t)}return null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.RequestStatus[e.status]?e.status:g.nexthink.protobuf.appex.extension.config.v1.RequestStatus[e.status]:e.status),null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.Resources"},e}(),e.ResourceTiming=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.resourceUrl="",e.prototype.startTimestamp=0,e.prototype.durationSeconds=null,e.prototype.redirectSeconds=null,e.prototype.domainLookupSeconds=null,e.prototype.connectSeconds=null,e.prototype.secureConnectionSeconds=null,e.prototype.requestSeconds=null,e.prototype.responseSeconds=null,e.prototype.transferBytes=null,e.prototype.experimental="",Object.defineProperty(e.prototype,"_durationSeconds",{get:f.oneOfGetter(t=["durationSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_redirectSeconds",{get:f.oneOfGetter(t=["redirectSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_domainLookupSeconds",{get:f.oneOfGetter(t=["domainLookupSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_connectSeconds",{get:f.oneOfGetter(t=["connectSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_secureConnectionSeconds",{get:f.oneOfGetter(t=["secureConnectionSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_requestSeconds",{get:f.oneOfGetter(t=["requestSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_responseSeconds",{get:f.oneOfGetter(t=["responseSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_transferBytes",{get:f.oneOfGetter(t=["transferBytes"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.resourceUrl&&Object.hasOwnProperty.call(e,"resourceUrl")&&t.uint32(10).string(e.resourceUrl),null!=e.startTimestamp&&Object.hasOwnProperty.call(e,"startTimestamp")&&t.uint32(41).double(e.startTimestamp),null!=e.durationSeconds&&Object.hasOwnProperty.call(e,"durationSeconds")&&t.uint32(53).float(e.durationSeconds),null!=e.redirectSeconds&&Object.hasOwnProperty.call(e,"redirectSeconds")&&t.uint32(61).float(e.redirectSeconds),null!=e.domainLookupSeconds&&Object.hasOwnProperty.call(e,"domainLookupSeconds")&&t.uint32(77).float(e.domainLookupSeconds),null!=e.connectSeconds&&Object.hasOwnProperty.call(e,"connectSeconds")&&t.uint32(85).float(e.connectSeconds),null!=e.secureConnectionSeconds&&Object.hasOwnProperty.call(e,"secureConnectionSeconds")&&t.uint32(93).float(e.secureConnectionSeconds),null!=e.requestSeconds&&Object.hasOwnProperty.call(e,"requestSeconds")&&t.uint32(101).float(e.requestSeconds),null!=e.responseSeconds&&Object.hasOwnProperty.call(e,"responseSeconds")&&t.uint32(109).float(e.responseSeconds),null!=e.transferBytes&&Object.hasOwnProperty.call(e,"transferBytes")&&t.uint32(112).uint64(e.transferBytes),null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(122).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.ResourceTiming;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.resourceUrl=e.string();break;case 5:r.startTimestamp=e.double();break;case 6:r.durationSeconds=e.float();break;case 7:r.redirectSeconds=e.float();break;case 9:r.domainLookupSeconds=e.float();break;case 10:r.connectSeconds=e.float();break;case 11:r.secureConnectionSeconds=e.float();break;case 12:r.requestSeconds=e.float();break;case 13:r.responseSeconds=e.float();break;case 14:r.transferBytes=e.uint64();break;case 15:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};return null!=e.resourceUrl&&e.hasOwnProperty("resourceUrl")&&!f.isString(e.resourceUrl)?"resourceUrl: string expected":null!=e.startTimestamp&&e.hasOwnProperty("startTimestamp")&&"number"!=typeof e.startTimestamp?"startTimestamp: number expected":null!=e.durationSeconds&&e.hasOwnProperty("durationSeconds")&&(t._durationSeconds=1,"number"!=typeof e.durationSeconds)?"durationSeconds: number expected":null!=e.redirectSeconds&&e.hasOwnProperty("redirectSeconds")&&(t._redirectSeconds=1,"number"!=typeof e.redirectSeconds)?"redirectSeconds: number expected":null!=e.domainLookupSeconds&&e.hasOwnProperty("domainLookupSeconds")&&(t._domainLookupSeconds=1,"number"!=typeof e.domainLookupSeconds)?"domainLookupSeconds: number expected":null!=e.connectSeconds&&e.hasOwnProperty("connectSeconds")&&(t._connectSeconds=1,"number"!=typeof e.connectSeconds)?"connectSeconds: number expected":null!=e.secureConnectionSeconds&&e.hasOwnProperty("secureConnectionSeconds")&&(t._secureConnectionSeconds=1,"number"!=typeof e.secureConnectionSeconds)?"secureConnectionSeconds: number expected":null!=e.requestSeconds&&e.hasOwnProperty("requestSeconds")&&(t._requestSeconds=1,"number"!=typeof e.requestSeconds)?"requestSeconds: number expected":null!=e.responseSeconds&&e.hasOwnProperty("responseSeconds")&&(t._responseSeconds=1,"number"!=typeof e.responseSeconds)?"responseSeconds: number expected":null==e.transferBytes||!e.hasOwnProperty("transferBytes")||(t._transferBytes=1,f.isInteger(e.transferBytes)||e.transferBytes&&f.isInteger(e.transferBytes.low)&&f.isInteger(e.transferBytes.high))?null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null:"transferBytes: integer|Long expected"},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.ResourceTiming)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.ResourceTiming;return null!=e.resourceUrl&&(t.resourceUrl=String(e.resourceUrl)),null!=e.startTimestamp&&(t.startTimestamp=Number(e.startTimestamp)),null!=e.durationSeconds&&(t.durationSeconds=Number(e.durationSeconds)),null!=e.redirectSeconds&&(t.redirectSeconds=Number(e.redirectSeconds)),null!=e.domainLookupSeconds&&(t.domainLookupSeconds=Number(e.domainLookupSeconds)),null!=e.connectSeconds&&(t.connectSeconds=Number(e.connectSeconds)),null!=e.secureConnectionSeconds&&(t.secureConnectionSeconds=Number(e.secureConnectionSeconds)),null!=e.requestSeconds&&(t.requestSeconds=Number(e.requestSeconds)),null!=e.responseSeconds&&(t.responseSeconds=Number(e.responseSeconds)),null!=e.transferBytes&&(f.Long?(t.transferBytes=f.Long.fromValue(e.transferBytes)).unsigned=!0:"string"==typeof e.transferBytes?t.transferBytes=parseInt(e.transferBytes,10):"number"==typeof e.transferBytes?t.transferBytes=e.transferBytes:"object"==typeof e.transferBytes&&(t.transferBytes=new f.LongBits(e.transferBytes.low>>>0,e.transferBytes.high>>>0).toNumber(!0))),null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.resourceUrl="",n.startTimestamp=0,n.experimental=""),null!=e.resourceUrl&&e.hasOwnProperty("resourceUrl")&&(n.resourceUrl=e.resourceUrl),null!=e.startTimestamp&&e.hasOwnProperty("startTimestamp")&&(n.startTimestamp=t.json&&!isFinite(e.startTimestamp)?String(e.startTimestamp):e.startTimestamp),null!=e.durationSeconds&&e.hasOwnProperty("durationSeconds")&&(n.durationSeconds=t.json&&!isFinite(e.durationSeconds)?String(e.durationSeconds):e.durationSeconds,t.oneofs&&(n._durationSeconds="durationSeconds")),null!=e.redirectSeconds&&e.hasOwnProperty("redirectSeconds")&&(n.redirectSeconds=t.json&&!isFinite(e.redirectSeconds)?String(e.redirectSeconds):e.redirectSeconds,t.oneofs&&(n._redirectSeconds="redirectSeconds")),null!=e.domainLookupSeconds&&e.hasOwnProperty("domainLookupSeconds")&&(n.domainLookupSeconds=t.json&&!isFinite(e.domainLookupSeconds)?String(e.domainLookupSeconds):e.domainLookupSeconds,t.oneofs&&(n._domainLookupSeconds="domainLookupSeconds")),null!=e.connectSeconds&&e.hasOwnProperty("connectSeconds")&&(n.connectSeconds=t.json&&!isFinite(e.connectSeconds)?String(e.connectSeconds):e.connectSeconds,t.oneofs&&(n._connectSeconds="connectSeconds")),null!=e.secureConnectionSeconds&&e.hasOwnProperty("secureConnectionSeconds")&&(n.secureConnectionSeconds=t.json&&!isFinite(e.secureConnectionSeconds)?String(e.secureConnectionSeconds):e.secureConnectionSeconds,t.oneofs&&(n._secureConnectionSeconds="secureConnectionSeconds")),null!=e.requestSeconds&&e.hasOwnProperty("requestSeconds")&&(n.requestSeconds=t.json&&!isFinite(e.requestSeconds)?String(e.requestSeconds):e.requestSeconds,t.oneofs&&(n._requestSeconds="requestSeconds")),null!=e.responseSeconds&&e.hasOwnProperty("responseSeconds")&&(n.responseSeconds=t.json&&!isFinite(e.responseSeconds)?String(e.responseSeconds):e.responseSeconds,t.oneofs&&(n._responseSeconds="responseSeconds")),null!=e.transferBytes&&e.hasOwnProperty("transferBytes")&&("number"==typeof e.transferBytes?n.transferBytes=t.longs===String?String(e.transferBytes):e.transferBytes:n.transferBytes=t.longs===String?f.Long.prototype.toString.call(e.transferBytes):t.longs===Number?new f.LongBits(e.transferBytes.low>>>0,e.transferBytes.high>>>0).toNumber(!0):e.transferBytes,t.oneofs&&(n._transferBytes="transferBytes")),null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.ResourceTiming"},e}(),e.TransactionEvent=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.startTimestamp=0,e.prototype.transactionMonitorId="",e.prototype.status=0,e.prototype.triggerMonitorId=null,e.prototype.triggeredByKeyboardShortcut=!1,e.prototype.endMonitorId=null,e.prototype.endErrorCode=null,e.prototype.durationSeconds=0,e.prototype.perceivedExperienceLevel=0,e.prototype.clientDurationSeconds=null,e.prototype.networkDurationSeconds=null,e.prototype.backendDurationSeconds=null,e.prototype.experimental="",Object.defineProperty(e.prototype,"_triggerMonitorId",{get:f.oneOfGetter(t=["triggerMonitorId"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_endMonitorId",{get:f.oneOfGetter(t=["endMonitorId"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_endErrorCode",{get:f.oneOfGetter(t=["endErrorCode"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_clientDurationSeconds",{get:f.oneOfGetter(t=["clientDurationSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_networkDurationSeconds",{get:f.oneOfGetter(t=["networkDurationSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_backendDurationSeconds",{get:f.oneOfGetter(t=["backendDurationSeconds"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.startTimestamp&&Object.hasOwnProperty.call(e,"startTimestamp")&&t.uint32(9).double(e.startTimestamp),null!=e.transactionMonitorId&&Object.hasOwnProperty.call(e,"transactionMonitorId")&&t.uint32(18).string(e.transactionMonitorId),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(24).int32(e.status),null!=e.triggerMonitorId&&Object.hasOwnProperty.call(e,"triggerMonitorId")&&t.uint32(34).string(e.triggerMonitorId),null!=e.triggeredByKeyboardShortcut&&Object.hasOwnProperty.call(e,"triggeredByKeyboardShortcut")&&t.uint32(40).bool(e.triggeredByKeyboardShortcut),null!=e.endMonitorId&&Object.hasOwnProperty.call(e,"endMonitorId")&&t.uint32(50).string(e.endMonitorId),null!=e.endErrorCode&&Object.hasOwnProperty.call(e,"endErrorCode")&&t.uint32(64).uint32(e.endErrorCode),null!=e.durationSeconds&&Object.hasOwnProperty.call(e,"durationSeconds")&&t.uint32(85).float(e.durationSeconds),null!=e.perceivedExperienceLevel&&Object.hasOwnProperty.call(e,"perceivedExperienceLevel")&&t.uint32(88).int32(e.perceivedExperienceLevel),null!=e.clientDurationSeconds&&Object.hasOwnProperty.call(e,"clientDurationSeconds")&&t.uint32(101).float(e.clientDurationSeconds),null!=e.networkDurationSeconds&&Object.hasOwnProperty.call(e,"networkDurationSeconds")&&t.uint32(109).float(e.networkDurationSeconds),null!=e.backendDurationSeconds&&Object.hasOwnProperty.call(e,"backendDurationSeconds")&&t.uint32(117).float(e.backendDurationSeconds),null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(122).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.TransactionEvent;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.startTimestamp=e.double();break;case 2:r.transactionMonitorId=e.string();break;case 3:r.status=e.int32();break;case 4:r.triggerMonitorId=e.string();break;case 5:r.triggeredByKeyboardShortcut=e.bool();break;case 6:r.endMonitorId=e.string();break;case 8:r.endErrorCode=e.uint32();break;case 10:r.durationSeconds=e.float();break;case 11:r.perceivedExperienceLevel=e.int32();break;case 12:r.clientDurationSeconds=e.float();break;case 13:r.networkDurationSeconds=e.float();break;case 14:r.backendDurationSeconds=e.float();break;case 15:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};if(null!=e.startTimestamp&&e.hasOwnProperty("startTimestamp")&&"number"!=typeof e.startTimestamp)return"startTimestamp: number expected";if(null!=e.transactionMonitorId&&e.hasOwnProperty("transactionMonitorId")&&!f.isString(e.transactionMonitorId))return"transactionMonitorId: string expected";if(null!=e.status&&e.hasOwnProperty("status"))switch(e.status){default:return"status: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:}if(null!=e.triggerMonitorId&&e.hasOwnProperty("triggerMonitorId")&&(t._triggerMonitorId=1,!f.isString(e.triggerMonitorId)))return"triggerMonitorId: string expected";if(null!=e.triggeredByKeyboardShortcut&&e.hasOwnProperty("triggeredByKeyboardShortcut")&&"boolean"!=typeof e.triggeredByKeyboardShortcut)return"triggeredByKeyboardShortcut: boolean expected";if(null!=e.endMonitorId&&e.hasOwnProperty("endMonitorId")&&(t._endMonitorId=1,!f.isString(e.endMonitorId)))return"endMonitorId: string expected";if(null!=e.endErrorCode&&e.hasOwnProperty("endErrorCode")&&(t._endErrorCode=1,!f.isInteger(e.endErrorCode)))return"endErrorCode: integer expected";if(null!=e.durationSeconds&&e.hasOwnProperty("durationSeconds")&&"number"!=typeof e.durationSeconds)return"durationSeconds: number expected";if(null!=e.perceivedExperienceLevel&&e.hasOwnProperty("perceivedExperienceLevel"))switch(e.perceivedExperienceLevel){default:return"perceivedExperienceLevel: enum value expected";case 0:case 1:case 2:case 3:}return null!=e.clientDurationSeconds&&e.hasOwnProperty("clientDurationSeconds")&&(t._clientDurationSeconds=1,"number"!=typeof e.clientDurationSeconds)?"clientDurationSeconds: number expected":null!=e.networkDurationSeconds&&e.hasOwnProperty("networkDurationSeconds")&&(t._networkDurationSeconds=1,"number"!=typeof e.networkDurationSeconds)?"networkDurationSeconds: number expected":null!=e.backendDurationSeconds&&e.hasOwnProperty("backendDurationSeconds")&&(t._backendDurationSeconds=1,"number"!=typeof e.backendDurationSeconds)?"backendDurationSeconds: number expected":null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.TransactionEvent)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.TransactionEvent;switch(null!=e.startTimestamp&&(t.startTimestamp=Number(e.startTimestamp)),null!=e.transactionMonitorId&&(t.transactionMonitorId=String(e.transactionMonitorId)),e.status){default:if("number"==typeof e.status){t.status=e.status;break}break;case"TRANSACTION_STATUS_UNSPECIFIED":case 0:t.status=0;break;case"TRANSACTION_STATUS_COMPLETED":case 1:t.status=1;break;case"TRANSACTION_STATUS_FAILED":case 2:t.status=2;break;case"TRANSACTION_STATUS_TIME_OUT":case 3:t.status=3;break;case"TRANSACTION_STATUS_ABORTED_UNLOAD":case 4:t.status=4;break;case"TRANSACTION_STATUS_ABORTED_NEW":case 5:t.status=5;break;case"TRANSACTION_STATUS_ABORTED_INPUT":case 6:t.status=6}switch(null!=e.triggerMonitorId&&(t.triggerMonitorId=String(e.triggerMonitorId)),null!=e.triggeredByKeyboardShortcut&&(t.triggeredByKeyboardShortcut=Boolean(e.triggeredByKeyboardShortcut)),null!=e.endMonitorId&&(t.endMonitorId=String(e.endMonitorId)),null!=e.endErrorCode&&(t.endErrorCode=e.endErrorCode>>>0),null!=e.durationSeconds&&(t.durationSeconds=Number(e.durationSeconds)),e.perceivedExperienceLevel){default:if("number"==typeof e.perceivedExperienceLevel){t.perceivedExperienceLevel=e.perceivedExperienceLevel;break}break;case"PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED":case 0:t.perceivedExperienceLevel=0;break;case"PERCEIVED_EXPERIENCE_LEVEL_GOOD":case 1:t.perceivedExperienceLevel=1;break;case"PERCEIVED_EXPERIENCE_LEVEL_AVERAGE":case 2:t.perceivedExperienceLevel=2;break;case"PERCEIVED_EXPERIENCE_LEVEL_FRUSTRATING":case 3:t.perceivedExperienceLevel=3}return null!=e.clientDurationSeconds&&(t.clientDurationSeconds=Number(e.clientDurationSeconds)),null!=e.networkDurationSeconds&&(t.networkDurationSeconds=Number(e.networkDurationSeconds)),null!=e.backendDurationSeconds&&(t.backendDurationSeconds=Number(e.backendDurationSeconds)),null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.startTimestamp=0,n.transactionMonitorId="",n.status=t.enums===String?"TRANSACTION_STATUS_UNSPECIFIED":0,n.triggeredByKeyboardShortcut=!1,n.durationSeconds=0,n.perceivedExperienceLevel=t.enums===String?"PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED":0,n.experimental=""),null!=e.startTimestamp&&e.hasOwnProperty("startTimestamp")&&(n.startTimestamp=t.json&&!isFinite(e.startTimestamp)?String(e.startTimestamp):e.startTimestamp),null!=e.transactionMonitorId&&e.hasOwnProperty("transactionMonitorId")&&(n.transactionMonitorId=e.transactionMonitorId),null!=e.status&&e.hasOwnProperty("status")&&(n.status=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.data.v1.TransactionStatus[e.status]?e.status:g.nexthink.protobuf.appex.extension.data.v1.TransactionStatus[e.status]:e.status),null!=e.triggerMonitorId&&e.hasOwnProperty("triggerMonitorId")&&(n.triggerMonitorId=e.triggerMonitorId,t.oneofs&&(n._triggerMonitorId="triggerMonitorId")),null!=e.triggeredByKeyboardShortcut&&e.hasOwnProperty("triggeredByKeyboardShortcut")&&(n.triggeredByKeyboardShortcut=e.triggeredByKeyboardShortcut),null!=e.endMonitorId&&e.hasOwnProperty("endMonitorId")&&(n.endMonitorId=e.endMonitorId,t.oneofs&&(n._endMonitorId="endMonitorId")),null!=e.endErrorCode&&e.hasOwnProperty("endErrorCode")&&(n.endErrorCode=e.endErrorCode,t.oneofs&&(n._endErrorCode="endErrorCode")),null!=e.durationSeconds&&e.hasOwnProperty("durationSeconds")&&(n.durationSeconds=t.json&&!isFinite(e.durationSeconds)?String(e.durationSeconds):e.durationSeconds),null!=e.perceivedExperienceLevel&&e.hasOwnProperty("perceivedExperienceLevel")&&(n.perceivedExperienceLevel=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.PerceivedExperienceLevel[e.perceivedExperienceLevel]?e.perceivedExperienceLevel:g.nexthink.protobuf.appex.extension.config.v1.PerceivedExperienceLevel[e.perceivedExperienceLevel]:e.perceivedExperienceLevel),null!=e.clientDurationSeconds&&e.hasOwnProperty("clientDurationSeconds")&&(n.clientDurationSeconds=t.json&&!isFinite(e.clientDurationSeconds)?String(e.clientDurationSeconds):e.clientDurationSeconds,t.oneofs&&(n._clientDurationSeconds="clientDurationSeconds")),null!=e.networkDurationSeconds&&e.hasOwnProperty("networkDurationSeconds")&&(n.networkDurationSeconds=t.json&&!isFinite(e.networkDurationSeconds)?String(e.networkDurationSeconds):e.networkDurationSeconds,t.oneofs&&(n._networkDurationSeconds="networkDurationSeconds")),null!=e.backendDurationSeconds&&e.hasOwnProperty("backendDurationSeconds")&&(n.backendDurationSeconds=t.json&&!isFinite(e.backendDurationSeconds)?String(e.backendDurationSeconds):e.backendDurationSeconds,t.oneofs&&(n._backendDurationSeconds="backendDurationSeconds")),null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.TransactionEvent"},e}(),e.TransactionStatus=function(){const e={},t=Object.create(e);return t[e[0]="TRANSACTION_STATUS_UNSPECIFIED"]=0,t[e[1]="TRANSACTION_STATUS_COMPLETED"]=1,t[e[2]="TRANSACTION_STATUS_FAILED"]=2,t[e[3]="TRANSACTION_STATUS_TIME_OUT"]=3,t[e[4]="TRANSACTION_STATUS_ABORTED_UNLOAD"]=4,t[e[5]="TRANSACTION_STATUS_ABORTED_NEW"]=5,t[e[6]="TRANSACTION_STATUS_ABORTED_INPUT"]=6,t}(),e.Usage=function(){function e(e){if(this.timers=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.timers=f.emptyArray,e.prototype.experimental="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.timers&&e.timers.length)for(let n=0;n<e.timers.length;++n)g.nexthink.protobuf.appex.extension.data.v1.UsageTime.encode(e.timers[n],t.uint32(10).fork()).ldelim();return null!=e.experimental&&Object.hasOwnProperty.call(e,"experimental")&&t.uint32(122).string(e.experimental),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.Usage;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.timers&&r.timers.length||(r.timers=[]),r.timers.push(g.nexthink.protobuf.appex.extension.data.v1.UsageTime.decode(e,e.uint32()));break;case 15:r.experimental=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.timers&&e.hasOwnProperty("timers")){if(!Array.isArray(e.timers))return"timers: array expected";for(let t=0;t<e.timers.length;++t){let n=g.nexthink.protobuf.appex.extension.data.v1.UsageTime.verify(e.timers[t]);if(n)return"timers."+n}}return null!=e.experimental&&e.hasOwnProperty("experimental")&&!f.isString(e.experimental)?"experimental: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.Usage)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.Usage;if(e.timers){if(!Array.isArray(e.timers))throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Usage.timers: array expected");t.timers=[];for(let n=0;n<e.timers.length;++n){if("object"!=typeof e.timers[n])throw TypeError(".nexthink.protobuf.appex.extension.data.v1.Usage.timers: object expected");t.timers[n]=g.nexthink.protobuf.appex.extension.data.v1.UsageTime.fromObject(e.timers[n])}}return null!=e.experimental&&(t.experimental=String(e.experimental)),t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.timers=[]),t.defaults&&(n.experimental=""),e.timers&&e.timers.length){n.timers=[];for(let r=0;r<e.timers.length;++r)n.timers[r]=g.nexthink.protobuf.appex.extension.data.v1.UsageTime.toObject(e.timers[r],t)}return null!=e.experimental&&e.hasOwnProperty("experimental")&&(n.experimental=e.experimental),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.Usage"},e}(),e.UsageTime=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.activityLevel=0,e.prototype.conditions=0,e.prototype.durationSeconds=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.activityLevel&&Object.hasOwnProperty.call(e,"activityLevel")&&t.uint32(8).int32(e.activityLevel),null!=e.conditions&&Object.hasOwnProperty.call(e,"conditions")&&t.uint32(16).int32(e.conditions),null!=e.durationSeconds&&Object.hasOwnProperty.call(e,"durationSeconds")&&t.uint32(29).float(e.durationSeconds),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.data.v1.UsageTime;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.activityLevel=e.int32();break;case 2:r.conditions=e.int32();break;case 3:r.durationSeconds=e.float();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.activityLevel&&e.hasOwnProperty("activityLevel"))switch(e.activityLevel){default:return"activityLevel: enum value expected";case 0:case 5:case 6:}if(null!=e.conditions&&e.hasOwnProperty("conditions"))switch(e.conditions){default:return"conditions: enum value expected";case 0:case 1:case 2:case 3:}return null!=e.durationSeconds&&e.hasOwnProperty("durationSeconds")&&"number"!=typeof e.durationSeconds?"durationSeconds: number expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.data.v1.UsageTime)return e;let t=new g.nexthink.protobuf.appex.extension.data.v1.UsageTime;switch(e.activityLevel){default:if("number"==typeof e.activityLevel){t.activityLevel=e.activityLevel;break}break;case"ACTIVITY_LEVEL_UNSPECIFIED":case 0:t.activityLevel=0;break;case"ACTIVITY_LEVEL_UNFOCUSED":case 5:t.activityLevel=5;break;case"ACTIVITY_LEVEL_FOCUSED":case 6:t.activityLevel=6}switch(e.conditions){default:if("number"==typeof e.conditions){t.conditions=e.conditions;break}break;case"ACTIVITY_CONDITIONS_UNSPECIFIED":case 0:t.conditions=0;break;case"ACTIVITY_CONDITIONS_NORMAL":case 1:t.conditions=1;break;case"ACTIVITY_CONDITIONS_SLOW":case 2:t.conditions=2;break;case"ACTIVITY_CONDITIONS_ERROR":case 3:t.conditions=3}return null!=e.durationSeconds&&(t.durationSeconds=Number(e.durationSeconds)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.activityLevel=t.enums===String?"ACTIVITY_LEVEL_UNSPECIFIED":0,n.conditions=t.enums===String?"ACTIVITY_CONDITIONS_UNSPECIFIED":0,n.durationSeconds=0),null!=e.activityLevel&&e.hasOwnProperty("activityLevel")&&(n.activityLevel=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.ActivityLevel[e.activityLevel]?e.activityLevel:g.nexthink.protobuf.appex.extension.config.v1.ActivityLevel[e.activityLevel]:e.activityLevel),null!=e.conditions&&e.hasOwnProperty("conditions")&&(n.conditions=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.data.v1.ActivityConditions[e.conditions]?e.conditions:g.nexthink.protobuf.appex.extension.data.v1.ActivityConditions[e.conditions]:e.conditions),null!=e.durationSeconds&&e.hasOwnProperty("durationSeconds")&&(n.durationSeconds=t.json&&!isFinite(e.durationSeconds)?String(e.durationSeconds):e.durationSeconds),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.data.v1.UsageTime"},e}(),e.ActivityConditions=function(){const e={},t=Object.create(e);return t[e[0]="ACTIVITY_CONDITIONS_UNSPECIFIED"]=0,t[e[1]="ACTIVITY_CONDITIONS_NORMAL"]=1,t[e[2]="ACTIVITY_CONDITIONS_SLOW"]=2,t[e[3]="ACTIVITY_CONDITIONS_ERROR"]=3,t}(),e}(),e}(),e.config=function(){const e={};return e.v1=function(){const e={};return e.RequestStatus=function(){const e={},t=Object.create(e);return t[e[0]="REQUEST_STATUS_UNSPECIFIED"]=0,t[e[2]="REQUEST_STATUS_SUCCESS"]=2,t[e[3]="REQUEST_STATUS_NOT_MODIFIED"]=3,t[e[4]="REQUEST_STATUS_CLIENT_ERROR"]=4,t[e[5]="REQUEST_STATUS_SERVER_ERROR"]=5,t[e[6]="REQUEST_STATUS_NETWORK_ERROR"]=6,t[e[7]="REQUEST_STATUS_SECURITY_ERROR"]=7,t[e[10]="REQUEST_STATUS_UNKNOWN_ERROR"]=10,t}(),e.ResourceType=function(){const e={},t=Object.create(e);return t[e[0]="RESOURCE_TYPE_UNSPECIFIED"]=0,t[e[1]="RESOURCE_TYPE_BEACON"]=1,t[e[2]="RESOURCE_TYPE_CSP_REPORT"]=2,t[e[3]="RESOURCE_TYPE_FONT"]=3,t[e[4]="RESOURCE_TYPE_IMAGE"]=4,t[e[5]="RESOURCE_TYPE_IMAGE_SET"]=5,t[e[6]="RESOURCE_TYPE_MAIN_FRAME"]=6,t[e[7]="RESOURCE_TYPE_MEDIA"]=7,t[e[8]="RESOURCE_TYPE_OBJECT"]=8,t[e[9]="RESOURCE_TYPE_OBJECT_SUBREQUEST"]=9,t[e[10]="RESOURCE_TYPE_PING"]=10,t[e[11]="RESOURCE_TYPE_SCRIPT"]=11,t[e[12]="RESOURCE_TYPE_SPECULATIVE"]=12,t[e[13]="RESOURCE_TYPE_STYLESHEET"]=13,t[e[14]="RESOURCE_TYPE_SUBFRAME"]=14,t[e[15]="RESOURCE_TYPE_WEB_MANIFEST"]=15,t[e[16]="RESOURCE_TYPE_WEB_SOCKET"]=16,t[e[17]="RESOURCE_TYPE_XBL"]=17,t[e[18]="RESOURCE_TYPE_XML_DTD"]=18,t[e[19]="RESOURCE_TYPE_XML_HTTP_REQUEST"]=19,t[e[20]="RESOURCE_TYPE_XSLT"]=20,t}(),e.ActivityLevel=function(){const e={},t=Object.create(e);return t[e[0]="ACTIVITY_LEVEL_UNSPECIFIED"]=0,t[e[5]="ACTIVITY_LEVEL_UNFOCUSED"]=5,t[e[6]="ACTIVITY_LEVEL_FOCUSED"]=6,t}(),e.PerceivedExperienceLevel=function(){const e={},t=Object.create(e);return t[e[0]="PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED"]=0,t[e[1]="PERCEIVED_EXPERIENCE_LEVEL_GOOD"]=1,t[e[2]="PERCEIVED_EXPERIENCE_LEVEL_AVERAGE"]=2,t[e[3]="PERCEIVED_EXPERIENCE_LEVEL_FRUSTRATING"]=3,t}(),e.Config=function(){function e(e){if(this.featureFlags={},e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.revision="",e.prototype.minExtensionVersion="",e.prototype.enabled=!1,e.prototype.feedbackEnabled=!1,e.prototype.beaconFrequencySeconds=0,e.prototype.pageCollectDelaySeconds=0,e.prototype.appsConfig=null,e.prototype.urlSanitizer=null,e.prototype.featureFlags=f.emptyObject,e.prototype.defaultThresholdInfo=null,e.prototype.version="",e.prototype.protocolVersion="",e.prototype.keepAliveFrequencySeconds=0,e.prototype.extBrandingConfig=null,e.prototype.troubleshootingDashboardId=null,Object.defineProperty(e.prototype,"_troubleshootingDashboardId",{get:f.oneOfGetter(t=["troubleshootingDashboardId"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.revision&&Object.hasOwnProperty.call(e,"revision")&&t.uint32(10).string(e.revision),null!=e.minExtensionVersion&&Object.hasOwnProperty.call(e,"minExtensionVersion")&&t.uint32(18).string(e.minExtensionVersion),null!=e.enabled&&Object.hasOwnProperty.call(e,"enabled")&&t.uint32(24).bool(e.enabled),null!=e.feedbackEnabled&&Object.hasOwnProperty.call(e,"feedbackEnabled")&&t.uint32(32).bool(e.feedbackEnabled),null!=e.beaconFrequencySeconds&&Object.hasOwnProperty.call(e,"beaconFrequencySeconds")&&t.uint32(64).uint32(e.beaconFrequencySeconds),null!=e.pageCollectDelaySeconds&&Object.hasOwnProperty.call(e,"pageCollectDelaySeconds")&&t.uint32(72).uint32(e.pageCollectDelaySeconds),null!=e.appsConfig&&Object.hasOwnProperty.call(e,"appsConfig")&&g.nexthink.protobuf.appex.extension.config.v1.AppConfigSection.encode(e.appsConfig,t.uint32(82).fork()).ldelim(),null!=e.urlSanitizer&&Object.hasOwnProperty.call(e,"urlSanitizer")&&g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfigSection.encode(e.urlSanitizer,t.uint32(90).fork()).ldelim(),null!=e.featureFlags&&Object.hasOwnProperty.call(e,"featureFlags"))for(let n=Object.keys(e.featureFlags),r=0;r<n.length;++r)t.uint32(98).fork().uint32(10).string(n[r]),g.nexthink.protobuf.appex.extension.config.v1.Feature.encode(e.featureFlags[n[r]],t.uint32(18).fork()).ldelim().ldelim();return null!=e.defaultThresholdInfo&&Object.hasOwnProperty.call(e,"defaultThresholdInfo")&&g.nexthink.protobuf.appex.extension.config.v1.ThresholdInfo.encode(e.defaultThresholdInfo,t.uint32(106).fork()).ldelim(),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(114).string(e.version),null!=e.protocolVersion&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(122).string(e.protocolVersion),null!=e.keepAliveFrequencySeconds&&Object.hasOwnProperty.call(e,"keepAliveFrequencySeconds")&&t.uint32(128).uint32(e.keepAliveFrequencySeconds),null!=e.extBrandingConfig&&Object.hasOwnProperty.call(e,"extBrandingConfig")&&g.nexthink.protobuf.appex.extension.config.v1.ExtensionBrandingConfig.encode(e.extBrandingConfig,t.uint32(138).fork()).ldelim(),null!=e.troubleshootingDashboardId&&Object.hasOwnProperty.call(e,"troubleshootingDashboardId")&&t.uint32(146).string(e.troubleshootingDashboardId),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n,r,o=void 0===t?e.len:e.pos+t,i=new g.nexthink.protobuf.appex.extension.config.v1.Config;for(;e.pos<o;){let t=e.uint32();switch(t>>>3){case 1:i.revision=e.string();break;case 2:i.minExtensionVersion=e.string();break;case 3:i.enabled=e.bool();break;case 4:i.feedbackEnabled=e.bool();break;case 8:i.beaconFrequencySeconds=e.uint32();break;case 9:i.pageCollectDelaySeconds=e.uint32();break;case 10:i.appsConfig=g.nexthink.protobuf.appex.extension.config.v1.AppConfigSection.decode(e,e.uint32());break;case 11:i.urlSanitizer=g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfigSection.decode(e,e.uint32());break;case 12:{i.featureFlags===f.emptyObject&&(i.featureFlags={});let t=e.uint32()+e.pos;for(n="",r=null;e.pos<t;){let t=e.uint32();switch(t>>>3){case 1:n=e.string();break;case 2:r=g.nexthink.protobuf.appex.extension.config.v1.Feature.decode(e,e.uint32());break;default:e.skipType(7&t)}}i.featureFlags[n]=r;break}case 13:i.defaultThresholdInfo=g.nexthink.protobuf.appex.extension.config.v1.ThresholdInfo.decode(e,e.uint32());break;case 14:i.version=e.string();break;case 15:i.protocolVersion=e.string();break;case 16:i.keepAliveFrequencySeconds=e.uint32();break;case 17:i.extBrandingConfig=g.nexthink.protobuf.appex.extension.config.v1.ExtensionBrandingConfig.decode(e,e.uint32());break;case 18:i.troubleshootingDashboardId=e.string();break;default:e.skipType(7&t)}}return i},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.revision&&e.hasOwnProperty("revision")&&!f.isString(e.revision))return"revision: string expected";if(null!=e.minExtensionVersion&&e.hasOwnProperty("minExtensionVersion")&&!f.isString(e.minExtensionVersion))return"minExtensionVersion: string expected";if(null!=e.enabled&&e.hasOwnProperty("enabled")&&"boolean"!=typeof e.enabled)return"enabled: boolean expected";if(null!=e.feedbackEnabled&&e.hasOwnProperty("feedbackEnabled")&&"boolean"!=typeof e.feedbackEnabled)return"feedbackEnabled: boolean expected";if(null!=e.beaconFrequencySeconds&&e.hasOwnProperty("beaconFrequencySeconds")&&!f.isInteger(e.beaconFrequencySeconds))return"beaconFrequencySeconds: integer expected";if(null!=e.pageCollectDelaySeconds&&e.hasOwnProperty("pageCollectDelaySeconds")&&!f.isInteger(e.pageCollectDelaySeconds))return"pageCollectDelaySeconds: integer expected";if(null!=e.appsConfig&&e.hasOwnProperty("appsConfig")){let t=g.nexthink.protobuf.appex.extension.config.v1.AppConfigSection.verify(e.appsConfig);if(t)return"appsConfig."+t}if(null!=e.urlSanitizer&&e.hasOwnProperty("urlSanitizer")){let t=g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfigSection.verify(e.urlSanitizer);if(t)return"urlSanitizer."+t}if(null!=e.featureFlags&&e.hasOwnProperty("featureFlags")){if(!f.isObject(e.featureFlags))return"featureFlags: object expected";let t=Object.keys(e.featureFlags);for(let n=0;n<t.length;++n){let r=g.nexthink.protobuf.appex.extension.config.v1.Feature.verify(e.featureFlags[t[n]]);if(r)return"featureFlags."+r}}if(null!=e.defaultThresholdInfo&&e.hasOwnProperty("defaultThresholdInfo")){let t=g.nexthink.protobuf.appex.extension.config.v1.ThresholdInfo.verify(e.defaultThresholdInfo);if(t)return"defaultThresholdInfo."+t}if(null!=e.version&&e.hasOwnProperty("version")&&!f.isString(e.version))return"version: string expected";if(null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&!f.isString(e.protocolVersion))return"protocolVersion: string expected";if(null!=e.keepAliveFrequencySeconds&&e.hasOwnProperty("keepAliveFrequencySeconds")&&!f.isInteger(e.keepAliveFrequencySeconds))return"keepAliveFrequencySeconds: integer expected";if(null!=e.extBrandingConfig&&e.hasOwnProperty("extBrandingConfig")){let t=g.nexthink.protobuf.appex.extension.config.v1.ExtensionBrandingConfig.verify(e.extBrandingConfig);if(t)return"extBrandingConfig."+t}return null!=e.troubleshootingDashboardId&&e.hasOwnProperty("troubleshootingDashboardId")&&!f.isString(e.troubleshootingDashboardId)?"troubleshootingDashboardId: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.Config)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.Config;if(null!=e.revision&&(t.revision=String(e.revision)),null!=e.minExtensionVersion&&(t.minExtensionVersion=String(e.minExtensionVersion)),null!=e.enabled&&(t.enabled=Boolean(e.enabled)),null!=e.feedbackEnabled&&(t.feedbackEnabled=Boolean(e.feedbackEnabled)),null!=e.beaconFrequencySeconds&&(t.beaconFrequencySeconds=e.beaconFrequencySeconds>>>0),null!=e.pageCollectDelaySeconds&&(t.pageCollectDelaySeconds=e.pageCollectDelaySeconds>>>0),null!=e.appsConfig){if("object"!=typeof e.appsConfig)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.Config.appsConfig: object expected");t.appsConfig=g.nexthink.protobuf.appex.extension.config.v1.AppConfigSection.fromObject(e.appsConfig)}if(null!=e.urlSanitizer){if("object"!=typeof e.urlSanitizer)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.Config.urlSanitizer: object expected");t.urlSanitizer=g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfigSection.fromObject(e.urlSanitizer)}if(e.featureFlags){if("object"!=typeof e.featureFlags)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.Config.featureFlags: object expected");t.featureFlags={};for(let n=Object.keys(e.featureFlags),r=0;r<n.length;++r){if("object"!=typeof e.featureFlags[n[r]])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.Config.featureFlags: object expected");t.featureFlags[n[r]]=g.nexthink.protobuf.appex.extension.config.v1.Feature.fromObject(e.featureFlags[n[r]])}}if(null!=e.defaultThresholdInfo){if("object"!=typeof e.defaultThresholdInfo)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.Config.defaultThresholdInfo: object expected");t.defaultThresholdInfo=g.nexthink.protobuf.appex.extension.config.v1.ThresholdInfo.fromObject(e.defaultThresholdInfo)}if(null!=e.version&&(t.version=String(e.version)),null!=e.protocolVersion&&(t.protocolVersion=String(e.protocolVersion)),null!=e.keepAliveFrequencySeconds&&(t.keepAliveFrequencySeconds=e.keepAliveFrequencySeconds>>>0),null!=e.extBrandingConfig){if("object"!=typeof e.extBrandingConfig)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.Config.extBrandingConfig: object expected");t.extBrandingConfig=g.nexthink.protobuf.appex.extension.config.v1.ExtensionBrandingConfig.fromObject(e.extBrandingConfig)}return null!=e.troubleshootingDashboardId&&(t.troubleshootingDashboardId=String(e.troubleshootingDashboardId)),t},e.toObject=function(e,t){t||(t={});let n,r={};if((t.objects||t.defaults)&&(r.featureFlags={}),t.defaults&&(r.revision="",r.minExtensionVersion="",r.enabled=!1,r.feedbackEnabled=!1,r.beaconFrequencySeconds=0,r.pageCollectDelaySeconds=0,r.appsConfig=null,r.urlSanitizer=null,r.defaultThresholdInfo=null,r.version="",r.protocolVersion="",r.keepAliveFrequencySeconds=0,r.extBrandingConfig=null),null!=e.revision&&e.hasOwnProperty("revision")&&(r.revision=e.revision),null!=e.minExtensionVersion&&e.hasOwnProperty("minExtensionVersion")&&(r.minExtensionVersion=e.minExtensionVersion),null!=e.enabled&&e.hasOwnProperty("enabled")&&(r.enabled=e.enabled),null!=e.feedbackEnabled&&e.hasOwnProperty("feedbackEnabled")&&(r.feedbackEnabled=e.feedbackEnabled),null!=e.beaconFrequencySeconds&&e.hasOwnProperty("beaconFrequencySeconds")&&(r.beaconFrequencySeconds=e.beaconFrequencySeconds),null!=e.pageCollectDelaySeconds&&e.hasOwnProperty("pageCollectDelaySeconds")&&(r.pageCollectDelaySeconds=e.pageCollectDelaySeconds),null!=e.appsConfig&&e.hasOwnProperty("appsConfig")&&(r.appsConfig=g.nexthink.protobuf.appex.extension.config.v1.AppConfigSection.toObject(e.appsConfig,t)),null!=e.urlSanitizer&&e.hasOwnProperty("urlSanitizer")&&(r.urlSanitizer=g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfigSection.toObject(e.urlSanitizer,t)),e.featureFlags&&(n=Object.keys(e.featureFlags)).length){r.featureFlags={};for(let o=0;o<n.length;++o)r.featureFlags[n[o]]=g.nexthink.protobuf.appex.extension.config.v1.Feature.toObject(e.featureFlags[n[o]],t)}return null!=e.defaultThresholdInfo&&e.hasOwnProperty("defaultThresholdInfo")&&(r.defaultThresholdInfo=g.nexthink.protobuf.appex.extension.config.v1.ThresholdInfo.toObject(e.defaultThresholdInfo,t)),null!=e.version&&e.hasOwnProperty("version")&&(r.version=e.version),null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&(r.protocolVersion=e.protocolVersion),null!=e.keepAliveFrequencySeconds&&e.hasOwnProperty("keepAliveFrequencySeconds")&&(r.keepAliveFrequencySeconds=e.keepAliveFrequencySeconds),null!=e.extBrandingConfig&&e.hasOwnProperty("extBrandingConfig")&&(r.extBrandingConfig=g.nexthink.protobuf.appex.extension.config.v1.ExtensionBrandingConfig.toObject(e.extBrandingConfig,t)),null!=e.troubleshootingDashboardId&&e.hasOwnProperty("troubleshootingDashboardId")&&(r.troubleshootingDashboardId=e.troubleshootingDashboardId,t.oneofs&&(r._troubleshootingDashboardId="troubleshootingDashboardId")),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.Config"},e}(),e.ConfigRequest=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.extensionVersion="",e.prototype.browserFamily="",e.prototype.browserVersion="",e.prototype.configRevision="",e.prototype.extensionInstanceId="",e.prototype.sessionId="",e.prototype.bsmVersion="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.extensionVersion&&Object.hasOwnProperty.call(e,"extensionVersion")&&t.uint32(10).string(e.extensionVersion),null!=e.browserFamily&&Object.hasOwnProperty.call(e,"browserFamily")&&t.uint32(18).string(e.browserFamily),null!=e.browserVersion&&Object.hasOwnProperty.call(e,"browserVersion")&&t.uint32(26).string(e.browserVersion),null!=e.configRevision&&Object.hasOwnProperty.call(e,"configRevision")&&t.uint32(34).string(e.configRevision),null!=e.extensionInstanceId&&Object.hasOwnProperty.call(e,"extensionInstanceId")&&t.uint32(42).string(e.extensionInstanceId),null!=e.sessionId&&Object.hasOwnProperty.call(e,"sessionId")&&t.uint32(50).string(e.sessionId),null!=e.bsmVersion&&Object.hasOwnProperty.call(e,"bsmVersion")&&t.uint32(58).string(e.bsmVersion),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.ConfigRequest;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.extensionVersion=e.string();break;case 2:r.browserFamily=e.string();break;case 3:r.browserVersion=e.string();break;case 4:r.configRevision=e.string();break;case 5:r.extensionInstanceId=e.string();break;case 6:r.sessionId=e.string();break;case 7:r.bsmVersion=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.extensionVersion&&e.hasOwnProperty("extensionVersion")&&!f.isString(e.extensionVersion)?"extensionVersion: string expected":null!=e.browserFamily&&e.hasOwnProperty("browserFamily")&&!f.isString(e.browserFamily)?"browserFamily: string expected":null!=e.browserVersion&&e.hasOwnProperty("browserVersion")&&!f.isString(e.browserVersion)?"browserVersion: string expected":null!=e.configRevision&&e.hasOwnProperty("configRevision")&&!f.isString(e.configRevision)?"configRevision: string expected":null!=e.extensionInstanceId&&e.hasOwnProperty("extensionInstanceId")&&!f.isString(e.extensionInstanceId)?"extensionInstanceId: string expected":null!=e.sessionId&&e.hasOwnProperty("sessionId")&&!f.isString(e.sessionId)?"sessionId: string expected":null!=e.bsmVersion&&e.hasOwnProperty("bsmVersion")&&!f.isString(e.bsmVersion)?"bsmVersion: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.ConfigRequest)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.ConfigRequest;return null!=e.extensionVersion&&(t.extensionVersion=String(e.extensionVersion)),null!=e.browserFamily&&(t.browserFamily=String(e.browserFamily)),null!=e.browserVersion&&(t.browserVersion=String(e.browserVersion)),null!=e.configRevision&&(t.configRevision=String(e.configRevision)),null!=e.extensionInstanceId&&(t.extensionInstanceId=String(e.extensionInstanceId)),null!=e.sessionId&&(t.sessionId=String(e.sessionId)),null!=e.bsmVersion&&(t.bsmVersion=String(e.bsmVersion)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.extensionVersion="",n.browserFamily="",n.browserVersion="",n.configRevision="",n.extensionInstanceId="",n.sessionId="",n.bsmVersion=""),null!=e.extensionVersion&&e.hasOwnProperty("extensionVersion")&&(n.extensionVersion=e.extensionVersion),null!=e.browserFamily&&e.hasOwnProperty("browserFamily")&&(n.browserFamily=e.browserFamily),null!=e.browserVersion&&e.hasOwnProperty("browserVersion")&&(n.browserVersion=e.browserVersion),null!=e.configRevision&&e.hasOwnProperty("configRevision")&&(n.configRevision=e.configRevision),null!=e.extensionInstanceId&&e.hasOwnProperty("extensionInstanceId")&&(n.extensionInstanceId=e.extensionInstanceId),null!=e.sessionId&&e.hasOwnProperty("sessionId")&&(n.sessionId=e.sessionId),null!=e.bsmVersion&&e.hasOwnProperty("bsmVersion")&&(n.bsmVersion=e.bsmVersion),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.ConfigRequest"},e}(),e.ConfigLoadingStatus=function(){function e(e){if(this.details=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.configRevision="",e.prototype.code=0,e.prototype.message="",e.prototype.details=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.configRevision&&Object.hasOwnProperty.call(e,"configRevision")&&t.uint32(10).string(e.configRevision),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(16).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(26).string(e.message),null!=e.details&&e.details.length)for(let n=0;n<e.details.length;++n)t.uint32(34).string(e.details[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.ConfigLoadingStatus;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.configRevision=e.string();break;case 2:r.code=e.int32();break;case 3:r.message=e.string();break;case 4:r.details&&r.details.length||(r.details=[]),r.details.push(e.string());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.configRevision&&e.hasOwnProperty("configRevision")&&!f.isString(e.configRevision))return"configRevision: string expected";if(null!=e.code&&e.hasOwnProperty("code"))switch(e.code){default:return"code: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=e.message&&e.hasOwnProperty("message")&&!f.isString(e.message))return"message: string expected";if(null!=e.details&&e.hasOwnProperty("details")){if(!Array.isArray(e.details))return"details: array expected";for(let t=0;t<e.details.length;++t)if(!f.isString(e.details[t]))return"details: string[] expected"}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.ConfigLoadingStatus)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.ConfigLoadingStatus;switch(null!=e.configRevision&&(t.configRevision=String(e.configRevision)),e.code){default:if("number"==typeof e.code){t.code=e.code;break}break;case"CONFIG_LOADING_CODE_UNSPECIFIED":case 0:t.code=0;break;case"CONFIG_LOADING_CODE_SUCCESSFUL":case 1:t.code=1;break;case"CONFIG_LOADING_CODE_CORRUPTED":case 2:t.code=2;break;case"CONFIG_LOADING_CODE_INCOMPATIBLE":case 3:t.code=3;break;case"CONFIG_LOADING_CODE_INVALID":case 4:t.code=4;break;case"CONFIG_LOADING_CODE_UNKNOWN_ERROR":case 5:t.code=5}if(null!=e.message&&(t.message=String(e.message)),e.details){if(!Array.isArray(e.details))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.ConfigLoadingStatus.details: array expected");t.details=[];for(let n=0;n<e.details.length;++n)t.details[n]=String(e.details[n])}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.details=[]),t.defaults&&(n.configRevision="",n.code=t.enums===String?"CONFIG_LOADING_CODE_UNSPECIFIED":0,n.message=""),null!=e.configRevision&&e.hasOwnProperty("configRevision")&&(n.configRevision=e.configRevision),null!=e.code&&e.hasOwnProperty("code")&&(n.code=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.ConfigLoadingCode[e.code]?e.code:g.nexthink.protobuf.appex.extension.config.v1.ConfigLoadingCode[e.code]:e.code),null!=e.message&&e.hasOwnProperty("message")&&(n.message=e.message),e.details&&e.details.length){n.details=[];for(let t=0;t<e.details.length;++t)n.details[t]=e.details[t]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.ConfigLoadingStatus"},e}(),e.ConfigLoadingCode=function(){const e={},t=Object.create(e);return t[e[0]="CONFIG_LOADING_CODE_UNSPECIFIED"]=0,t[e[1]="CONFIG_LOADING_CODE_SUCCESSFUL"]=1,t[e[2]="CONFIG_LOADING_CODE_CORRUPTED"]=2,t[e[3]="CONFIG_LOADING_CODE_INCOMPATIBLE"]=3,t[e[4]="CONFIG_LOADING_CODE_INVALID"]=4,t[e[5]="CONFIG_LOADING_CODE_UNKNOWN_ERROR"]=5,t}(),e.AppConfigSection=function(){function e(e){if(this.apps=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.defaults=null,e.prototype.apps=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.defaults&&Object.hasOwnProperty.call(e,"defaults")&&g.nexthink.protobuf.appex.extension.config.v1.MonitorOptions.encode(e.defaults,t.uint32(10).fork()).ldelim(),null!=e.apps&&e.apps.length)for(let n=0;n<e.apps.length;++n)g.nexthink.protobuf.appex.extension.config.v1.AppConfig.encode(e.apps[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.AppConfigSection;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.defaults=g.nexthink.protobuf.appex.extension.config.v1.MonitorOptions.decode(e,e.uint32());break;case 2:r.apps&&r.apps.length||(r.apps=[]),r.apps.push(g.nexthink.protobuf.appex.extension.config.v1.AppConfig.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.defaults&&e.hasOwnProperty("defaults")){let t=g.nexthink.protobuf.appex.extension.config.v1.MonitorOptions.verify(e.defaults);if(t)return"defaults."+t}if(null!=e.apps&&e.hasOwnProperty("apps")){if(!Array.isArray(e.apps))return"apps: array expected";for(let t=0;t<e.apps.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.AppConfig.verify(e.apps[t]);if(n)return"apps."+n}}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.AppConfigSection)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.AppConfigSection;if(null!=e.defaults){if("object"!=typeof e.defaults)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfigSection.defaults: object expected");t.defaults=g.nexthink.protobuf.appex.extension.config.v1.MonitorOptions.fromObject(e.defaults)}if(e.apps){if(!Array.isArray(e.apps))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfigSection.apps: array expected");t.apps=[];for(let n=0;n<e.apps.length;++n){if("object"!=typeof e.apps[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfigSection.apps: object expected");t.apps[n]=g.nexthink.protobuf.appex.extension.config.v1.AppConfig.fromObject(e.apps[n])}}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.apps=[]),t.defaults&&(n.defaults=null),null!=e.defaults&&e.hasOwnProperty("defaults")&&(n.defaults=g.nexthink.protobuf.appex.extension.config.v1.MonitorOptions.toObject(e.defaults,t)),e.apps&&e.apps.length){n.apps=[];for(let r=0;r<e.apps.length;++r)n.apps[r]=g.nexthink.protobuf.appex.extension.config.v1.AppConfig.toObject(e.apps[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.AppConfigSection"},e}(),e.AppConfig=function(){function e(e){if(this.rules=[],this.keyPages=[],this.transactions=[],this.customErrors=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.appId="",e.prototype.name="",e.prototype.options=null,e.prototype.rules=f.emptyArray,e.prototype.keyPages=f.emptyArray,e.prototype.transactions=f.emptyArray,e.prototype.customErrors=f.emptyArray,e.prototype.showUrlTable=!1,e.prototype.campaignId="",e.prototype.licenseInfo=null,e.prototype.thresholdInfo=null,e.prototype.enableSoftNavs=!1,e.prototype.desktopAppConfigDefinition=null,e.prototype.category=0,e.prototype.builtinContentMetadata=null,Object.defineProperty(e.prototype,"_builtinContentMetadata",{get:f.oneOfGetter(t=["builtinContentMetadata"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(10).string(e.appId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.options&&Object.hasOwnProperty.call(e,"options")&&g.nexthink.protobuf.appex.extension.config.v1.MonitorOptions.encode(e.options,t.uint32(34).fork()).ldelim(),null!=e.rules&&e.rules.length)for(let n=0;n<e.rules.length;++n)g.nexthink.protobuf.appex.extension.config.v1.AppRule.encode(e.rules[n],t.uint32(42).fork()).ldelim();if(null!=e.keyPages&&e.keyPages.length)for(let n=0;n<e.keyPages.length;++n)g.nexthink.protobuf.appex.extension.config.v1.KeyPageConfig.encode(e.keyPages[n],t.uint32(50).fork()).ldelim();if(null!=e.transactions&&e.transactions.length)for(let n=0;n<e.transactions.length;++n)g.nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig.encode(e.transactions[n],t.uint32(58).fork()).ldelim();if(null!=e.customErrors&&e.customErrors.length)for(let n=0;n<e.customErrors.length;++n)g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.encode(e.customErrors[n],t.uint32(66).fork()).ldelim();return null!=e.showUrlTable&&Object.hasOwnProperty.call(e,"showUrlTable")&&t.uint32(72).bool(e.showUrlTable),null!=e.campaignId&&Object.hasOwnProperty.call(e,"campaignId")&&t.uint32(82).string(e.campaignId),null!=e.licenseInfo&&Object.hasOwnProperty.call(e,"licenseInfo")&&g.nexthink.protobuf.appex.extension.config.v1.LicenseInfo.encode(e.licenseInfo,t.uint32(98).fork()).ldelim(),null!=e.thresholdInfo&&Object.hasOwnProperty.call(e,"thresholdInfo")&&g.nexthink.protobuf.appex.extension.config.v1.ThresholdInfo.encode(e.thresholdInfo,t.uint32(106).fork()).ldelim(),null!=e.enableSoftNavs&&Object.hasOwnProperty.call(e,"enableSoftNavs")&&t.uint32(112).bool(e.enableSoftNavs),null!=e.desktopAppConfigDefinition&&Object.hasOwnProperty.call(e,"desktopAppConfigDefinition")&&g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfig.encode(e.desktopAppConfigDefinition,t.uint32(122).fork()).ldelim(),null!=e.category&&Object.hasOwnProperty.call(e,"category")&&t.uint32(128).int32(e.category),null!=e.builtinContentMetadata&&Object.hasOwnProperty.call(e,"builtinContentMetadata")&&g.nexthink.protobuf.appex.extension.config.v1.BuiltinContentMetadata.encode(e.builtinContentMetadata,t.uint32(138).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.AppConfig;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.appId=e.string();break;case 2:r.name=e.string();break;case 4:r.options=g.nexthink.protobuf.appex.extension.config.v1.MonitorOptions.decode(e,e.uint32());break;case 5:r.rules&&r.rules.length||(r.rules=[]),r.rules.push(g.nexthink.protobuf.appex.extension.config.v1.AppRule.decode(e,e.uint32()));break;case 6:r.keyPages&&r.keyPages.length||(r.keyPages=[]),r.keyPages.push(g.nexthink.protobuf.appex.extension.config.v1.KeyPageConfig.decode(e,e.uint32()));break;case 7:r.transactions&&r.transactions.length||(r.transactions=[]),r.transactions.push(g.nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig.decode(e,e.uint32()));break;case 8:r.customErrors&&r.customErrors.length||(r.customErrors=[]),r.customErrors.push(g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.decode(e,e.uint32()));break;case 9:r.showUrlTable=e.bool();break;case 10:r.campaignId=e.string();break;case 12:r.licenseInfo=g.nexthink.protobuf.appex.extension.config.v1.LicenseInfo.decode(e,e.uint32());break;case 13:r.thresholdInfo=g.nexthink.protobuf.appex.extension.config.v1.ThresholdInfo.decode(e,e.uint32());break;case 14:r.enableSoftNavs=e.bool();break;case 15:r.desktopAppConfigDefinition=g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfig.decode(e,e.uint32());break;case 16:r.category=e.int32();break;case 17:r.builtinContentMetadata=g.nexthink.protobuf.appex.extension.config.v1.BuiltinContentMetadata.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};if(null!=e.appId&&e.hasOwnProperty("appId")&&!f.isString(e.appId))return"appId: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(null!=e.options&&e.hasOwnProperty("options")){let t=g.nexthink.protobuf.appex.extension.config.v1.MonitorOptions.verify(e.options);if(t)return"options."+t}if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(let t=0;t<e.rules.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.AppRule.verify(e.rules[t]);if(n)return"rules."+n}}if(null!=e.keyPages&&e.hasOwnProperty("keyPages")){if(!Array.isArray(e.keyPages))return"keyPages: array expected";for(let t=0;t<e.keyPages.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.KeyPageConfig.verify(e.keyPages[t]);if(n)return"keyPages."+n}}if(null!=e.transactions&&e.hasOwnProperty("transactions")){if(!Array.isArray(e.transactions))return"transactions: array expected";for(let t=0;t<e.transactions.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig.verify(e.transactions[t]);if(n)return"transactions."+n}}if(null!=e.customErrors&&e.hasOwnProperty("customErrors")){if(!Array.isArray(e.customErrors))return"customErrors: array expected";for(let t=0;t<e.customErrors.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.verify(e.customErrors[t]);if(n)return"customErrors."+n}}if(null!=e.showUrlTable&&e.hasOwnProperty("showUrlTable")&&"boolean"!=typeof e.showUrlTable)return"showUrlTable: boolean expected";if(null!=e.campaignId&&e.hasOwnProperty("campaignId")&&!f.isString(e.campaignId))return"campaignId: string expected";if(null!=e.licenseInfo&&e.hasOwnProperty("licenseInfo")){let t=g.nexthink.protobuf.appex.extension.config.v1.LicenseInfo.verify(e.licenseInfo);if(t)return"licenseInfo."+t}if(null!=e.thresholdInfo&&e.hasOwnProperty("thresholdInfo")){let t=g.nexthink.protobuf.appex.extension.config.v1.ThresholdInfo.verify(e.thresholdInfo);if(t)return"thresholdInfo."+t}if(null!=e.enableSoftNavs&&e.hasOwnProperty("enableSoftNavs")&&"boolean"!=typeof e.enableSoftNavs)return"enableSoftNavs: boolean expected";if(null!=e.desktopAppConfigDefinition&&e.hasOwnProperty("desktopAppConfigDefinition")){let t=g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfig.verify(e.desktopAppConfigDefinition);if(t)return"desktopAppConfigDefinition."+t}if(null!=e.category&&e.hasOwnProperty("category"))switch(e.category){default:return"category: enum value expected";case 0:case 1:}if(null!=e.builtinContentMetadata&&e.hasOwnProperty("builtinContentMetadata")){t._builtinContentMetadata=1;{let t=g.nexthink.protobuf.appex.extension.config.v1.BuiltinContentMetadata.verify(e.builtinContentMetadata);if(t)return"builtinContentMetadata."+t}}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.AppConfig)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.AppConfig;if(null!=e.appId&&(t.appId=String(e.appId)),null!=e.name&&(t.name=String(e.name)),null!=e.options){if("object"!=typeof e.options)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfig.options: object expected");t.options=g.nexthink.protobuf.appex.extension.config.v1.MonitorOptions.fromObject(e.options)}if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfig.rules: array expected");t.rules=[];for(let n=0;n<e.rules.length;++n){if("object"!=typeof e.rules[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfig.rules: object expected");t.rules[n]=g.nexthink.protobuf.appex.extension.config.v1.AppRule.fromObject(e.rules[n])}}if(e.keyPages){if(!Array.isArray(e.keyPages))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfig.keyPages: array expected");t.keyPages=[];for(let n=0;n<e.keyPages.length;++n){if("object"!=typeof e.keyPages[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfig.keyPages: object expected");t.keyPages[n]=g.nexthink.protobuf.appex.extension.config.v1.KeyPageConfig.fromObject(e.keyPages[n])}}if(e.transactions){if(!Array.isArray(e.transactions))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfig.transactions: array expected");t.transactions=[];for(let n=0;n<e.transactions.length;++n){if("object"!=typeof e.transactions[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfig.transactions: object expected");t.transactions[n]=g.nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig.fromObject(e.transactions[n])}}if(e.customErrors){if(!Array.isArray(e.customErrors))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfig.customErrors: array expected");t.customErrors=[];for(let n=0;n<e.customErrors.length;++n){if("object"!=typeof e.customErrors[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfig.customErrors: object expected");t.customErrors[n]=g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.fromObject(e.customErrors[n])}}if(null!=e.showUrlTable&&(t.showUrlTable=Boolean(e.showUrlTable)),null!=e.campaignId&&(t.campaignId=String(e.campaignId)),null!=e.licenseInfo){if("object"!=typeof e.licenseInfo)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfig.licenseInfo: object expected");t.licenseInfo=g.nexthink.protobuf.appex.extension.config.v1.LicenseInfo.fromObject(e.licenseInfo)}if(null!=e.thresholdInfo){if("object"!=typeof e.thresholdInfo)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfig.thresholdInfo: object expected");t.thresholdInfo=g.nexthink.protobuf.appex.extension.config.v1.ThresholdInfo.fromObject(e.thresholdInfo)}if(null!=e.enableSoftNavs&&(t.enableSoftNavs=Boolean(e.enableSoftNavs)),null!=e.desktopAppConfigDefinition){if("object"!=typeof e.desktopAppConfigDefinition)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfig.desktopAppConfigDefinition: object expected");t.desktopAppConfigDefinition=g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfig.fromObject(e.desktopAppConfigDefinition)}switch(e.category){default:if("number"==typeof e.category){t.category=e.category;break}break;case"CATEGORY_UNSPECIFIED":case 0:t.category=0;break;case"CATEGORY_CONNECTIVITY":case 1:t.category=1}if(null!=e.builtinContentMetadata){if("object"!=typeof e.builtinContentMetadata)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppConfig.builtinContentMetadata: object expected");t.builtinContentMetadata=g.nexthink.protobuf.appex.extension.config.v1.BuiltinContentMetadata.fromObject(e.builtinContentMetadata)}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.rules=[],n.keyPages=[],n.transactions=[],n.customErrors=[]),t.defaults&&(n.appId="",n.name="",n.options=null,n.showUrlTable=!1,n.campaignId="",n.licenseInfo=null,n.thresholdInfo=null,n.enableSoftNavs=!1,n.desktopAppConfigDefinition=null,n.category=t.enums===String?"CATEGORY_UNSPECIFIED":0),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.options&&e.hasOwnProperty("options")&&(n.options=g.nexthink.protobuf.appex.extension.config.v1.MonitorOptions.toObject(e.options,t)),e.rules&&e.rules.length){n.rules=[];for(let r=0;r<e.rules.length;++r)n.rules[r]=g.nexthink.protobuf.appex.extension.config.v1.AppRule.toObject(e.rules[r],t)}if(e.keyPages&&e.keyPages.length){n.keyPages=[];for(let r=0;r<e.keyPages.length;++r)n.keyPages[r]=g.nexthink.protobuf.appex.extension.config.v1.KeyPageConfig.toObject(e.keyPages[r],t)}if(e.transactions&&e.transactions.length){n.transactions=[];for(let r=0;r<e.transactions.length;++r)n.transactions[r]=g.nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig.toObject(e.transactions[r],t)}if(e.customErrors&&e.customErrors.length){n.customErrors=[];for(let r=0;r<e.customErrors.length;++r)n.customErrors[r]=g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.toObject(e.customErrors[r],t)}return null!=e.showUrlTable&&e.hasOwnProperty("showUrlTable")&&(n.showUrlTable=e.showUrlTable),null!=e.campaignId&&e.hasOwnProperty("campaignId")&&(n.campaignId=e.campaignId),null!=e.licenseInfo&&e.hasOwnProperty("licenseInfo")&&(n.licenseInfo=g.nexthink.protobuf.appex.extension.config.v1.LicenseInfo.toObject(e.licenseInfo,t)),null!=e.thresholdInfo&&e.hasOwnProperty("thresholdInfo")&&(n.thresholdInfo=g.nexthink.protobuf.appex.extension.config.v1.ThresholdInfo.toObject(e.thresholdInfo,t)),null!=e.enableSoftNavs&&e.hasOwnProperty("enableSoftNavs")&&(n.enableSoftNavs=e.enableSoftNavs),null!=e.desktopAppConfigDefinition&&e.hasOwnProperty("desktopAppConfigDefinition")&&(n.desktopAppConfigDefinition=g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfig.toObject(e.desktopAppConfigDefinition,t)),null!=e.category&&e.hasOwnProperty("category")&&(n.category=t.enums===String?void 0===g.nexthink.protobuf.appex.extension.config.v1.Category[e.category]?e.category:g.nexthink.protobuf.appex.extension.config.v1.Category[e.category]:e.category),null!=e.builtinContentMetadata&&e.hasOwnProperty("builtinContentMetadata")&&(n.builtinContentMetadata=g.nexthink.protobuf.appex.extension.config.v1.BuiltinContentMetadata.toObject(e.builtinContentMetadata,t),t.oneofs&&(n._builtinContentMetadata="builtinContentMetadata")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.AppConfig"},e}(),e.MonitorOptions=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.navigationRequestStatus=null,e.prototype.statusCodeThreshold=null,e.prototype.resourceRequestStatus=null,e.prototype.navigationTiming=null,e.prototype.mutations=null,e.prototype.resourceTiming=null,e.prototype.longTasks=null,e.prototype.stableDomDebounceSeconds=null,e.prototype.transactionTimeoutSeconds=null,e.prototype.disableUsageMonitoring=null,e.prototype.errorExclusionList=null,e.prototype.maxFrameDepth=null,Object.defineProperty(e.prototype,"_navigationRequestStatus",{get:f.oneOfGetter(t=["navigationRequestStatus"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_statusCodeThreshold",{get:f.oneOfGetter(t=["statusCodeThreshold"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_resourceRequestStatus",{get:f.oneOfGetter(t=["resourceRequestStatus"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_navigationTiming",{get:f.oneOfGetter(t=["navigationTiming"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_mutations",{get:f.oneOfGetter(t=["mutations"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_resourceTiming",{get:f.oneOfGetter(t=["resourceTiming"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_longTasks",{get:f.oneOfGetter(t=["longTasks"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_stableDomDebounceSeconds",{get:f.oneOfGetter(t=["stableDomDebounceSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_transactionTimeoutSeconds",{get:f.oneOfGetter(t=["transactionTimeoutSeconds"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_disableUsageMonitoring",{get:f.oneOfGetter(t=["disableUsageMonitoring"]),set:f.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_maxFrameDepth",{get:f.oneOfGetter(t=["maxFrameDepth"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.navigationRequestStatus&&Object.hasOwnProperty.call(e,"navigationRequestStatus")&&t.uint32(8).bool(e.navigationRequestStatus),null!=e.statusCodeThreshold&&Object.hasOwnProperty.call(e,"statusCodeThreshold")&&t.uint32(16).uint32(e.statusCodeThreshold),null!=e.resourceRequestStatus&&Object.hasOwnProperty.call(e,"resourceRequestStatus")&&t.uint32(24).bool(e.resourceRequestStatus),null!=e.navigationTiming&&Object.hasOwnProperty.call(e,"navigationTiming")&&t.uint32(32).bool(e.navigationTiming),null!=e.mutations&&Object.hasOwnProperty.call(e,"mutations")&&t.uint32(40).bool(e.mutations),null!=e.resourceTiming&&Object.hasOwnProperty.call(e,"resourceTiming")&&t.uint32(48).bool(e.resourceTiming),null!=e.longTasks&&Object.hasOwnProperty.call(e,"longTasks")&&t.uint32(72).bool(e.longTasks),null!=e.stableDomDebounceSeconds&&Object.hasOwnProperty.call(e,"stableDomDebounceSeconds")&&t.uint32(85).float(e.stableDomDebounceSeconds),null!=e.transactionTimeoutSeconds&&Object.hasOwnProperty.call(e,"transactionTimeoutSeconds")&&t.uint32(93).float(e.transactionTimeoutSeconds),null!=e.disableUsageMonitoring&&Object.hasOwnProperty.call(e,"disableUsageMonitoring")&&t.uint32(96).bool(e.disableUsageMonitoring),null!=e.errorExclusionList&&Object.hasOwnProperty.call(e,"errorExclusionList")&&g.nexthink.protobuf.appex.extension.config.v1.ErrorExclusionList.encode(e.errorExclusionList,t.uint32(106).fork()).ldelim(),null!=e.maxFrameDepth&&Object.hasOwnProperty.call(e,"maxFrameDepth")&&t.uint32(112).uint32(e.maxFrameDepth),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.MonitorOptions;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.navigationRequestStatus=e.bool();break;case 2:r.statusCodeThreshold=e.uint32();break;case 3:r.resourceRequestStatus=e.bool();break;case 4:r.navigationTiming=e.bool();break;case 5:r.mutations=e.bool();break;case 6:r.resourceTiming=e.bool();break;case 9:r.longTasks=e.bool();break;case 10:r.stableDomDebounceSeconds=e.float();break;case 11:r.transactionTimeoutSeconds=e.float();break;case 12:r.disableUsageMonitoring=e.bool();break;case 13:r.errorExclusionList=g.nexthink.protobuf.appex.extension.config.v1.ErrorExclusionList.decode(e,e.uint32());break;case 14:r.maxFrameDepth=e.uint32();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};if(null!=e.navigationRequestStatus&&e.hasOwnProperty("navigationRequestStatus")&&(t._navigationRequestStatus=1,"boolean"!=typeof e.navigationRequestStatus))return"navigationRequestStatus: boolean expected";if(null!=e.statusCodeThreshold&&e.hasOwnProperty("statusCodeThreshold")&&(t._statusCodeThreshold=1,!f.isInteger(e.statusCodeThreshold)))return"statusCodeThreshold: integer expected";if(null!=e.resourceRequestStatus&&e.hasOwnProperty("resourceRequestStatus")&&(t._resourceRequestStatus=1,"boolean"!=typeof e.resourceRequestStatus))return"resourceRequestStatus: boolean expected";if(null!=e.navigationTiming&&e.hasOwnProperty("navigationTiming")&&(t._navigationTiming=1,"boolean"!=typeof e.navigationTiming))return"navigationTiming: boolean expected";if(null!=e.mutations&&e.hasOwnProperty("mutations")&&(t._mutations=1,"boolean"!=typeof e.mutations))return"mutations: boolean expected";if(null!=e.resourceTiming&&e.hasOwnProperty("resourceTiming")&&(t._resourceTiming=1,"boolean"!=typeof e.resourceTiming))return"resourceTiming: boolean expected";if(null!=e.longTasks&&e.hasOwnProperty("longTasks")&&(t._longTasks=1,"boolean"!=typeof e.longTasks))return"longTasks: boolean expected";if(null!=e.stableDomDebounceSeconds&&e.hasOwnProperty("stableDomDebounceSeconds")&&(t._stableDomDebounceSeconds=1,"number"!=typeof e.stableDomDebounceSeconds))return"stableDomDebounceSeconds: number expected";if(null!=e.transactionTimeoutSeconds&&e.hasOwnProperty("transactionTimeoutSeconds")&&(t._transactionTimeoutSeconds=1,"number"!=typeof e.transactionTimeoutSeconds))return"transactionTimeoutSeconds: number expected";if(null!=e.disableUsageMonitoring&&e.hasOwnProperty("disableUsageMonitoring")&&(t._disableUsageMonitoring=1,"boolean"!=typeof e.disableUsageMonitoring))return"disableUsageMonitoring: boolean expected";if(null!=e.errorExclusionList&&e.hasOwnProperty("errorExclusionList")){let t=g.nexthink.protobuf.appex.extension.config.v1.ErrorExclusionList.verify(e.errorExclusionList);if(t)return"errorExclusionList."+t}return null!=e.maxFrameDepth&&e.hasOwnProperty("maxFrameDepth")&&(t._maxFrameDepth=1,!f.isInteger(e.maxFrameDepth))?"maxFrameDepth: integer expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.MonitorOptions)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.MonitorOptions;if(null!=e.navigationRequestStatus&&(t.navigationRequestStatus=Boolean(e.navigationRequestStatus)),null!=e.statusCodeThreshold&&(t.statusCodeThreshold=e.statusCodeThreshold>>>0),null!=e.resourceRequestStatus&&(t.resourceRequestStatus=Boolean(e.resourceRequestStatus)),null!=e.navigationTiming&&(t.navigationTiming=Boolean(e.navigationTiming)),null!=e.mutations&&(t.mutations=Boolean(e.mutations)),null!=e.resourceTiming&&(t.resourceTiming=Boolean(e.resourceTiming)),null!=e.longTasks&&(t.longTasks=Boolean(e.longTasks)),null!=e.stableDomDebounceSeconds&&(t.stableDomDebounceSeconds=Number(e.stableDomDebounceSeconds)),null!=e.transactionTimeoutSeconds&&(t.transactionTimeoutSeconds=Number(e.transactionTimeoutSeconds)),null!=e.disableUsageMonitoring&&(t.disableUsageMonitoring=Boolean(e.disableUsageMonitoring)),null!=e.errorExclusionList){if("object"!=typeof e.errorExclusionList)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.MonitorOptions.errorExclusionList: object expected");t.errorExclusionList=g.nexthink.protobuf.appex.extension.config.v1.ErrorExclusionList.fromObject(e.errorExclusionList)}return null!=e.maxFrameDepth&&(t.maxFrameDepth=e.maxFrameDepth>>>0),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.errorExclusionList=null),null!=e.navigationRequestStatus&&e.hasOwnProperty("navigationRequestStatus")&&(n.navigationRequestStatus=e.navigationRequestStatus,t.oneofs&&(n._navigationRequestStatus="navigationRequestStatus")),null!=e.statusCodeThreshold&&e.hasOwnProperty("statusCodeThreshold")&&(n.statusCodeThreshold=e.statusCodeThreshold,t.oneofs&&(n._statusCodeThreshold="statusCodeThreshold")),null!=e.resourceRequestStatus&&e.hasOwnProperty("resourceRequestStatus")&&(n.resourceRequestStatus=e.resourceRequestStatus,t.oneofs&&(n._resourceRequestStatus="resourceRequestStatus")),null!=e.navigationTiming&&e.hasOwnProperty("navigationTiming")&&(n.navigationTiming=e.navigationTiming,t.oneofs&&(n._navigationTiming="navigationTiming")),null!=e.mutations&&e.hasOwnProperty("mutations")&&(n.mutations=e.mutations,t.oneofs&&(n._mutations="mutations")),null!=e.resourceTiming&&e.hasOwnProperty("resourceTiming")&&(n.resourceTiming=e.resourceTiming,t.oneofs&&(n._resourceTiming="resourceTiming")),null!=e.longTasks&&e.hasOwnProperty("longTasks")&&(n.longTasks=e.longTasks,t.oneofs&&(n._longTasks="longTasks")),null!=e.stableDomDebounceSeconds&&e.hasOwnProperty("stableDomDebounceSeconds")&&(n.stableDomDebounceSeconds=t.json&&!isFinite(e.stableDomDebounceSeconds)?String(e.stableDomDebounceSeconds):e.stableDomDebounceSeconds,t.oneofs&&(n._stableDomDebounceSeconds="stableDomDebounceSeconds")),null!=e.transactionTimeoutSeconds&&e.hasOwnProperty("transactionTimeoutSeconds")&&(n.transactionTimeoutSeconds=t.json&&!isFinite(e.transactionTimeoutSeconds)?String(e.transactionTimeoutSeconds):e.transactionTimeoutSeconds,t.oneofs&&(n._transactionTimeoutSeconds="transactionTimeoutSeconds")),null!=e.disableUsageMonitoring&&e.hasOwnProperty("disableUsageMonitoring")&&(n.disableUsageMonitoring=e.disableUsageMonitoring,t.oneofs&&(n._disableUsageMonitoring="disableUsageMonitoring")),null!=e.errorExclusionList&&e.hasOwnProperty("errorExclusionList")&&(n.errorExclusionList=g.nexthink.protobuf.appex.extension.config.v1.ErrorExclusionList.toObject(e.errorExclusionList,t)),null!=e.maxFrameDepth&&e.hasOwnProperty("maxFrameDepth")&&(n.maxFrameDepth=e.maxFrameDepth,t.oneofs&&(n._maxFrameDepth="maxFrameDepth")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.MonitorOptions"},e}(),e.AppRule=function(){function e(e){if(this.urlPatterns=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.appRuleId="",e.prototype.name="",e.prototype.urlPatterns=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.appRuleId&&Object.hasOwnProperty.call(e,"appRuleId")&&t.uint32(10).string(e.appRuleId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.urlPatterns&&e.urlPatterns.length)for(let n=0;n<e.urlPatterns.length;++n)t.uint32(26).string(e.urlPatterns[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.AppRule;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.appRuleId=e.string();break;case 2:r.name=e.string();break;case 3:r.urlPatterns&&r.urlPatterns.length||(r.urlPatterns=[]),r.urlPatterns.push(e.string());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.appRuleId&&e.hasOwnProperty("appRuleId")&&!f.isString(e.appRuleId))return"appRuleId: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(null!=e.urlPatterns&&e.hasOwnProperty("urlPatterns")){if(!Array.isArray(e.urlPatterns))return"urlPatterns: array expected";for(let t=0;t<e.urlPatterns.length;++t)if(!f.isString(e.urlPatterns[t]))return"urlPatterns: string[] expected"}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.AppRule)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.AppRule;if(null!=e.appRuleId&&(t.appRuleId=String(e.appRuleId)),null!=e.name&&(t.name=String(e.name)),e.urlPatterns){if(!Array.isArray(e.urlPatterns))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.AppRule.urlPatterns: array expected");t.urlPatterns=[];for(let n=0;n<e.urlPatterns.length;++n)t.urlPatterns[n]=String(e.urlPatterns[n])}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.urlPatterns=[]),t.defaults&&(n.appRuleId="",n.name=""),null!=e.appRuleId&&e.hasOwnProperty("appRuleId")&&(n.appRuleId=e.appRuleId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.urlPatterns&&e.urlPatterns.length){n.urlPatterns=[];for(let t=0;t<e.urlPatterns.length;++t)n.urlPatterns[t]=e.urlPatterns[t]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.AppRule"},e}(),e.KeyPageConfig=function(){function e(e){if(this.rules=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.keyPageId="",e.prototype.name="",e.prototype.rules=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.keyPageId&&Object.hasOwnProperty.call(e,"keyPageId")&&t.uint32(10).string(e.keyPageId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.rules&&e.rules.length)for(let n=0;n<e.rules.length;++n)g.nexthink.protobuf.appex.extension.config.v1.KeyPageRule.encode(e.rules[n],t.uint32(26).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.KeyPageConfig;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.keyPageId=e.string();break;case 2:r.name=e.string();break;case 3:r.rules&&r.rules.length||(r.rules=[]),r.rules.push(g.nexthink.protobuf.appex.extension.config.v1.KeyPageRule.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.keyPageId&&e.hasOwnProperty("keyPageId")&&!f.isString(e.keyPageId))return"keyPageId: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(let t=0;t<e.rules.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.KeyPageRule.verify(e.rules[t]);if(n)return"rules."+n}}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.KeyPageConfig)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.KeyPageConfig;if(null!=e.keyPageId&&(t.keyPageId=String(e.keyPageId)),null!=e.name&&(t.name=String(e.name)),e.rules){if(!Array.isArray(e.rules))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.KeyPageConfig.rules: array expected");t.rules=[];for(let n=0;n<e.rules.length;++n){if("object"!=typeof e.rules[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.KeyPageConfig.rules: object expected");t.rules[n]=g.nexthink.protobuf.appex.extension.config.v1.KeyPageRule.fromObject(e.rules[n])}}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.rules=[]),t.defaults&&(n.keyPageId="",n.name=""),null!=e.keyPageId&&e.hasOwnProperty("keyPageId")&&(n.keyPageId=e.keyPageId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.rules&&e.rules.length){n.rules=[];for(let r=0;r<e.rules.length;++r)n.rules[r]=g.nexthink.protobuf.appex.extension.config.v1.KeyPageRule.toObject(e.rules[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.KeyPageConfig"},e}(),e.KeyPageRule=function(){function e(e){if(this.pathPatterns=[],this.appRules=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pathPatterns=f.emptyArray,e.prototype.appRules=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.pathPatterns&&e.pathPatterns.length)for(let n=0;n<e.pathPatterns.length;++n)g.nexthink.protobuf.appex.extension.config.v1.TextMatchPattern.encode(e.pathPatterns[n],t.uint32(10).fork()).ldelim();if(null!=e.appRules&&e.appRules.length)for(let n=0;n<e.appRules.length;++n)t.uint32(18).string(e.appRules[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.KeyPageRule;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.pathPatterns&&r.pathPatterns.length||(r.pathPatterns=[]),r.pathPatterns.push(g.nexthink.protobuf.appex.extension.config.v1.TextMatchPattern.decode(e,e.uint32()));break;case 2:r.appRules&&r.appRules.length||(r.appRules=[]),r.appRules.push(e.string());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.pathPatterns&&e.hasOwnProperty("pathPatterns")){if(!Array.isArray(e.pathPatterns))return"pathPatterns: array expected";for(let t=0;t<e.pathPatterns.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.TextMatchPattern.verify(e.pathPatterns[t]);if(n)return"pathPatterns."+n}}if(null!=e.appRules&&e.hasOwnProperty("appRules")){if(!Array.isArray(e.appRules))return"appRules: array expected";for(let t=0;t<e.appRules.length;++t)if(!f.isString(e.appRules[t]))return"appRules: string[] expected"}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.KeyPageRule)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.KeyPageRule;if(e.pathPatterns){if(!Array.isArray(e.pathPatterns))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.KeyPageRule.pathPatterns: array expected");t.pathPatterns=[];for(let n=0;n<e.pathPatterns.length;++n){if("object"!=typeof e.pathPatterns[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.KeyPageRule.pathPatterns: object expected");t.pathPatterns[n]=g.nexthink.protobuf.appex.extension.config.v1.TextMatchPattern.fromObject(e.pathPatterns[n])}}if(e.appRules){if(!Array.isArray(e.appRules))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.KeyPageRule.appRules: array expected");t.appRules=[];for(let n=0;n<e.appRules.length;++n)t.appRules[n]=String(e.appRules[n])}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.pathPatterns=[],n.appRules=[]),e.pathPatterns&&e.pathPatterns.length){n.pathPatterns=[];for(let r=0;r<e.pathPatterns.length;++r)n.pathPatterns[r]=g.nexthink.protobuf.appex.extension.config.v1.TextMatchPattern.toObject(e.pathPatterns[r],t)}if(e.appRules&&e.appRules.length){n.appRules=[];for(let t=0;t<e.appRules.length;++t)n.appRules[t]=e.appRules[t]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.KeyPageRule"},e}(),e.LicenseInfo=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.numAvailableLicenses=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.numAvailableLicenses&&Object.hasOwnProperty.call(e,"numAvailableLicenses")&&t.uint32(8).uint32(e.numAvailableLicenses),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.LicenseInfo;for(;e.pos<n;){let t=e.uint32();t>>>3==1?r.numAvailableLicenses=e.uint32():e.skipType(7&t)}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.numAvailableLicenses&&e.hasOwnProperty("numAvailableLicenses")&&!f.isInteger(e.numAvailableLicenses)?"numAvailableLicenses: integer expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.LicenseInfo)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.LicenseInfo;return null!=e.numAvailableLicenses&&(t.numAvailableLicenses=e.numAvailableLicenses>>>0),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.numAvailableLicenses=0),null!=e.numAvailableLicenses&&e.hasOwnProperty("numAvailableLicenses")&&(n.numAvailableLicenses=e.numAvailableLicenses),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.LicenseInfo"},e}(),e.ThresholdInfo=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pageLoadTimeSec=null,e.prototype.transactionDurationSec=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.pageLoadTimeSec&&Object.hasOwnProperty.call(e,"pageLoadTimeSec")&&g.nexthink.protobuf.appex.extension.config.v1.MetricThreshold.encode(e.pageLoadTimeSec,t.uint32(10).fork()).ldelim(),null!=e.transactionDurationSec&&Object.hasOwnProperty.call(e,"transactionDurationSec")&&g.nexthink.protobuf.appex.extension.config.v1.MetricThreshold.encode(e.transactionDurationSec,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.ThresholdInfo;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.pageLoadTimeSec=g.nexthink.protobuf.appex.extension.config.v1.MetricThreshold.decode(e,e.uint32());break;case 2:r.transactionDurationSec=g.nexthink.protobuf.appex.extension.config.v1.MetricThreshold.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.pageLoadTimeSec&&e.hasOwnProperty("pageLoadTimeSec")){let t=g.nexthink.protobuf.appex.extension.config.v1.MetricThreshold.verify(e.pageLoadTimeSec);if(t)return"pageLoadTimeSec."+t}if(null!=e.transactionDurationSec&&e.hasOwnProperty("transactionDurationSec")){let t=g.nexthink.protobuf.appex.extension.config.v1.MetricThreshold.verify(e.transactionDurationSec);if(t)return"transactionDurationSec."+t}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.ThresholdInfo)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.ThresholdInfo;if(null!=e.pageLoadTimeSec){if("object"!=typeof e.pageLoadTimeSec)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.ThresholdInfo.pageLoadTimeSec: object expected");t.pageLoadTimeSec=g.nexthink.protobuf.appex.extension.config.v1.MetricThreshold.fromObject(e.pageLoadTimeSec)}if(null!=e.transactionDurationSec){if("object"!=typeof e.transactionDurationSec)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.ThresholdInfo.transactionDurationSec: object expected");t.transactionDurationSec=g.nexthink.protobuf.appex.extension.config.v1.MetricThreshold.fromObject(e.transactionDurationSec)}return t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.pageLoadTimeSec=null,n.transactionDurationSec=null),null!=e.pageLoadTimeSec&&e.hasOwnProperty("pageLoadTimeSec")&&(n.pageLoadTimeSec=g.nexthink.protobuf.appex.extension.config.v1.MetricThreshold.toObject(e.pageLoadTimeSec,t)),null!=e.transactionDurationSec&&e.hasOwnProperty("transactionDurationSec")&&(n.transactionDurationSec=g.nexthink.protobuf.appex.extension.config.v1.MetricThreshold.toObject(e.transactionDurationSec,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.ThresholdInfo"},e}(),e.MetricThreshold=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.average=0,e.prototype.frustrating=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.average&&Object.hasOwnProperty.call(e,"average")&&t.uint32(9).double(e.average),null!=e.frustrating&&Object.hasOwnProperty.call(e,"frustrating")&&t.uint32(17).double(e.frustrating),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.MetricThreshold;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.average=e.double();break;case 2:r.frustrating=e.double();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.average&&e.hasOwnProperty("average")&&"number"!=typeof e.average?"average: number expected":null!=e.frustrating&&e.hasOwnProperty("frustrating")&&"number"!=typeof e.frustrating?"frustrating: number expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.MetricThreshold)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.MetricThreshold;return null!=e.average&&(t.average=Number(e.average)),null!=e.frustrating&&(t.frustrating=Number(e.frustrating)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.average=0,n.frustrating=0),null!=e.average&&e.hasOwnProperty("average")&&(n.average=t.json&&!isFinite(e.average)?String(e.average):e.average),null!=e.frustrating&&e.hasOwnProperty("frustrating")&&(n.frustrating=t.json&&!isFinite(e.frustrating)?String(e.frustrating):e.frustrating),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.MetricThreshold"},e}(),e.ErrorExclusionList=function(){function e(e){if(this.error=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.error=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.error&&e.error.length)for(let n=0;n<e.error.length;++n)t.uint32(10).string(e.error[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.ErrorExclusionList;for(;e.pos<n;){let t=e.uint32();t>>>3==1?(r.error&&r.error.length||(r.error=[]),r.error.push(e.string())):e.skipType(7&t)}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.error&&e.hasOwnProperty("error")){if(!Array.isArray(e.error))return"error: array expected";for(let t=0;t<e.error.length;++t)if(!f.isString(e.error[t]))return"error: string[] expected"}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.ErrorExclusionList)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.ErrorExclusionList;if(e.error){if(!Array.isArray(e.error))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.ErrorExclusionList.error: array expected");t.error=[];for(let n=0;n<e.error.length;++n)t.error[n]=String(e.error[n])}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.error=[]),e.error&&e.error.length){n.error=[];for(let t=0;t<e.error.length;++t)n.error[t]=e.error[t]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.ErrorExclusionList"},e}(),e.Category=function(){const e={},t=Object.create(e);return t[e[0]="CATEGORY_UNSPECIFIED"]=0,t[e[1]="CATEGORY_CONNECTIVITY"]=1,t}(),e.BuiltinContentMetadata=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.builtinName="",e.prototype.builtinLibraryUuid="",e.prototype.builtinMinMtpVersion="",e.prototype.builtinVersion="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.builtinName&&Object.hasOwnProperty.call(e,"builtinName")&&t.uint32(10).string(e.builtinName),null!=e.builtinLibraryUuid&&Object.hasOwnProperty.call(e,"builtinLibraryUuid")&&t.uint32(18).string(e.builtinLibraryUuid),null!=e.builtinMinMtpVersion&&Object.hasOwnProperty.call(e,"builtinMinMtpVersion")&&t.uint32(26).string(e.builtinMinMtpVersion),null!=e.builtinVersion&&Object.hasOwnProperty.call(e,"builtinVersion")&&t.uint32(34).string(e.builtinVersion),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.BuiltinContentMetadata;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.builtinName=e.string();break;case 2:r.builtinLibraryUuid=e.string();break;case 3:r.builtinMinMtpVersion=e.string();break;case 4:r.builtinVersion=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.builtinName&&e.hasOwnProperty("builtinName")&&!f.isString(e.builtinName)?"builtinName: string expected":null!=e.builtinLibraryUuid&&e.hasOwnProperty("builtinLibraryUuid")&&!f.isString(e.builtinLibraryUuid)?"builtinLibraryUuid: string expected":null!=e.builtinMinMtpVersion&&e.hasOwnProperty("builtinMinMtpVersion")&&!f.isString(e.builtinMinMtpVersion)?"builtinMinMtpVersion: string expected":null!=e.builtinVersion&&e.hasOwnProperty("builtinVersion")&&!f.isString(e.builtinVersion)?"builtinVersion: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.BuiltinContentMetadata)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.BuiltinContentMetadata;return null!=e.builtinName&&(t.builtinName=String(e.builtinName)),null!=e.builtinLibraryUuid&&(t.builtinLibraryUuid=String(e.builtinLibraryUuid)),null!=e.builtinMinMtpVersion&&(t.builtinMinMtpVersion=String(e.builtinMinMtpVersion)),null!=e.builtinVersion&&(t.builtinVersion=String(e.builtinVersion)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.builtinName="",n.builtinLibraryUuid="",n.builtinMinMtpVersion="",n.builtinVersion=""),null!=e.builtinName&&e.hasOwnProperty("builtinName")&&(n.builtinName=e.builtinName),null!=e.builtinLibraryUuid&&e.hasOwnProperty("builtinLibraryUuid")&&(n.builtinLibraryUuid=e.builtinLibraryUuid),null!=e.builtinMinMtpVersion&&e.hasOwnProperty("builtinMinMtpVersion")&&(n.builtinMinMtpVersion=e.builtinMinMtpVersion),null!=e.builtinVersion&&e.hasOwnProperty("builtinVersion")&&(n.builtinVersion=e.builtinVersion),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.BuiltinContentMetadata"},e}(),e.TextMatchPattern=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.expression="",e.prototype.isRegex=!1,e.prototype.caseInsensitive=!1,e.prototype.multiline=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.expression&&Object.hasOwnProperty.call(e,"expression")&&t.uint32(10).string(e.expression),null!=e.isRegex&&Object.hasOwnProperty.call(e,"isRegex")&&t.uint32(16).bool(e.isRegex),null!=e.caseInsensitive&&Object.hasOwnProperty.call(e,"caseInsensitive")&&t.uint32(24).bool(e.caseInsensitive),null!=e.multiline&&Object.hasOwnProperty.call(e,"multiline")&&t.uint32(32).bool(e.multiline),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.TextMatchPattern;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.expression=e.string();break;case 2:r.isRegex=e.bool();break;case 3:r.caseInsensitive=e.bool();break;case 4:r.multiline=e.bool();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.expression&&e.hasOwnProperty("expression")&&!f.isString(e.expression)?"expression: string expected":null!=e.isRegex&&e.hasOwnProperty("isRegex")&&"boolean"!=typeof e.isRegex?"isRegex: boolean expected":null!=e.caseInsensitive&&e.hasOwnProperty("caseInsensitive")&&"boolean"!=typeof e.caseInsensitive?"caseInsensitive: boolean expected":null!=e.multiline&&e.hasOwnProperty("multiline")&&"boolean"!=typeof e.multiline?"multiline: boolean expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.TextMatchPattern)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.TextMatchPattern;return null!=e.expression&&(t.expression=String(e.expression)),null!=e.isRegex&&(t.isRegex=Boolean(e.isRegex)),null!=e.caseInsensitive&&(t.caseInsensitive=Boolean(e.caseInsensitive)),null!=e.multiline&&(t.multiline=Boolean(e.multiline)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.expression="",n.isRegex=!1,n.caseInsensitive=!1,n.multiline=!1),null!=e.expression&&e.hasOwnProperty("expression")&&(n.expression=e.expression),null!=e.isRegex&&e.hasOwnProperty("isRegex")&&(n.isRegex=e.isRegex),null!=e.caseInsensitive&&e.hasOwnProperty("caseInsensitive")&&(n.caseInsensitive=e.caseInsensitive),null!=e.multiline&&e.hasOwnProperty("multiline")&&(n.multiline=e.multiline),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.TextMatchPattern"},e}(),e.ExtensionBrandingConfig=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.enabledMessage="",e.prototype.disabledMessage="",e.prototype.aboutExtensionMessage="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.enabledMessage&&Object.hasOwnProperty.call(e,"enabledMessage")&&t.uint32(10).string(e.enabledMessage),null!=e.disabledMessage&&Object.hasOwnProperty.call(e,"disabledMessage")&&t.uint32(18).string(e.disabledMessage),null!=e.aboutExtensionMessage&&Object.hasOwnProperty.call(e,"aboutExtensionMessage")&&t.uint32(26).string(e.aboutExtensionMessage),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.ExtensionBrandingConfig;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.enabledMessage=e.string();break;case 2:r.disabledMessage=e.string();break;case 3:r.aboutExtensionMessage=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.enabledMessage&&e.hasOwnProperty("enabledMessage")&&!f.isString(e.enabledMessage)?"enabledMessage: string expected":null!=e.disabledMessage&&e.hasOwnProperty("disabledMessage")&&!f.isString(e.disabledMessage)?"disabledMessage: string expected":null!=e.aboutExtensionMessage&&e.hasOwnProperty("aboutExtensionMessage")&&!f.isString(e.aboutExtensionMessage)?"aboutExtensionMessage: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.ExtensionBrandingConfig)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.ExtensionBrandingConfig;return null!=e.enabledMessage&&(t.enabledMessage=String(e.enabledMessage)),null!=e.disabledMessage&&(t.disabledMessage=String(e.disabledMessage)),null!=e.aboutExtensionMessage&&(t.aboutExtensionMessage=String(e.aboutExtensionMessage)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.enabledMessage="",n.disabledMessage="",n.aboutExtensionMessage=""),null!=e.enabledMessage&&e.hasOwnProperty("enabledMessage")&&(n.enabledMessage=e.enabledMessage),null!=e.disabledMessage&&e.hasOwnProperty("disabledMessage")&&(n.disabledMessage=e.disabledMessage),null!=e.aboutExtensionMessage&&e.hasOwnProperty("aboutExtensionMessage")&&(n.aboutExtensionMessage=e.aboutExtensionMessage),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.ExtensionBrandingConfig"},e}(),e.TransactionMonitorConfig=function(){function e(e){if(this.startTriggers=[],this.endTriggers=[],this.errorTriggers=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.monitorId="",e.prototype.name="",e.prototype.startTriggers=f.emptyArray,e.prototype.endTriggers=f.emptyArray,e.prototype.errorTriggers=f.emptyArray,e.prototype.timeoutSeconds=0,e.prototype.ignoreUserInput=!1,e.prototype.endOnStartTriggerReset=!1,e.prototype.isMultiPage=!1,e.prototype.isNavigationEvent=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.monitorId&&Object.hasOwnProperty.call(e,"monitorId")&&t.uint32(10).string(e.monitorId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.startTriggers&&e.startTriggers.length)for(let n=0;n<e.startTriggers.length;++n)g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.encode(e.startTriggers[n],t.uint32(26).fork()).ldelim();if(null!=e.endTriggers&&e.endTriggers.length)for(let n=0;n<e.endTriggers.length;++n)g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.encode(e.endTriggers[n],t.uint32(34).fork()).ldelim();if(null!=e.errorTriggers&&e.errorTriggers.length)for(let n=0;n<e.errorTriggers.length;++n)g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.encode(e.errorTriggers[n],t.uint32(42).fork()).ldelim();return null!=e.timeoutSeconds&&Object.hasOwnProperty.call(e,"timeoutSeconds")&&t.uint32(53).float(e.timeoutSeconds),null!=e.ignoreUserInput&&Object.hasOwnProperty.call(e,"ignoreUserInput")&&t.uint32(80).bool(e.ignoreUserInput),null!=e.endOnStartTriggerReset&&Object.hasOwnProperty.call(e,"endOnStartTriggerReset")&&t.uint32(88).bool(e.endOnStartTriggerReset),null!=e.isMultiPage&&Object.hasOwnProperty.call(e,"isMultiPage")&&t.uint32(112).bool(e.isMultiPage),null!=e.isNavigationEvent&&Object.hasOwnProperty.call(e,"isNavigationEvent")&&t.uint32(120).bool(e.isNavigationEvent),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.monitorId=e.string();break;case 2:r.name=e.string();break;case 3:r.startTriggers&&r.startTriggers.length||(r.startTriggers=[]),r.startTriggers.push(g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.decode(e,e.uint32()));break;case 4:r.endTriggers&&r.endTriggers.length||(r.endTriggers=[]),r.endTriggers.push(g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.decode(e,e.uint32()));break;case 5:r.errorTriggers&&r.errorTriggers.length||(r.errorTriggers=[]),r.errorTriggers.push(g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.decode(e,e.uint32()));break;case 6:r.timeoutSeconds=e.float();break;case 10:r.ignoreUserInput=e.bool();break;case 11:r.endOnStartTriggerReset=e.bool();break;case 14:r.isMultiPage=e.bool();break;case 15:r.isNavigationEvent=e.bool();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.monitorId&&e.hasOwnProperty("monitorId")&&!f.isString(e.monitorId))return"monitorId: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(null!=e.startTriggers&&e.hasOwnProperty("startTriggers")){if(!Array.isArray(e.startTriggers))return"startTriggers: array expected";for(let t=0;t<e.startTriggers.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.verify(e.startTriggers[t]);if(n)return"startTriggers."+n}}if(null!=e.endTriggers&&e.hasOwnProperty("endTriggers")){if(!Array.isArray(e.endTriggers))return"endTriggers: array expected";for(let t=0;t<e.endTriggers.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.verify(e.endTriggers[t]);if(n)return"endTriggers."+n}}if(null!=e.errorTriggers&&e.hasOwnProperty("errorTriggers")){if(!Array.isArray(e.errorTriggers))return"errorTriggers: array expected";for(let t=0;t<e.errorTriggers.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.verify(e.errorTriggers[t]);if(n)return"errorTriggers."+n}}return null!=e.timeoutSeconds&&e.hasOwnProperty("timeoutSeconds")&&"number"!=typeof e.timeoutSeconds?"timeoutSeconds: number expected":null!=e.ignoreUserInput&&e.hasOwnProperty("ignoreUserInput")&&"boolean"!=typeof e.ignoreUserInput?"ignoreUserInput: boolean expected":null!=e.endOnStartTriggerReset&&e.hasOwnProperty("endOnStartTriggerReset")&&"boolean"!=typeof e.endOnStartTriggerReset?"endOnStartTriggerReset: boolean expected":null!=e.isMultiPage&&e.hasOwnProperty("isMultiPage")&&"boolean"!=typeof e.isMultiPage?"isMultiPage: boolean expected":null!=e.isNavigationEvent&&e.hasOwnProperty("isNavigationEvent")&&"boolean"!=typeof e.isNavigationEvent?"isNavigationEvent: boolean expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig;if(null!=e.monitorId&&(t.monitorId=String(e.monitorId)),null!=e.name&&(t.name=String(e.name)),e.startTriggers){if(!Array.isArray(e.startTriggers))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig.startTriggers: array expected");t.startTriggers=[];for(let n=0;n<e.startTriggers.length;++n){if("object"!=typeof e.startTriggers[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig.startTriggers: object expected");t.startTriggers[n]=g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.fromObject(e.startTriggers[n])}}if(e.endTriggers){if(!Array.isArray(e.endTriggers))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig.endTriggers: array expected");t.endTriggers=[];for(let n=0;n<e.endTriggers.length;++n){if("object"!=typeof e.endTriggers[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig.endTriggers: object expected");t.endTriggers[n]=g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.fromObject(e.endTriggers[n])}}if(e.errorTriggers){if(!Array.isArray(e.errorTriggers))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig.errorTriggers: array expected");t.errorTriggers=[];for(let n=0;n<e.errorTriggers.length;++n){if("object"!=typeof e.errorTriggers[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig.errorTriggers: object expected");t.errorTriggers[n]=g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.fromObject(e.errorTriggers[n])}}return null!=e.timeoutSeconds&&(t.timeoutSeconds=Number(e.timeoutSeconds)),null!=e.ignoreUserInput&&(t.ignoreUserInput=Boolean(e.ignoreUserInput)),null!=e.endOnStartTriggerReset&&(t.endOnStartTriggerReset=Boolean(e.endOnStartTriggerReset)),null!=e.isMultiPage&&(t.isMultiPage=Boolean(e.isMultiPage)),null!=e.isNavigationEvent&&(t.isNavigationEvent=Boolean(e.isNavigationEvent)),t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.startTriggers=[],n.endTriggers=[],n.errorTriggers=[]),t.defaults&&(n.monitorId="",n.name="",n.timeoutSeconds=0,n.ignoreUserInput=!1,n.endOnStartTriggerReset=!1,n.isMultiPage=!1,n.isNavigationEvent=!1),null!=e.monitorId&&e.hasOwnProperty("monitorId")&&(n.monitorId=e.monitorId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.startTriggers&&e.startTriggers.length){n.startTriggers=[];for(let r=0;r<e.startTriggers.length;++r)n.startTriggers[r]=g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.toObject(e.startTriggers[r],t)}if(e.endTriggers&&e.endTriggers.length){n.endTriggers=[];for(let r=0;r<e.endTriggers.length;++r)n.endTriggers[r]=g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.toObject(e.endTriggers[r],t)}if(e.errorTriggers&&e.errorTriggers.length){n.errorTriggers=[];for(let r=0;r<e.errorTriggers.length;++r)n.errorTriggers[r]=g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.toObject(e.errorTriggers[r],t)}return null!=e.timeoutSeconds&&e.hasOwnProperty("timeoutSeconds")&&(n.timeoutSeconds=t.json&&!isFinite(e.timeoutSeconds)?String(e.timeoutSeconds):e.timeoutSeconds),null!=e.ignoreUserInput&&e.hasOwnProperty("ignoreUserInput")&&(n.ignoreUserInput=e.ignoreUserInput),null!=e.endOnStartTriggerReset&&e.hasOwnProperty("endOnStartTriggerReset")&&(n.endOnStartTriggerReset=e.endOnStartTriggerReset),null!=e.isMultiPage&&e.hasOwnProperty("isMultiPage")&&(n.isMultiPage=e.isMultiPage),null!=e.isNavigationEvent&&e.hasOwnProperty("isNavigationEvent")&&(n.isNavigationEvent=e.isNavigationEvent),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.TransactionMonitorConfig"},e}(),e.TriggerMonitorConfig=function(){function e(e){if(this.keyPages=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.monitorId="",e.prototype.name="",e.prototype.keyPages=f.emptyArray,e.prototype.element=null,e.prototype.visibility=null,e.prototype.presence=null,e.prototype.event=null,e.prototype.class=null,Object.defineProperty(e.prototype,"mechanism",{get:f.oneOfGetter(t=["visibility","presence","event","class"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.monitorId&&Object.hasOwnProperty.call(e,"monitorId")&&t.uint32(10).string(e.monitorId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.keyPages&&e.keyPages.length)for(let n=0;n<e.keyPages.length;++n)t.uint32(26).string(e.keyPages[n]);return null!=e.element&&Object.hasOwnProperty.call(e,"element")&&g.nexthink.protobuf.appex.extension.config.v1.ElementSelectorConfig.encode(e.element,t.uint32(34).fork()).ldelim(),null!=e.visibility&&Object.hasOwnProperty.call(e,"visibility")&&g.nexthink.protobuf.appex.extension.config.v1.ElementVisibilityConfig.encode(e.visibility,t.uint32(50).fork()).ldelim(),null!=e.presence&&Object.hasOwnProperty.call(e,"presence")&&g.nexthink.protobuf.appex.extension.config.v1.ElementPresenceConfig.encode(e.presence,t.uint32(58).fork()).ldelim(),null!=e.event&&Object.hasOwnProperty.call(e,"event")&&g.nexthink.protobuf.appex.extension.config.v1.ElementEventConfig.encode(e.event,t.uint32(66).fork()).ldelim(),null!=e.class&&Object.hasOwnProperty.call(e,"class")&&g.nexthink.protobuf.appex.extension.config.v1.ElementClassConfig.encode(e.class,t.uint32(74).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.monitorId=e.string();break;case 2:r.name=e.string();break;case 3:r.keyPages&&r.keyPages.length||(r.keyPages=[]),r.keyPages.push(e.string());break;case 4:r.element=g.nexthink.protobuf.appex.extension.config.v1.ElementSelectorConfig.decode(e,e.uint32());break;case 6:r.visibility=g.nexthink.protobuf.appex.extension.config.v1.ElementVisibilityConfig.decode(e,e.uint32());break;case 7:r.presence=g.nexthink.protobuf.appex.extension.config.v1.ElementPresenceConfig.decode(e,e.uint32());break;case 8:r.event=g.nexthink.protobuf.appex.extension.config.v1.ElementEventConfig.decode(e,e.uint32());break;case 9:r.class=g.nexthink.protobuf.appex.extension.config.v1.ElementClassConfig.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};if(null!=e.monitorId&&e.hasOwnProperty("monitorId")&&!f.isString(e.monitorId))return"monitorId: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(null!=e.keyPages&&e.hasOwnProperty("keyPages")){if(!Array.isArray(e.keyPages))return"keyPages: array expected";for(let t=0;t<e.keyPages.length;++t)if(!f.isString(e.keyPages[t]))return"keyPages: string[] expected"}if(null!=e.element&&e.hasOwnProperty("element")){let t=g.nexthink.protobuf.appex.extension.config.v1.ElementSelectorConfig.verify(e.element);if(t)return"element."+t}if(null!=e.visibility&&e.hasOwnProperty("visibility")){t.mechanism=1;{let t=g.nexthink.protobuf.appex.extension.config.v1.ElementVisibilityConfig.verify(e.visibility);if(t)return"visibility."+t}}if(null!=e.presence&&e.hasOwnProperty("presence")){if(1===t.mechanism)return"mechanism: multiple values";t.mechanism=1;{let t=g.nexthink.protobuf.appex.extension.config.v1.ElementPresenceConfig.verify(e.presence);if(t)return"presence."+t}}if(null!=e.event&&e.hasOwnProperty("event")){if(1===t.mechanism)return"mechanism: multiple values";t.mechanism=1;{let t=g.nexthink.protobuf.appex.extension.config.v1.ElementEventConfig.verify(e.event);if(t)return"event."+t}}if(null!=e.class&&e.hasOwnProperty("class")){if(1===t.mechanism)return"mechanism: multiple values";t.mechanism=1;{let t=g.nexthink.protobuf.appex.extension.config.v1.ElementClassConfig.verify(e.class);if(t)return"class."+t}}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig;if(null!=e.monitorId&&(t.monitorId=String(e.monitorId)),null!=e.name&&(t.name=String(e.name)),e.keyPages){if(!Array.isArray(e.keyPages))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.keyPages: array expected");t.keyPages=[];for(let n=0;n<e.keyPages.length;++n)t.keyPages[n]=String(e.keyPages[n])}if(null!=e.element){if("object"!=typeof e.element)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.element: object expected");t.element=g.nexthink.protobuf.appex.extension.config.v1.ElementSelectorConfig.fromObject(e.element)}if(null!=e.visibility){if("object"!=typeof e.visibility)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.visibility: object expected");t.visibility=g.nexthink.protobuf.appex.extension.config.v1.ElementVisibilityConfig.fromObject(e.visibility)}if(null!=e.presence){if("object"!=typeof e.presence)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.presence: object expected");t.presence=g.nexthink.protobuf.appex.extension.config.v1.ElementPresenceConfig.fromObject(e.presence)}if(null!=e.event){if("object"!=typeof e.event)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.event: object expected");t.event=g.nexthink.protobuf.appex.extension.config.v1.ElementEventConfig.fromObject(e.event)}if(null!=e.class){if("object"!=typeof e.class)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig.class: object expected");t.class=g.nexthink.protobuf.appex.extension.config.v1.ElementClassConfig.fromObject(e.class)}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.keyPages=[]),t.defaults&&(n.monitorId="",n.name="",n.element=null),null!=e.monitorId&&e.hasOwnProperty("monitorId")&&(n.monitorId=e.monitorId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),e.keyPages&&e.keyPages.length){n.keyPages=[];for(let t=0;t<e.keyPages.length;++t)n.keyPages[t]=e.keyPages[t]}return null!=e.element&&e.hasOwnProperty("element")&&(n.element=g.nexthink.protobuf.appex.extension.config.v1.ElementSelectorConfig.toObject(e.element,t)),null!=e.visibility&&e.hasOwnProperty("visibility")&&(n.visibility=g.nexthink.protobuf.appex.extension.config.v1.ElementVisibilityConfig.toObject(e.visibility,t),t.oneofs&&(n.mechanism="visibility")),null!=e.presence&&e.hasOwnProperty("presence")&&(n.presence=g.nexthink.protobuf.appex.extension.config.v1.ElementPresenceConfig.toObject(e.presence,t),t.oneofs&&(n.mechanism="presence")),null!=e.event&&e.hasOwnProperty("event")&&(n.event=g.nexthink.protobuf.appex.extension.config.v1.ElementEventConfig.toObject(e.event,t),t.oneofs&&(n.mechanism="event")),null!=e.class&&e.hasOwnProperty("class")&&(n.class=g.nexthink.protobuf.appex.extension.config.v1.ElementClassConfig.toObject(e.class,t),t.oneofs&&(n.mechanism="class")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.TriggerMonitorConfig"},e}(),e.ElementSelectorConfig=function(){function e(e){if(this.innerTextPatterns=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cssSelector="",e.prototype.innerTextPatterns=f.emptyArray,e.prototype.waitForNew=!1,e.prototype.selectAll=!1,e.prototype.containerCssSelector="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.cssSelector&&Object.hasOwnProperty.call(e,"cssSelector")&&t.uint32(10).string(e.cssSelector),null!=e.innerTextPatterns&&e.innerTextPatterns.length)for(let n=0;n<e.innerTextPatterns.length;++n)g.nexthink.protobuf.appex.extension.config.v1.TextMatchPattern.encode(e.innerTextPatterns[n],t.uint32(18).fork()).ldelim();return null!=e.waitForNew&&Object.hasOwnProperty.call(e,"waitForNew")&&t.uint32(24).bool(e.waitForNew),null!=e.selectAll&&Object.hasOwnProperty.call(e,"selectAll")&&t.uint32(32).bool(e.selectAll),null!=e.containerCssSelector&&Object.hasOwnProperty.call(e,"containerCssSelector")&&t.uint32(82).string(e.containerCssSelector),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.ElementSelectorConfig;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.cssSelector=e.string();break;case 2:r.innerTextPatterns&&r.innerTextPatterns.length||(r.innerTextPatterns=[]),r.innerTextPatterns.push(g.nexthink.protobuf.appex.extension.config.v1.TextMatchPattern.decode(e,e.uint32()));break;case 3:r.waitForNew=e.bool();break;case 4:r.selectAll=e.bool();break;case 10:r.containerCssSelector=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.cssSelector&&e.hasOwnProperty("cssSelector")&&!f.isString(e.cssSelector))return"cssSelector: string expected";if(null!=e.innerTextPatterns&&e.hasOwnProperty("innerTextPatterns")){if(!Array.isArray(e.innerTextPatterns))return"innerTextPatterns: array expected";for(let t=0;t<e.innerTextPatterns.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.TextMatchPattern.verify(e.innerTextPatterns[t]);if(n)return"innerTextPatterns."+n}}return null!=e.waitForNew&&e.hasOwnProperty("waitForNew")&&"boolean"!=typeof e.waitForNew?"waitForNew: boolean expected":null!=e.selectAll&&e.hasOwnProperty("selectAll")&&"boolean"!=typeof e.selectAll?"selectAll: boolean expected":null!=e.containerCssSelector&&e.hasOwnProperty("containerCssSelector")&&!f.isString(e.containerCssSelector)?"containerCssSelector: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.ElementSelectorConfig)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.ElementSelectorConfig;if(null!=e.cssSelector&&(t.cssSelector=String(e.cssSelector)),e.innerTextPatterns){if(!Array.isArray(e.innerTextPatterns))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.ElementSelectorConfig.innerTextPatterns: array expected");t.innerTextPatterns=[];for(let n=0;n<e.innerTextPatterns.length;++n){if("object"!=typeof e.innerTextPatterns[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.ElementSelectorConfig.innerTextPatterns: object expected");t.innerTextPatterns[n]=g.nexthink.protobuf.appex.extension.config.v1.TextMatchPattern.fromObject(e.innerTextPatterns[n])}}return null!=e.waitForNew&&(t.waitForNew=Boolean(e.waitForNew)),null!=e.selectAll&&(t.selectAll=Boolean(e.selectAll)),null!=e.containerCssSelector&&(t.containerCssSelector=String(e.containerCssSelector)),t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.innerTextPatterns=[]),t.defaults&&(n.cssSelector="",n.waitForNew=!1,n.selectAll=!1,n.containerCssSelector=""),null!=e.cssSelector&&e.hasOwnProperty("cssSelector")&&(n.cssSelector=e.cssSelector),e.innerTextPatterns&&e.innerTextPatterns.length){n.innerTextPatterns=[];for(let r=0;r<e.innerTextPatterns.length;++r)n.innerTextPatterns[r]=g.nexthink.protobuf.appex.extension.config.v1.TextMatchPattern.toObject(e.innerTextPatterns[r],t)}return null!=e.waitForNew&&e.hasOwnProperty("waitForNew")&&(n.waitForNew=e.waitForNew),null!=e.selectAll&&e.hasOwnProperty("selectAll")&&(n.selectAll=e.selectAll),null!=e.containerCssSelector&&e.hasOwnProperty("containerCssSelector")&&(n.containerCssSelector=e.containerCssSelector),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.ElementSelectorConfig"},e}(),e.ElementEventConfig=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.keyboardShortcut=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.keyboardShortcut&&Object.hasOwnProperty.call(e,"keyboardShortcut")&&g.nexthink.protobuf.appex.extension.config.v1.KeyboardShortcutConfig.encode(e.keyboardShortcut,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.ElementEventConfig;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.name=e.string();break;case 2:r.keyboardShortcut=g.nexthink.protobuf.appex.extension.config.v1.KeyboardShortcutConfig.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.name&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(null!=e.keyboardShortcut&&e.hasOwnProperty("keyboardShortcut")){let t=g.nexthink.protobuf.appex.extension.config.v1.KeyboardShortcutConfig.verify(e.keyboardShortcut);if(t)return"keyboardShortcut."+t}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.ElementEventConfig)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.ElementEventConfig;if(null!=e.name&&(t.name=String(e.name)),null!=e.keyboardShortcut){if("object"!=typeof e.keyboardShortcut)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.ElementEventConfig.keyboardShortcut: object expected");t.keyboardShortcut=g.nexthink.protobuf.appex.extension.config.v1.KeyboardShortcutConfig.fromObject(e.keyboardShortcut)}return t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.name="",n.keyboardShortcut=null),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.keyboardShortcut&&e.hasOwnProperty("keyboardShortcut")&&(n.keyboardShortcut=g.nexthink.protobuf.appex.extension.config.v1.KeyboardShortcutConfig.toObject(e.keyboardShortcut,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.ElementEventConfig"},e}(),e.KeyboardShortcutConfig=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.expression="",e.prototype.listenOnTargetElement=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.expression&&Object.hasOwnProperty.call(e,"expression")&&t.uint32(10).string(e.expression),null!=e.listenOnTargetElement&&Object.hasOwnProperty.call(e,"listenOnTargetElement")&&t.uint32(16).bool(e.listenOnTargetElement),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.KeyboardShortcutConfig;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.expression=e.string();break;case 2:r.listenOnTargetElement=e.bool();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.expression&&e.hasOwnProperty("expression")&&!f.isString(e.expression)?"expression: string expected":null!=e.listenOnTargetElement&&e.hasOwnProperty("listenOnTargetElement")&&"boolean"!=typeof e.listenOnTargetElement?"listenOnTargetElement: boolean expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.KeyboardShortcutConfig)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.KeyboardShortcutConfig;return null!=e.expression&&(t.expression=String(e.expression)),null!=e.listenOnTargetElement&&(t.listenOnTargetElement=Boolean(e.listenOnTargetElement)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.expression="",n.listenOnTargetElement=!1),null!=e.expression&&e.hasOwnProperty("expression")&&(n.expression=e.expression),null!=e.listenOnTargetElement&&e.hasOwnProperty("listenOnTargetElement")&&(n.listenOnTargetElement=e.listenOnTargetElement),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.KeyboardShortcutConfig"},e}(),e.ElementVisibilityConfig=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.triggerOnHidden=!1,e.prototype.waitForChange=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.triggerOnHidden&&Object.hasOwnProperty.call(e,"triggerOnHidden")&&t.uint32(8).bool(e.triggerOnHidden),null!=e.waitForChange&&Object.hasOwnProperty.call(e,"waitForChange")&&t.uint32(16).bool(e.waitForChange),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.ElementVisibilityConfig;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.triggerOnHidden=e.bool();break;case 2:r.waitForChange=e.bool();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.triggerOnHidden&&e.hasOwnProperty("triggerOnHidden")&&"boolean"!=typeof e.triggerOnHidden?"triggerOnHidden: boolean expected":null!=e.waitForChange&&e.hasOwnProperty("waitForChange")&&"boolean"!=typeof e.waitForChange?"waitForChange: boolean expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.ElementVisibilityConfig)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.ElementVisibilityConfig;return null!=e.triggerOnHidden&&(t.triggerOnHidden=Boolean(e.triggerOnHidden)),null!=e.waitForChange&&(t.waitForChange=Boolean(e.waitForChange)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.triggerOnHidden=!1,n.waitForChange=!1),null!=e.triggerOnHidden&&e.hasOwnProperty("triggerOnHidden")&&(n.triggerOnHidden=e.triggerOnHidden),null!=e.waitForChange&&e.hasOwnProperty("waitForChange")&&(n.waitForChange=e.waitForChange),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.ElementVisibilityConfig"},e}(),e.ElementPresenceConfig=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.triggerOnRemoved=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.triggerOnRemoved&&Object.hasOwnProperty.call(e,"triggerOnRemoved")&&t.uint32(8).bool(e.triggerOnRemoved),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.ElementPresenceConfig;for(;e.pos<n;){let t=e.uint32();t>>>3==1?r.triggerOnRemoved=e.bool():e.skipType(7&t)}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.triggerOnRemoved&&e.hasOwnProperty("triggerOnRemoved")&&"boolean"!=typeof e.triggerOnRemoved?"triggerOnRemoved: boolean expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.ElementPresenceConfig)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.ElementPresenceConfig;return null!=e.triggerOnRemoved&&(t.triggerOnRemoved=Boolean(e.triggerOnRemoved)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.triggerOnRemoved=!1),null!=e.triggerOnRemoved&&e.hasOwnProperty("triggerOnRemoved")&&(n.triggerOnRemoved=e.triggerOnRemoved),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.ElementPresenceConfig"},e}(),e.ElementClassConfig=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.triggerOnRemoved=!1,e.prototype.waitForChange=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.triggerOnRemoved&&Object.hasOwnProperty.call(e,"triggerOnRemoved")&&t.uint32(16).bool(e.triggerOnRemoved),null!=e.waitForChange&&Object.hasOwnProperty.call(e,"waitForChange")&&t.uint32(24).bool(e.waitForChange),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.ElementClassConfig;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.name=e.string();break;case 2:r.triggerOnRemoved=e.bool();break;case 3:r.waitForChange=e.bool();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.name&&e.hasOwnProperty("name")&&!f.isString(e.name)?"name: string expected":null!=e.triggerOnRemoved&&e.hasOwnProperty("triggerOnRemoved")&&"boolean"!=typeof e.triggerOnRemoved?"triggerOnRemoved: boolean expected":null!=e.waitForChange&&e.hasOwnProperty("waitForChange")&&"boolean"!=typeof e.waitForChange?"waitForChange: boolean expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.ElementClassConfig)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.ElementClassConfig;return null!=e.name&&(t.name=String(e.name)),null!=e.triggerOnRemoved&&(t.triggerOnRemoved=Boolean(e.triggerOnRemoved)),null!=e.waitForChange&&(t.waitForChange=Boolean(e.waitForChange)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.name="",n.triggerOnRemoved=!1,n.waitForChange=!1),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.triggerOnRemoved&&e.hasOwnProperty("triggerOnRemoved")&&(n.triggerOnRemoved=e.triggerOnRemoved),null!=e.waitForChange&&e.hasOwnProperty("waitForChange")&&(n.waitForChange=e.waitForChange),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.ElementClassConfig"},e}(),e.UrlSanitizerConfigSection=function(){function e(e){if(this.rules=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.defaults=null,e.prototype.rules=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.defaults&&Object.hasOwnProperty.call(e,"defaults")&&g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerDefaults.encode(e.defaults,t.uint32(10).fork()).ldelim(),null!=e.rules&&e.rules.length)for(let n=0;n<e.rules.length;++n)g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfig.encode(e.rules[n],t.uint32(18).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfigSection;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.defaults=g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerDefaults.decode(e,e.uint32());break;case 2:r.rules&&r.rules.length||(r.rules=[]),r.rules.push(g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfig.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.defaults&&e.hasOwnProperty("defaults")){let t=g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerDefaults.verify(e.defaults);if(t)return"defaults."+t}if(null!=e.rules&&e.hasOwnProperty("rules")){if(!Array.isArray(e.rules))return"rules: array expected";for(let t=0;t<e.rules.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfig.verify(e.rules[t]);if(n)return"rules."+n}}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfigSection)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfigSection;if(null!=e.defaults){if("object"!=typeof e.defaults)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfigSection.defaults: object expected");t.defaults=g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerDefaults.fromObject(e.defaults)}if(e.rules){if(!Array.isArray(e.rules))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfigSection.rules: array expected");t.rules=[];for(let n=0;n<e.rules.length;++n){if("object"!=typeof e.rules[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfigSection.rules: object expected");t.rules[n]=g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfig.fromObject(e.rules[n])}}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.rules=[]),t.defaults&&(n.defaults=null),null!=e.defaults&&e.hasOwnProperty("defaults")&&(n.defaults=g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerDefaults.toObject(e.defaults,t)),e.rules&&e.rules.length){n.rules=[];for(let r=0;r<e.rules.length;++r)n.rules[r]=g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfig.toObject(e.rules[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfigSection"},e}(),e.UrlSanitizerDefaults=function(){function e(e){if(this.tokenFilters=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.pathDepth=0,e.prototype.pathLength=0,e.prototype.anchorLength=0,e.prototype.tokenFilters=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.pathDepth&&Object.hasOwnProperty.call(e,"pathDepth")&&t.uint32(16).uint32(e.pathDepth),null!=e.pathLength&&Object.hasOwnProperty.call(e,"pathLength")&&t.uint32(24).uint32(e.pathLength),null!=e.anchorLength&&Object.hasOwnProperty.call(e,"anchorLength")&&t.uint32(32).uint32(e.anchorLength),null!=e.tokenFilters&&e.tokenFilters.length)for(let n=0;n<e.tokenFilters.length;++n)g.nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter.encode(e.tokenFilters[n],t.uint32(122).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerDefaults;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 2:r.pathDepth=e.uint32();break;case 3:r.pathLength=e.uint32();break;case 4:r.anchorLength=e.uint32();break;case 15:r.tokenFilters&&r.tokenFilters.length||(r.tokenFilters=[]),r.tokenFilters.push(g.nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.pathDepth&&e.hasOwnProperty("pathDepth")&&!f.isInteger(e.pathDepth))return"pathDepth: integer expected";if(null!=e.pathLength&&e.hasOwnProperty("pathLength")&&!f.isInteger(e.pathLength))return"pathLength: integer expected";if(null!=e.anchorLength&&e.hasOwnProperty("anchorLength")&&!f.isInteger(e.anchorLength))return"anchorLength: integer expected";if(null!=e.tokenFilters&&e.hasOwnProperty("tokenFilters")){if(!Array.isArray(e.tokenFilters))return"tokenFilters: array expected";for(let t=0;t<e.tokenFilters.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter.verify(e.tokenFilters[t]);if(n)return"tokenFilters."+n}}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerDefaults)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerDefaults;if(null!=e.pathDepth&&(t.pathDepth=e.pathDepth>>>0),null!=e.pathLength&&(t.pathLength=e.pathLength>>>0),null!=e.anchorLength&&(t.anchorLength=e.anchorLength>>>0),e.tokenFilters){if(!Array.isArray(e.tokenFilters))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.UrlSanitizerDefaults.tokenFilters: array expected");t.tokenFilters=[];for(let n=0;n<e.tokenFilters.length;++n){if("object"!=typeof e.tokenFilters[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.UrlSanitizerDefaults.tokenFilters: object expected");t.tokenFilters[n]=g.nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter.fromObject(e.tokenFilters[n])}}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.tokenFilters=[]),t.defaults&&(n.pathDepth=0,n.pathLength=0,n.anchorLength=0),null!=e.pathDepth&&e.hasOwnProperty("pathDepth")&&(n.pathDepth=e.pathDepth),null!=e.pathLength&&e.hasOwnProperty("pathLength")&&(n.pathLength=e.pathLength),null!=e.anchorLength&&e.hasOwnProperty("anchorLength")&&(n.anchorLength=e.anchorLength),e.tokenFilters&&e.tokenFilters.length){n.tokenFilters=[];for(let r=0;r<e.tokenFilters.length;++r)n.tokenFilters[r]=g.nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter.toObject(e.tokenFilters[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.UrlSanitizerDefaults"},e}(),e.UrlSanitizerConfig=function(){function e(e){if(this.hosts=[],this.captureParams=[],this.tokenFilters=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.hosts=f.emptyArray,e.prototype.pathDepth=0,e.prototype.pathLength=0,e.prototype.anchorLength=0,e.prototype.captureParams=f.emptyArray,e.prototype.fragmentAsPath=null,e.prototype.fragmentAsQuery=null,e.prototype.fragmentAsAnchor=null,e.prototype.tokenFilters=f.emptyArray,Object.defineProperty(e.prototype,"fragmentHandling",{get:f.oneOfGetter(t=["fragmentAsPath","fragmentAsQuery","fragmentAsAnchor"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.hosts&&e.hosts.length)for(let n=0;n<e.hosts.length;++n)t.uint32(10).string(e.hosts[n]);if(null!=e.pathDepth&&Object.hasOwnProperty.call(e,"pathDepth")&&t.uint32(16).uint32(e.pathDepth),null!=e.pathLength&&Object.hasOwnProperty.call(e,"pathLength")&&t.uint32(24).uint32(e.pathLength),null!=e.anchorLength&&Object.hasOwnProperty.call(e,"anchorLength")&&t.uint32(32).uint32(e.anchorLength),null!=e.captureParams&&e.captureParams.length)for(let n=0;n<e.captureParams.length;++n)t.uint32(42).string(e.captureParams[n]);if(null!=e.fragmentAsPath&&Object.hasOwnProperty.call(e,"fragmentAsPath")&&t.uint32(80).bool(e.fragmentAsPath),null!=e.fragmentAsQuery&&Object.hasOwnProperty.call(e,"fragmentAsQuery")&&t.uint32(88).bool(e.fragmentAsQuery),null!=e.fragmentAsAnchor&&Object.hasOwnProperty.call(e,"fragmentAsAnchor")&&t.uint32(96).bool(e.fragmentAsAnchor),null!=e.tokenFilters&&e.tokenFilters.length)for(let n=0;n<e.tokenFilters.length;++n)g.nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter.encode(e.tokenFilters[n],t.uint32(122).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfig;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.hosts&&r.hosts.length||(r.hosts=[]),r.hosts.push(e.string());break;case 2:r.pathDepth=e.uint32();break;case 3:r.pathLength=e.uint32();break;case 4:r.anchorLength=e.uint32();break;case 5:r.captureParams&&r.captureParams.length||(r.captureParams=[]),r.captureParams.push(e.string());break;case 10:r.fragmentAsPath=e.bool();break;case 11:r.fragmentAsQuery=e.bool();break;case 12:r.fragmentAsAnchor=e.bool();break;case 15:r.tokenFilters&&r.tokenFilters.length||(r.tokenFilters=[]),r.tokenFilters.push(g.nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter.decode(e,e.uint32()));break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};if(null!=e.hosts&&e.hasOwnProperty("hosts")){if(!Array.isArray(e.hosts))return"hosts: array expected";for(let t=0;t<e.hosts.length;++t)if(!f.isString(e.hosts[t]))return"hosts: string[] expected"}if(null!=e.pathDepth&&e.hasOwnProperty("pathDepth")&&!f.isInteger(e.pathDepth))return"pathDepth: integer expected";if(null!=e.pathLength&&e.hasOwnProperty("pathLength")&&!f.isInteger(e.pathLength))return"pathLength: integer expected";if(null!=e.anchorLength&&e.hasOwnProperty("anchorLength")&&!f.isInteger(e.anchorLength))return"anchorLength: integer expected";if(null!=e.captureParams&&e.hasOwnProperty("captureParams")){if(!Array.isArray(e.captureParams))return"captureParams: array expected";for(let t=0;t<e.captureParams.length;++t)if(!f.isString(e.captureParams[t]))return"captureParams: string[] expected"}if(null!=e.fragmentAsPath&&e.hasOwnProperty("fragmentAsPath")&&(t.fragmentHandling=1,"boolean"!=typeof e.fragmentAsPath))return"fragmentAsPath: boolean expected";if(null!=e.fragmentAsQuery&&e.hasOwnProperty("fragmentAsQuery")){if(1===t.fragmentHandling)return"fragmentHandling: multiple values";if(t.fragmentHandling=1,"boolean"!=typeof e.fragmentAsQuery)return"fragmentAsQuery: boolean expected"}if(null!=e.fragmentAsAnchor&&e.hasOwnProperty("fragmentAsAnchor")){if(1===t.fragmentHandling)return"fragmentHandling: multiple values";if(t.fragmentHandling=1,"boolean"!=typeof e.fragmentAsAnchor)return"fragmentAsAnchor: boolean expected"}if(null!=e.tokenFilters&&e.hasOwnProperty("tokenFilters")){if(!Array.isArray(e.tokenFilters))return"tokenFilters: array expected";for(let t=0;t<e.tokenFilters.length;++t){let n=g.nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter.verify(e.tokenFilters[t]);if(n)return"tokenFilters."+n}}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfig)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfig;if(e.hosts){if(!Array.isArray(e.hosts))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfig.hosts: array expected");t.hosts=[];for(let n=0;n<e.hosts.length;++n)t.hosts[n]=String(e.hosts[n])}if(null!=e.pathDepth&&(t.pathDepth=e.pathDepth>>>0),null!=e.pathLength&&(t.pathLength=e.pathLength>>>0),null!=e.anchorLength&&(t.anchorLength=e.anchorLength>>>0),e.captureParams){if(!Array.isArray(e.captureParams))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfig.captureParams: array expected");t.captureParams=[];for(let n=0;n<e.captureParams.length;++n)t.captureParams[n]=String(e.captureParams[n])}if(null!=e.fragmentAsPath&&(t.fragmentAsPath=Boolean(e.fragmentAsPath)),null!=e.fragmentAsQuery&&(t.fragmentAsQuery=Boolean(e.fragmentAsQuery)),null!=e.fragmentAsAnchor&&(t.fragmentAsAnchor=Boolean(e.fragmentAsAnchor)),e.tokenFilters){if(!Array.isArray(e.tokenFilters))throw TypeError(".nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfig.tokenFilters: array expected");t.tokenFilters=[];for(let n=0;n<e.tokenFilters.length;++n){if("object"!=typeof e.tokenFilters[n])throw TypeError(".nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfig.tokenFilters: object expected");t.tokenFilters[n]=g.nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter.fromObject(e.tokenFilters[n])}}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.hosts=[],n.captureParams=[],n.tokenFilters=[]),t.defaults&&(n.pathDepth=0,n.pathLength=0,n.anchorLength=0),e.hosts&&e.hosts.length){n.hosts=[];for(let t=0;t<e.hosts.length;++t)n.hosts[t]=e.hosts[t]}if(null!=e.pathDepth&&e.hasOwnProperty("pathDepth")&&(n.pathDepth=e.pathDepth),null!=e.pathLength&&e.hasOwnProperty("pathLength")&&(n.pathLength=e.pathLength),null!=e.anchorLength&&e.hasOwnProperty("anchorLength")&&(n.anchorLength=e.anchorLength),e.captureParams&&e.captureParams.length){n.captureParams=[];for(let t=0;t<e.captureParams.length;++t)n.captureParams[t]=e.captureParams[t]}if(null!=e.fragmentAsPath&&e.hasOwnProperty("fragmentAsPath")&&(n.fragmentAsPath=e.fragmentAsPath,t.oneofs&&(n.fragmentHandling="fragmentAsPath")),null!=e.fragmentAsQuery&&e.hasOwnProperty("fragmentAsQuery")&&(n.fragmentAsQuery=e.fragmentAsQuery,t.oneofs&&(n.fragmentHandling="fragmentAsQuery")),null!=e.fragmentAsAnchor&&e.hasOwnProperty("fragmentAsAnchor")&&(n.fragmentAsAnchor=e.fragmentAsAnchor,t.oneofs&&(n.fragmentHandling="fragmentAsAnchor")),e.tokenFilters&&e.tokenFilters.length){n.tokenFilters=[];for(let r=0;r<e.tokenFilters.length;++r)n.tokenFilters[r]=g.nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter.toObject(e.tokenFilters[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.UrlSanitizerConfig"},e}(),e.UrlTokenFilter=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.regex="",e.prototype.subst="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.regex&&Object.hasOwnProperty.call(e,"regex")&&t.uint32(10).string(e.regex),null!=e.subst&&Object.hasOwnProperty.call(e,"subst")&&t.uint32(18).string(e.subst),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.regex=e.string();break;case 2:r.subst=e.string();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.regex&&e.hasOwnProperty("regex")&&!f.isString(e.regex)?"regex: string expected":null!=e.subst&&e.hasOwnProperty("subst")&&!f.isString(e.subst)?"subst: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter;return null!=e.regex&&(t.regex=String(e.regex)),null!=e.subst&&(t.subst=String(e.subst)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.regex="",n.subst=""),null!=e.regex&&e.hasOwnProperty("regex")&&(n.regex=e.regex),null!=e.subst&&e.hasOwnProperty("subst")&&(n.subst=e.subst),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.UrlTokenFilter"},e}(),e.EnrichedKeepAlive=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.keepAlive=null,e.prototype.timeOfReceipt=null,e.prototype.tenantUuid=null,e.prototype.licenseUuid=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.keepAlive&&Object.hasOwnProperty.call(e,"keepAlive")&&g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.encode(e.keepAlive,t.uint32(10).fork()).ldelim(),null!=e.timeOfReceipt&&Object.hasOwnProperty.call(e,"timeOfReceipt")&&g.google.protobuf.Timestamp.encode(e.timeOfReceipt,t.uint32(18).fork()).ldelim(),null!=e.tenantUuid&&Object.hasOwnProperty.call(e,"tenantUuid")&&g.nexthink.protobuf.standard.data_platform.v1.UUID.encode(e.tenantUuid,t.uint32(26).fork()).ldelim(),null!=e.licenseUuid&&Object.hasOwnProperty.call(e,"licenseUuid")&&g.nexthink.protobuf.standard.data_platform.v1.UUID.encode(e.licenseUuid,t.uint32(34).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.EnrichedKeepAlive;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.keepAlive=g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.decode(e,e.uint32());break;case 2:r.timeOfReceipt=g.google.protobuf.Timestamp.decode(e,e.uint32());break;case 3:r.tenantUuid=g.nexthink.protobuf.standard.data_platform.v1.UUID.decode(e,e.uint32());break;case 4:r.licenseUuid=g.nexthink.protobuf.standard.data_platform.v1.UUID.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.keepAlive&&e.hasOwnProperty("keepAlive")){let t=g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.verify(e.keepAlive);if(t)return"keepAlive."+t}if(null!=e.timeOfReceipt&&e.hasOwnProperty("timeOfReceipt")){let t=g.google.protobuf.Timestamp.verify(e.timeOfReceipt);if(t)return"timeOfReceipt."+t}if(null!=e.tenantUuid&&e.hasOwnProperty("tenantUuid")){let t=g.nexthink.protobuf.standard.data_platform.v1.UUID.verify(e.tenantUuid);if(t)return"tenantUuid."+t}if(null!=e.licenseUuid&&e.hasOwnProperty("licenseUuid")){let t=g.nexthink.protobuf.standard.data_platform.v1.UUID.verify(e.licenseUuid);if(t)return"licenseUuid."+t}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.EnrichedKeepAlive)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.EnrichedKeepAlive;if(null!=e.keepAlive){if("object"!=typeof e.keepAlive)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.EnrichedKeepAlive.keepAlive: object expected");t.keepAlive=g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.fromObject(e.keepAlive)}if(null!=e.timeOfReceipt){if("object"!=typeof e.timeOfReceipt)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.EnrichedKeepAlive.timeOfReceipt: object expected");t.timeOfReceipt=g.google.protobuf.Timestamp.fromObject(e.timeOfReceipt)}if(null!=e.tenantUuid){if("object"!=typeof e.tenantUuid)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.EnrichedKeepAlive.tenantUuid: object expected");t.tenantUuid=g.nexthink.protobuf.standard.data_platform.v1.UUID.fromObject(e.tenantUuid)}if(null!=e.licenseUuid){if("object"!=typeof e.licenseUuid)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.EnrichedKeepAlive.licenseUuid: object expected");t.licenseUuid=g.nexthink.protobuf.standard.data_platform.v1.UUID.fromObject(e.licenseUuid)}return t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.keepAlive=null,n.timeOfReceipt=null,n.tenantUuid=null,n.licenseUuid=null),null!=e.keepAlive&&e.hasOwnProperty("keepAlive")&&(n.keepAlive=g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.toObject(e.keepAlive,t)),null!=e.timeOfReceipt&&e.hasOwnProperty("timeOfReceipt")&&(n.timeOfReceipt=g.google.protobuf.Timestamp.toObject(e.timeOfReceipt,t)),null!=e.tenantUuid&&e.hasOwnProperty("tenantUuid")&&(n.tenantUuid=g.nexthink.protobuf.standard.data_platform.v1.UUID.toObject(e.tenantUuid,t)),null!=e.licenseUuid&&e.hasOwnProperty("licenseUuid")&&(n.licenseUuid=g.nexthink.protobuf.standard.data_platform.v1.UUID.toObject(e.licenseUuid,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.EnrichedKeepAlive"},e}(),e.LastChangedExtensionState=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tenantUid="",e.prototype.licenseId="",e.prototype.keepAlive=null,e.prototype.connected=!1,e.prototype.lastChangeTimestampMs=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.tenantUid&&Object.hasOwnProperty.call(e,"tenantUid")&&t.uint32(10).string(e.tenantUid),null!=e.licenseId&&Object.hasOwnProperty.call(e,"licenseId")&&t.uint32(18).string(e.licenseId),null!=e.keepAlive&&Object.hasOwnProperty.call(e,"keepAlive")&&g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.encode(e.keepAlive,t.uint32(26).fork()).ldelim(),null!=e.connected&&Object.hasOwnProperty.call(e,"connected")&&t.uint32(32).bool(e.connected),null!=e.lastChangeTimestampMs&&Object.hasOwnProperty.call(e,"lastChangeTimestampMs")&&t.uint32(41).double(e.lastChangeTimestampMs),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.LastChangedExtensionState;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.tenantUid=e.string();break;case 2:r.licenseId=e.string();break;case 3:r.keepAlive=g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.decode(e,e.uint32());break;case 4:r.connected=e.bool();break;case 5:r.lastChangeTimestampMs=e.double();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tenantUid&&e.hasOwnProperty("tenantUid")&&!f.isString(e.tenantUid))return"tenantUid: string expected";if(null!=e.licenseId&&e.hasOwnProperty("licenseId")&&!f.isString(e.licenseId))return"licenseId: string expected";if(null!=e.keepAlive&&e.hasOwnProperty("keepAlive")){let t=g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.verify(e.keepAlive);if(t)return"keepAlive."+t}return null!=e.connected&&e.hasOwnProperty("connected")&&"boolean"!=typeof e.connected?"connected: boolean expected":null!=e.lastChangeTimestampMs&&e.hasOwnProperty("lastChangeTimestampMs")&&"number"!=typeof e.lastChangeTimestampMs?"lastChangeTimestampMs: number expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.LastChangedExtensionState)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.LastChangedExtensionState;if(null!=e.tenantUid&&(t.tenantUid=String(e.tenantUid)),null!=e.licenseId&&(t.licenseId=String(e.licenseId)),null!=e.keepAlive){if("object"!=typeof e.keepAlive)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.LastChangedExtensionState.keepAlive: object expected");t.keepAlive=g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.fromObject(e.keepAlive)}return null!=e.connected&&(t.connected=Boolean(e.connected)),null!=e.lastChangeTimestampMs&&(t.lastChangeTimestampMs=Number(e.lastChangeTimestampMs)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.tenantUid="",n.licenseId="",n.keepAlive=null,n.connected=!1,n.lastChangeTimestampMs=0),null!=e.tenantUid&&e.hasOwnProperty("tenantUid")&&(n.tenantUid=e.tenantUid),null!=e.licenseId&&e.hasOwnProperty("licenseId")&&(n.licenseId=e.licenseId),null!=e.keepAlive&&e.hasOwnProperty("keepAlive")&&(n.keepAlive=g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.toObject(e.keepAlive,t)),null!=e.connected&&e.hasOwnProperty("connected")&&(n.connected=e.connected),null!=e.lastChangeTimestampMs&&e.hasOwnProperty("lastChangeTimestampMs")&&(n.lastChangeTimestampMs=t.json&&!isFinite(e.lastChangeTimestampMs)?String(e.lastChangeTimestampMs):e.lastChangeTimestampMs),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.LastChangedExtensionState"},e}(),e.LastObservedExtensionState=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tenantUid="",e.prototype.licenseId="",e.prototype.keepAlive=null,e.prototype.connected=!1,e.prototype.lastObservedTimestampMs=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.tenantUid&&Object.hasOwnProperty.call(e,"tenantUid")&&t.uint32(10).string(e.tenantUid),null!=e.licenseId&&Object.hasOwnProperty.call(e,"licenseId")&&t.uint32(18).string(e.licenseId),null!=e.keepAlive&&Object.hasOwnProperty.call(e,"keepAlive")&&g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.encode(e.keepAlive,t.uint32(26).fork()).ldelim(),null!=e.connected&&Object.hasOwnProperty.call(e,"connected")&&t.uint32(32).bool(e.connected),null!=e.lastObservedTimestampMs&&Object.hasOwnProperty.call(e,"lastObservedTimestampMs")&&t.uint32(41).double(e.lastObservedTimestampMs),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.LastObservedExtensionState;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.tenantUid=e.string();break;case 2:r.licenseId=e.string();break;case 3:r.keepAlive=g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.decode(e,e.uint32());break;case 4:r.connected=e.bool();break;case 5:r.lastObservedTimestampMs=e.double();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tenantUid&&e.hasOwnProperty("tenantUid")&&!f.isString(e.tenantUid))return"tenantUid: string expected";if(null!=e.licenseId&&e.hasOwnProperty("licenseId")&&!f.isString(e.licenseId))return"licenseId: string expected";if(null!=e.keepAlive&&e.hasOwnProperty("keepAlive")){let t=g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.verify(e.keepAlive);if(t)return"keepAlive."+t}return null!=e.connected&&e.hasOwnProperty("connected")&&"boolean"!=typeof e.connected?"connected: boolean expected":null!=e.lastObservedTimestampMs&&e.hasOwnProperty("lastObservedTimestampMs")&&"number"!=typeof e.lastObservedTimestampMs?"lastObservedTimestampMs: number expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.LastObservedExtensionState)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.LastObservedExtensionState;if(null!=e.tenantUid&&(t.tenantUid=String(e.tenantUid)),null!=e.licenseId&&(t.licenseId=String(e.licenseId)),null!=e.keepAlive){if("object"!=typeof e.keepAlive)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.LastObservedExtensionState.keepAlive: object expected");t.keepAlive=g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.fromObject(e.keepAlive)}return null!=e.connected&&(t.connected=Boolean(e.connected)),null!=e.lastObservedTimestampMs&&(t.lastObservedTimestampMs=Number(e.lastObservedTimestampMs)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.tenantUid="",n.licenseId="",n.keepAlive=null,n.connected=!1,n.lastObservedTimestampMs=0),null!=e.tenantUid&&e.hasOwnProperty("tenantUid")&&(n.tenantUid=e.tenantUid),null!=e.licenseId&&e.hasOwnProperty("licenseId")&&(n.licenseId=e.licenseId),null!=e.keepAlive&&e.hasOwnProperty("keepAlive")&&(n.keepAlive=g.nexthink.protobuf.appex.extension.config.v1.KeepAlive.toObject(e.keepAlive,t)),null!=e.connected&&e.hasOwnProperty("connected")&&(n.connected=e.connected),null!=e.lastObservedTimestampMs&&e.hasOwnProperty("lastObservedTimestampMs")&&(n.lastObservedTimestampMs=t.json&&!isFinite(e.lastObservedTimestampMs)?String(e.lastObservedTimestampMs):e.lastObservedTimestampMs),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.LastObservedExtensionState"},e}(),e.ExtensionConfigResponse=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.tenantUid="",e.prototype.licenseId="",e.prototype.extensionInstanceId="",e.prototype.sessionId="",e.prototype.config=null,e.prototype.lastExtensionStateChangeTimestampMs=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.tenantUid&&Object.hasOwnProperty.call(e,"tenantUid")&&t.uint32(10).string(e.tenantUid),null!=e.licenseId&&Object.hasOwnProperty.call(e,"licenseId")&&t.uint32(18).string(e.licenseId),null!=e.extensionInstanceId&&Object.hasOwnProperty.call(e,"extensionInstanceId")&&t.uint32(26).string(e.extensionInstanceId),null!=e.sessionId&&Object.hasOwnProperty.call(e,"sessionId")&&t.uint32(34).string(e.sessionId),null!=e.config&&Object.hasOwnProperty.call(e,"config")&&g.nexthink.protobuf.appex.extension.config.v1.Config.encode(e.config,t.uint32(42).fork()).ldelim(),null!=e.lastExtensionStateChangeTimestampMs&&Object.hasOwnProperty.call(e,"lastExtensionStateChangeTimestampMs")&&t.uint32(49).double(e.lastExtensionStateChangeTimestampMs),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.ExtensionConfigResponse;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.tenantUid=e.string();break;case 2:r.licenseId=e.string();break;case 3:r.extensionInstanceId=e.string();break;case 4:r.sessionId=e.string();break;case 5:r.config=g.nexthink.protobuf.appex.extension.config.v1.Config.decode(e,e.uint32());break;case 6:r.lastExtensionStateChangeTimestampMs=e.double();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.tenantUid&&e.hasOwnProperty("tenantUid")&&!f.isString(e.tenantUid))return"tenantUid: string expected";if(null!=e.licenseId&&e.hasOwnProperty("licenseId")&&!f.isString(e.licenseId))return"licenseId: string expected";if(null!=e.extensionInstanceId&&e.hasOwnProperty("extensionInstanceId")&&!f.isString(e.extensionInstanceId))return"extensionInstanceId: string expected";if(null!=e.sessionId&&e.hasOwnProperty("sessionId")&&!f.isString(e.sessionId))return"sessionId: string expected";if(null!=e.config&&e.hasOwnProperty("config")){let t=g.nexthink.protobuf.appex.extension.config.v1.Config.verify(e.config);if(t)return"config."+t}return null!=e.lastExtensionStateChangeTimestampMs&&e.hasOwnProperty("lastExtensionStateChangeTimestampMs")&&"number"!=typeof e.lastExtensionStateChangeTimestampMs?"lastExtensionStateChangeTimestampMs: number expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.ExtensionConfigResponse)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.ExtensionConfigResponse;if(null!=e.tenantUid&&(t.tenantUid=String(e.tenantUid)),null!=e.licenseId&&(t.licenseId=String(e.licenseId)),null!=e.extensionInstanceId&&(t.extensionInstanceId=String(e.extensionInstanceId)),null!=e.sessionId&&(t.sessionId=String(e.sessionId)),null!=e.config){if("object"!=typeof e.config)throw TypeError(".nexthink.protobuf.appex.extension.config.v1.ExtensionConfigResponse.config: object expected");t.config=g.nexthink.protobuf.appex.extension.config.v1.Config.fromObject(e.config)}return null!=e.lastExtensionStateChangeTimestampMs&&(t.lastExtensionStateChangeTimestampMs=Number(e.lastExtensionStateChangeTimestampMs)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.tenantUid="",n.licenseId="",n.extensionInstanceId="",n.sessionId="",n.config=null,n.lastExtensionStateChangeTimestampMs=0),null!=e.tenantUid&&e.hasOwnProperty("tenantUid")&&(n.tenantUid=e.tenantUid),null!=e.licenseId&&e.hasOwnProperty("licenseId")&&(n.licenseId=e.licenseId),null!=e.extensionInstanceId&&e.hasOwnProperty("extensionInstanceId")&&(n.extensionInstanceId=e.extensionInstanceId),null!=e.sessionId&&e.hasOwnProperty("sessionId")&&(n.sessionId=e.sessionId),null!=e.config&&e.hasOwnProperty("config")&&(n.config=g.nexthink.protobuf.appex.extension.config.v1.Config.toObject(e.config,t)),null!=e.lastExtensionStateChangeTimestampMs&&e.hasOwnProperty("lastExtensionStateChangeTimestampMs")&&(n.lastExtensionStateChangeTimestampMs=t.json&&!isFinite(e.lastExtensionStateChangeTimestampMs)?String(e.lastExtensionStateChangeTimestampMs):e.lastExtensionStateChangeTimestampMs),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.ExtensionConfigResponse"},e}(),e.Feature=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.enabled=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.enabled&&Object.hasOwnProperty.call(e,"enabled")&&t.uint32(8).bool(e.enabled),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.Feature;for(;e.pos<n;){let t=e.uint32();t>>>3==1?r.enabled=e.bool():e.skipType(7&t)}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.enabled&&e.hasOwnProperty("enabled")&&"boolean"!=typeof e.enabled?"enabled: boolean expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.Feature)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.Feature;return null!=e.enabled&&(t.enabled=Boolean(e.enabled)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.enabled=!1),null!=e.enabled&&e.hasOwnProperty("enabled")&&(n.enabled=e.enabled),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.Feature"},e}(),e.KeepAlive=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.extensionVersion="",e.prototype.browserFamily="",e.prototype.browserVersion="",e.prototype.configRevision="",e.prototype.extensionInstanceId="",e.prototype.sessionId="",e.prototype.collectorVersion="",e.prototype.protocolVersion="",e.prototype.keepAliveFrequencySeconds=0,e.prototype.sequenceNumber=f.Long?f.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.extensionVersion&&Object.hasOwnProperty.call(e,"extensionVersion")&&t.uint32(10).string(e.extensionVersion),null!=e.browserFamily&&Object.hasOwnProperty.call(e,"browserFamily")&&t.uint32(18).string(e.browserFamily),null!=e.browserVersion&&Object.hasOwnProperty.call(e,"browserVersion")&&t.uint32(26).string(e.browserVersion),null!=e.configRevision&&Object.hasOwnProperty.call(e,"configRevision")&&t.uint32(34).string(e.configRevision),null!=e.extensionInstanceId&&Object.hasOwnProperty.call(e,"extensionInstanceId")&&t.uint32(42).string(e.extensionInstanceId),null!=e.sessionId&&Object.hasOwnProperty.call(e,"sessionId")&&t.uint32(50).string(e.sessionId),null!=e.collectorVersion&&Object.hasOwnProperty.call(e,"collectorVersion")&&t.uint32(58).string(e.collectorVersion),null!=e.protocolVersion&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(66).string(e.protocolVersion),null!=e.keepAliveFrequencySeconds&&Object.hasOwnProperty.call(e,"keepAliveFrequencySeconds")&&t.uint32(72).uint32(e.keepAliveFrequencySeconds),null!=e.sequenceNumber&&Object.hasOwnProperty.call(e,"sequenceNumber")&&t.uint32(80).uint64(e.sequenceNumber),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.extension.config.v1.KeepAlive;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.extensionVersion=e.string();break;case 2:r.browserFamily=e.string();break;case 3:r.browserVersion=e.string();break;case 4:r.configRevision=e.string();break;case 5:r.extensionInstanceId=e.string();break;case 6:r.sessionId=e.string();break;case 7:r.collectorVersion=e.string();break;case 8:r.protocolVersion=e.string();break;case 9:r.keepAliveFrequencySeconds=e.uint32();break;case 10:r.sequenceNumber=e.uint64();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.extensionVersion&&e.hasOwnProperty("extensionVersion")&&!f.isString(e.extensionVersion)?"extensionVersion: string expected":null!=e.browserFamily&&e.hasOwnProperty("browserFamily")&&!f.isString(e.browserFamily)?"browserFamily: string expected":null!=e.browserVersion&&e.hasOwnProperty("browserVersion")&&!f.isString(e.browserVersion)?"browserVersion: string expected":null!=e.configRevision&&e.hasOwnProperty("configRevision")&&!f.isString(e.configRevision)?"configRevision: string expected":null!=e.extensionInstanceId&&e.hasOwnProperty("extensionInstanceId")&&!f.isString(e.extensionInstanceId)?"extensionInstanceId: string expected":null!=e.sessionId&&e.hasOwnProperty("sessionId")&&!f.isString(e.sessionId)?"sessionId: string expected":null!=e.collectorVersion&&e.hasOwnProperty("collectorVersion")&&!f.isString(e.collectorVersion)?"collectorVersion: string expected":null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&!f.isString(e.protocolVersion)?"protocolVersion: string expected":null!=e.keepAliveFrequencySeconds&&e.hasOwnProperty("keepAliveFrequencySeconds")&&!f.isInteger(e.keepAliveFrequencySeconds)?"keepAliveFrequencySeconds: integer expected":null!=e.sequenceNumber&&e.hasOwnProperty("sequenceNumber")&&!(f.isInteger(e.sequenceNumber)||e.sequenceNumber&&f.isInteger(e.sequenceNumber.low)&&f.isInteger(e.sequenceNumber.high))?"sequenceNumber: integer|Long expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.extension.config.v1.KeepAlive)return e;let t=new g.nexthink.protobuf.appex.extension.config.v1.KeepAlive;return null!=e.extensionVersion&&(t.extensionVersion=String(e.extensionVersion)),null!=e.browserFamily&&(t.browserFamily=String(e.browserFamily)),null!=e.browserVersion&&(t.browserVersion=String(e.browserVersion)),null!=e.configRevision&&(t.configRevision=String(e.configRevision)),null!=e.extensionInstanceId&&(t.extensionInstanceId=String(e.extensionInstanceId)),null!=e.sessionId&&(t.sessionId=String(e.sessionId)),null!=e.collectorVersion&&(t.collectorVersion=String(e.collectorVersion)),null!=e.protocolVersion&&(t.protocolVersion=String(e.protocolVersion)),null!=e.keepAliveFrequencySeconds&&(t.keepAliveFrequencySeconds=e.keepAliveFrequencySeconds>>>0),null!=e.sequenceNumber&&(f.Long?(t.sequenceNumber=f.Long.fromValue(e.sequenceNumber)).unsigned=!0:"string"==typeof e.sequenceNumber?t.sequenceNumber=parseInt(e.sequenceNumber,10):"number"==typeof e.sequenceNumber?t.sequenceNumber=e.sequenceNumber:"object"==typeof e.sequenceNumber&&(t.sequenceNumber=new f.LongBits(e.sequenceNumber.low>>>0,e.sequenceNumber.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let n={};if(t.defaults)if(n.extensionVersion="",n.browserFamily="",n.browserVersion="",n.configRevision="",n.extensionInstanceId="",n.sessionId="",n.collectorVersion="",n.protocolVersion="",n.keepAliveFrequencySeconds=0,f.Long){let e=new f.Long(0,0,!0);n.sequenceNumber=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.sequenceNumber=t.longs===String?"0":0;return null!=e.extensionVersion&&e.hasOwnProperty("extensionVersion")&&(n.extensionVersion=e.extensionVersion),null!=e.browserFamily&&e.hasOwnProperty("browserFamily")&&(n.browserFamily=e.browserFamily),null!=e.browserVersion&&e.hasOwnProperty("browserVersion")&&(n.browserVersion=e.browserVersion),null!=e.configRevision&&e.hasOwnProperty("configRevision")&&(n.configRevision=e.configRevision),null!=e.extensionInstanceId&&e.hasOwnProperty("extensionInstanceId")&&(n.extensionInstanceId=e.extensionInstanceId),null!=e.sessionId&&e.hasOwnProperty("sessionId")&&(n.sessionId=e.sessionId),null!=e.collectorVersion&&e.hasOwnProperty("collectorVersion")&&(n.collectorVersion=e.collectorVersion),null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&(n.protocolVersion=e.protocolVersion),null!=e.keepAliveFrequencySeconds&&e.hasOwnProperty("keepAliveFrequencySeconds")&&(n.keepAliveFrequencySeconds=e.keepAliveFrequencySeconds),null!=e.sequenceNumber&&e.hasOwnProperty("sequenceNumber")&&("number"==typeof e.sequenceNumber?n.sequenceNumber=t.longs===String?String(e.sequenceNumber):e.sequenceNumber:n.sequenceNumber=t.longs===String?f.Long.prototype.toString.call(e.sequenceNumber):t.longs===Number?new f.LongBits(e.sequenceNumber.low>>>0,e.sequenceNumber.high>>>0).toNumber(!0):e.sequenceNumber),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.extension.config.v1.KeepAlive"},e}(),e}(),e}(),e}(),e.desktop=function(){const e={};return e.config=function(){const e={};return e.v1=function(){const e={};return e.DesktopAppConfig=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.appId="",e.prototype.name="",e.prototype.isDeviceCentric=!1,e.prototype.appConfigDefinition=null,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.appId&&Object.hasOwnProperty.call(e,"appId")&&t.uint32(10).string(e.appId),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(18).string(e.name),null!=e.isDeviceCentric&&Object.hasOwnProperty.call(e,"isDeviceCentric")&&t.uint32(24).bool(e.isDeviceCentric),null!=e.appConfigDefinition&&Object.hasOwnProperty.call(e,"appConfigDefinition")&&g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfigDefinition.encode(e.appConfigDefinition,t.uint32(82).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfig;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.appId=e.string();break;case 2:r.name=e.string();break;case 3:r.isDeviceCentric=e.bool();break;case 10:r.appConfigDefinition=g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfigDefinition.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.appId&&e.hasOwnProperty("appId")&&!f.isString(e.appId))return"appId: string expected";if(null!=e.name&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(null!=e.isDeviceCentric&&e.hasOwnProperty("isDeviceCentric")&&"boolean"!=typeof e.isDeviceCentric)return"isDeviceCentric: boolean expected";if(null!=e.appConfigDefinition&&e.hasOwnProperty("appConfigDefinition")){let t=g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfigDefinition.verify(e.appConfigDefinition);if(t)return"appConfigDefinition."+t}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfig)return e;let t=new g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfig;if(null!=e.appId&&(t.appId=String(e.appId)),null!=e.name&&(t.name=String(e.name)),null!=e.isDeviceCentric&&(t.isDeviceCentric=Boolean(e.isDeviceCentric)),null!=e.appConfigDefinition){if("object"!=typeof e.appConfigDefinition)throw TypeError(".nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfig.appConfigDefinition: object expected");t.appConfigDefinition=g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfigDefinition.fromObject(e.appConfigDefinition)}return t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.appId="",n.name="",n.isDeviceCentric=!1,n.appConfigDefinition=null),null!=e.appId&&e.hasOwnProperty("appId")&&(n.appId=e.appId),null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.isDeviceCentric&&e.hasOwnProperty("isDeviceCentric")&&(n.isDeviceCentric=e.isDeviceCentric),null!=e.appConfigDefinition&&e.hasOwnProperty("appConfigDefinition")&&(n.appConfigDefinition=g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfigDefinition.toObject(e.appConfigDefinition,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfig"},e}(),e.DesktopAppConfigDefinition=function(){function e(e){if(this.exactMatchBinaryNamesIgnoreCase=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.exactMatchBinaryNamesIgnoreCase=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.exactMatchBinaryNamesIgnoreCase&&e.exactMatchBinaryNamesIgnoreCase.length)for(let n=0;n<e.exactMatchBinaryNamesIgnoreCase.length;++n)t.uint32(10).string(e.exactMatchBinaryNamesIgnoreCase[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfigDefinition;for(;e.pos<n;){let t=e.uint32();t>>>3==1?(r.exactMatchBinaryNamesIgnoreCase&&r.exactMatchBinaryNamesIgnoreCase.length||(r.exactMatchBinaryNamesIgnoreCase=[]),r.exactMatchBinaryNamesIgnoreCase.push(e.string())):e.skipType(7&t)}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.exactMatchBinaryNamesIgnoreCase&&e.hasOwnProperty("exactMatchBinaryNamesIgnoreCase")){if(!Array.isArray(e.exactMatchBinaryNamesIgnoreCase))return"exactMatchBinaryNamesIgnoreCase: array expected";for(let t=0;t<e.exactMatchBinaryNamesIgnoreCase.length;++t)if(!f.isString(e.exactMatchBinaryNamesIgnoreCase[t]))return"exactMatchBinaryNamesIgnoreCase: string[] expected"}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfigDefinition)return e;let t=new g.nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfigDefinition;if(e.exactMatchBinaryNamesIgnoreCase){if(!Array.isArray(e.exactMatchBinaryNamesIgnoreCase))throw TypeError(".nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfigDefinition.exactMatchBinaryNamesIgnoreCase: array expected");t.exactMatchBinaryNamesIgnoreCase=[];for(let n=0;n<e.exactMatchBinaryNamesIgnoreCase.length;++n)t.exactMatchBinaryNamesIgnoreCase[n]=String(e.exactMatchBinaryNamesIgnoreCase[n])}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.exactMatchBinaryNamesIgnoreCase=[]),e.exactMatchBinaryNamesIgnoreCase&&e.exactMatchBinaryNamesIgnoreCase.length){n.exactMatchBinaryNamesIgnoreCase=[];for(let t=0;t<e.exactMatchBinaryNamesIgnoreCase.length;++t)n.exactMatchBinaryNamesIgnoreCase[t]=e.exactMatchBinaryNamesIgnoreCase[t]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.appex.desktop.config.v1.DesktopAppConfigDefinition"},e}(),e}(),e}(),e}(),e}(),e.standard=function(){const e={};return e.data_platform=function(){const e={};return e.v1=function(){const e={};return e.IPAddress=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.v4=null,e.prototype.v6=null,Object.defineProperty(e.prototype,"type",{get:f.oneOfGetter(t=["v4","v6"]),set:f.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.v4&&Object.hasOwnProperty.call(e,"v4")&&t.uint32(13).fixed32(e.v4),null!=e.v6&&Object.hasOwnProperty.call(e,"v6")&&t.uint32(18).bytes(e.v6),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.standard.data_platform.v1.IPAddress;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.v4=e.fixed32();break;case 2:r.v6=e.bytes();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};if(null!=e.v4&&e.hasOwnProperty("v4")&&(t.type=1,!f.isInteger(e.v4)))return"v4: integer expected";if(null!=e.v6&&e.hasOwnProperty("v6")){if(1===t.type)return"type: multiple values";if(t.type=1,!(e.v6&&"number"==typeof e.v6.length||f.isString(e.v6)))return"v6: buffer expected"}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.standard.data_platform.v1.IPAddress)return e;let t=new g.nexthink.protobuf.standard.data_platform.v1.IPAddress;return null!=e.v4&&(t.v4=e.v4>>>0),null!=e.v6&&("string"==typeof e.v6?f.base64.decode(e.v6,t.v6=f.newBuffer(f.base64.length(e.v6)),0):e.v6.length>=0&&(t.v6=e.v6)),t},e.toObject=function(e,t){t||(t={});let n={};return null!=e.v4&&e.hasOwnProperty("v4")&&(n.v4=e.v4,t.oneofs&&(n.type="v4")),null!=e.v6&&e.hasOwnProperty("v6")&&(n.v6=t.bytes===String?f.base64.encode(e.v6,0,e.v6.length):t.bytes===Array?Array.prototype.slice.call(e.v6):e.v6,t.oneofs&&(n.type="v6")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.standard.data_platform.v1.IPAddress"},e}(),e.VersionType=function(){function e(e){if(this.version=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.version=f.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=p.create()),null!=e.version&&e.version.length){t.uint32(10).fork();for(let n=0;n<e.version.length;++n)t.uint32(e.version[n]);t.ldelim()}return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.standard.data_platform.v1.VersionType;for(;e.pos<n;){let t=e.uint32();if(t>>>3==1)if(r.version&&r.version.length||(r.version=[]),2==(7&t)){let t=e.uint32()+e.pos;for(;e.pos<t;)r.version.push(e.uint32())}else r.version.push(e.uint32());else e.skipType(7&t)}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";if(null!=e.version&&e.hasOwnProperty("version")){if(!Array.isArray(e.version))return"version: array expected";for(let t=0;t<e.version.length;++t)if(!f.isInteger(e.version[t]))return"version: integer[] expected"}return null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.standard.data_platform.v1.VersionType)return e;let t=new g.nexthink.protobuf.standard.data_platform.v1.VersionType;if(e.version){if(!Array.isArray(e.version))throw TypeError(".nexthink.protobuf.standard.data_platform.v1.VersionType.version: array expected");t.version=[];for(let n=0;n<e.version.length;++n)t.version[n]=e.version[n]>>>0}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.version=[]),e.version&&e.version.length){n.version=[];for(let t=0;t<e.version.length;++t)n.version[t]=e.version[t]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.standard.data_platform.v1.VersionType"},e}(),e.MACAddress=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.address=f.Long?f.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.address&&Object.hasOwnProperty.call(e,"address")&&t.uint32(8).uint64(e.address),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.standard.data_platform.v1.MACAddress;for(;e.pos<n;){let t=e.uint32();t>>>3==1?r.address=e.uint64():e.skipType(7&t)}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.address&&e.hasOwnProperty("address")&&!(f.isInteger(e.address)||e.address&&f.isInteger(e.address.low)&&f.isInteger(e.address.high))?"address: integer|Long expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.standard.data_platform.v1.MACAddress)return e;let t=new g.nexthink.protobuf.standard.data_platform.v1.MACAddress;return null!=e.address&&(f.Long?(t.address=f.Long.fromValue(e.address)).unsigned=!0:"string"==typeof e.address?t.address=parseInt(e.address,10):"number"==typeof e.address?t.address=e.address:"object"==typeof e.address&&(t.address=new f.LongBits(e.address.low>>>0,e.address.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let n={};if(t.defaults)if(f.Long){let e=new f.Long(0,0,!0);n.address=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.address=t.longs===String?"0":0;return null!=e.address&&e.hasOwnProperty("address")&&("number"==typeof e.address?n.address=t.longs===String?String(e.address):e.address:n.address=t.longs===String?f.Long.prototype.toString.call(e.address):t.longs===Number?new f.LongBits(e.address.low>>>0,e.address.high>>>0).toNumber(!0):e.address),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.standard.data_platform.v1.MACAddress"},e}(),e.UUID=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.value="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(10).string(e.value),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.nexthink.protobuf.standard.data_platform.v1.UUID;for(;e.pos<n;){let t=e.uint32();t>>>3==1?r.value=e.string():e.skipType(7&t)}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.value&&e.hasOwnProperty("value")&&!f.isString(e.value)?"value: string expected":null},e.fromObject=function(e){if(e instanceof g.nexthink.protobuf.standard.data_platform.v1.UUID)return e;let t=new g.nexthink.protobuf.standard.data_platform.v1.UUID;return null!=e.value&&(t.value=String(e.value)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.value=""),null!=e.value&&e.hasOwnProperty("value")&&(n.value=e.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/nexthink.protobuf.standard.data_platform.v1.UUID"},e}(),e}(),e}(),e}(),e}(),e})(),v=(g.google=(()=>{const e={};return e.protobuf=function(){const e={};return e.Timestamp=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seconds=f.Long?f.Long.fromBits(0,0,!1):0,e.prototype.nanos=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=p.create()),null!=e.seconds&&Object.hasOwnProperty.call(e,"seconds")&&t.uint32(8).int64(e.seconds),null!=e.nanos&&Object.hasOwnProperty.call(e,"nanos")&&t.uint32(16).int32(e.nanos),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof d||(e=d.create(e));let n=void 0===t?e.len:e.pos+t,r=new g.google.protobuf.Timestamp;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.seconds=e.int64();break;case 2:r.nanos=e.int32();break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof d||(e=new d(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.seconds&&e.hasOwnProperty("seconds")&&!(f.isInteger(e.seconds)||e.seconds&&f.isInteger(e.seconds.low)&&f.isInteger(e.seconds.high))?"seconds: integer|Long expected":null!=e.nanos&&e.hasOwnProperty("nanos")&&!f.isInteger(e.nanos)?"nanos: integer expected":null},e.fromObject=function(e){if(e instanceof g.google.protobuf.Timestamp)return e;let t=new g.google.protobuf.Timestamp;return null!=e.seconds&&(f.Long?(t.seconds=f.Long.fromValue(e.seconds)).unsigned=!1:"string"==typeof e.seconds?t.seconds=parseInt(e.seconds,10):"number"==typeof e.seconds?t.seconds=e.seconds:"object"==typeof e.seconds&&(t.seconds=new f.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber())),null!=e.nanos&&(t.nanos=0|e.nanos),t},e.toObject=function(e,t){t||(t={});let n={};if(t.defaults){if(f.Long){let e=new f.Long(0,0,!1);n.seconds=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.seconds=t.longs===String?"0":0;n.nanos=0}return null!=e.seconds&&e.hasOwnProperty("seconds")&&("number"==typeof e.seconds?n.seconds=t.longs===String?String(e.seconds):e.seconds:n.seconds=t.longs===String?f.Long.prototype.toString.call(e.seconds):t.longs===Number?new f.LongBits(e.seconds.low>>>0,e.seconds.high>>>0).toNumber():e.seconds),null!=e.nanos&&e.hasOwnProperty("nanos")&&(n.nanos=e.nanos),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/google.protobuf.Timestamp"},e}(),e}(),e})(),l.Reader),m=l.Writer,b=l.util,y=l.roots.default||(l.roots.default={}),E=y.endpoint_proto=(()=>{const e={};return e.ConfigurationRequest=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=m.create()),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof v||(e=v.create(e));let n=void 0===t?e.len:e.pos+t,r=new y.endpoint_proto.ConfigurationRequest;for(;e.pos<n;){let t=e.uint32();e.skipType(7&t)}return r},e.decodeDelimited=function(e){return e instanceof v||(e=new v(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null},e.fromObject=function(e){return e instanceof y.endpoint_proto.ConfigurationRequest?e:new y.endpoint_proto.ConfigurationRequest},e.toObject=function(){return{}},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/endpoint_proto.ConfigurationRequest"},e}(),e.ConfigurationResponse=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.config="",e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=m.create()),null!=e.config&&Object.hasOwnProperty.call(e,"config")&&t.uint32(10).string(e.config),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof v||(e=v.create(e));let n=void 0===t?e.len:e.pos+t,r=new y.endpoint_proto.ConfigurationResponse;for(;e.pos<n;){let t=e.uint32();t>>>3==1?r.config=e.string():e.skipType(7&t)}return r},e.decodeDelimited=function(e){return e instanceof v||(e=new v(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.config&&e.hasOwnProperty("config")&&!b.isString(e.config)?"config: string expected":null},e.fromObject=function(e){if(e instanceof y.endpoint_proto.ConfigurationResponse)return e;let t=new y.endpoint_proto.ConfigurationResponse;return null!=e.config&&(t.config=String(e.config)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.config=""),null!=e.config&&e.hasOwnProperty("config")&&(n.config=e.config),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/endpoint_proto.ConfigurationResponse"},e}(),e.Configuration=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}let t;return e.prototype.request=null,e.prototype.response=null,Object.defineProperty(e.prototype,"one_of",{get:b.oneOfGetter(t=["request","response"]),set:b.oneOfSetter(t)}),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=m.create()),null!=e.request&&Object.hasOwnProperty.call(e,"request")&&y.endpoint_proto.ConfigurationRequest.encode(e.request,t.uint32(10).fork()).ldelim(),null!=e.response&&Object.hasOwnProperty.call(e,"response")&&y.endpoint_proto.ConfigurationResponse.encode(e.response,t.uint32(18).fork()).ldelim(),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t){e instanceof v||(e=v.create(e));let n=void 0===t?e.len:e.pos+t,r=new y.endpoint_proto.Configuration;for(;e.pos<n;){let t=e.uint32();switch(t>>>3){case 1:r.request=y.endpoint_proto.ConfigurationRequest.decode(e,e.uint32());break;case 2:r.response=y.endpoint_proto.ConfigurationResponse.decode(e,e.uint32());break;default:e.skipType(7&t)}}return r},e.decodeDelimited=function(e){return e instanceof v||(e=new v(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!=typeof e||null===e)return"object expected";let t={};if(null!=e.request&&e.hasOwnProperty("request")){t.one_of=1;{let t=y.endpoint_proto.ConfigurationRequest.verify(e.request);if(t)return"request."+t}}if(null!=e.response&&e.hasOwnProperty("response")){if(1===t.one_of)return"one_of: multiple values";t.one_of=1;{let t=y.endpoint_proto.ConfigurationResponse.verify(e.response);if(t)return"response."+t}}return null},e.fromObject=function(e){if(e instanceof y.endpoint_proto.Configuration)return e;let t=new y.endpoint_proto.Configuration;if(null!=e.request){if("object"!=typeof e.request)throw TypeError(".endpoint_proto.Configuration.request: object expected");t.request=y.endpoint_proto.ConfigurationRequest.fromObject(e.request)}if(null!=e.response){if("object"!=typeof e.response)throw TypeError(".endpoint_proto.Configuration.response: object expected");t.response=y.endpoint_proto.ConfigurationResponse.fromObject(e.response)}return t},e.toObject=function(e,t){t||(t={});let n={};return null!=e.request&&e.hasOwnProperty("request")&&(n.request=y.endpoint_proto.ConfigurationRequest.toObject(e.request,t),t.oneofs&&(n.one_of="request")),null!=e.response&&e.hasOwnProperty("response")&&(n.response=y.endpoint_proto.ConfigurationResponse.toObject(e.response,t),t.oneofs&&(n.one_of="response")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/endpoint_proto.Configuration"},e}(),e})();var S;!function(e){let t;!function(e){e.Config=h.protobuf.appex.extension.config.v1}(t=e.Extension||(e.Extension={})),e.Endpoint=E}(S||(S={}));var T,_,x=S.Extension.Config.PerceivedExperienceLevel;!function(e){e.HELLO="hello",e.SESSION_ID="sessionId",e.OPERATIONAL="operational",e.OTHERS="others",e.BEACON_SEQUENCE_NO="number"}(T||(T={})),function(e){e.CONFIG_LOADING_STATUS="CONFIG_LOADING_STATUS",e.EXTENSION_START_ERROR="EXTENSION_START_ERROR"}(_||(_={}));class O{constructor(e,t){this.entryType=e,this.timestamp=t}}class w extends O{constructor(e,t,n,r,o){super(e,t),this.entryType=e,this.timestamp=t,this.extensionTime=n,this.navigationRef=r,this.transactionDetails=o}}const I="NxtHostApp",k="NxtBsm",R="NxtCoordinator",P=(e,t)=>({[T.HELLO]:e,[T.BEACON_SEQUENCE_NO]:t}),C=(e,t,n)=>({[T.SESSION_ID]:n,[T.OPERATIONAL]:e.data,[T.BEACON_SEQUENCE_NO]:t}),N=e=>({[T.OTHERS]:e}),A=["navigation","navigation-error","soft-navigation","request","transaction-complete","feedback","resource","stable-dom","first-interaction"];var D;!function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(D||(D={}));const L=D;var U=function(e,t){return U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},U(e,t)};function M(e,t){function n(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function j(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function B(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(F(arguments[t]));return e}function V(e){return!!e.useClass}function q(e){return!!e.useFactory}var Y=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var t,n=this,r=!1;return new Proxy({},this.createHandler((function(){return r||(t=e(n.wrap()),r=!0),t})))},e.prototype.createHandler=function(e){var t={};return this.reflectMethods.forEach((function(n){t[n]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t[0]=e(),Reflect[n].apply(void 0,B(t))}})),t},e}();function W(e){return"string"==typeof e||"symbol"==typeof e}function G(e){return"object"==typeof e&&"token"in e&&"transform"in e}function J(e){return!!e.useToken}function H(e){return null!=e.useValue}const z=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},e.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},e.prototype.setAll=function(e,t){this._registryMap.set(e,t)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}(),$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t}(z),K=function(){this.scopedResolutions=new Map};var X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t}(z),Q=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t}(z);const Z=function(){this.preResolution=new X,this.postResolution=new Q};var ee=new Map,te=function(){function e(e){this.parent=e,this._registry=new $,this.interceptors=new Z,this.disposed=!1,this.disposables=new Set}return e.prototype.register=function(e,t,n){var r;if(void 0===n&&(n={lifecycle:L.Transient}),this.ensureNotDisposed(),r=function(e){return V(e)||H(e)||J(e)||q(e)}(t)?t:{useClass:t},J(r))for(var o=[e],i=r;null!=i;){var s=i.useToken;if(o.includes(s))throw new Error("Token registration cycle detected! "+B(o,[s]).join(" -> "));o.push(s);var a=this._registry.get(s);i=a&&J(a.provider)?a.provider:null}if((n.lifecycle===L.Singleton||n.lifecycle==L.ContainerScoped||n.lifecycle==L.ResolutionScoped)&&(H(r)||q(r)))throw new Error('Cannot use lifecycle "'+L[n.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:r,options:n}),this},e.prototype.registerType=function(e,t){return this.ensureNotDisposed(),W(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},e.prototype.registerInstance=function(e,t){return this.ensureNotDisposed(),this.register(e,{useValue:t})},e.prototype.registerSingleton=function(e,t){if(this.ensureNotDisposed(),W(e)){if(W(t))return this.register(e,{useToken:t},{lifecycle:L.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:L.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var n=e;return t&&!W(t)&&(n=t),this.register(e,{useClass:n},{lifecycle:L.Singleton})},e.prototype.resolve=function(e,t){void 0===t&&(t=new K),this.ensureNotDisposed();var n=this.getRegistration(e);if(!n&&W(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),n){var r=this.resolveRegistration(n,t);return this.executePostResolutionInterceptor(e,r,"Single"),r}if(function(e){return"function"==typeof e||e instanceof Y}(e))return r=this.construct(e,t),this.executePostResolutionInterceptor(e,r,"Single"),r;throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,t){var n,r;if(this.interceptors.preResolution.has(e)){var o=[];try{for(var i=j(this.interceptors.preResolution.getAll(e)),s=i.next();!s.done;s=i.next()){var a=s.value;"Once"!=a.options.frequency&&o.push(a),a.callback(e,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.interceptors.preResolution.setAll(e,o)}},e.prototype.executePostResolutionInterceptor=function(e,t,n){var r,o;if(this.interceptors.postResolution.has(e)){var i=[];try{for(var s=j(this.interceptors.postResolution.getAll(e)),a=s.next();!a.done;a=s.next()){var c=a.value;"Once"!=c.options.frequency&&i.push(c),c.callback(e,t,n)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}this.interceptors.postResolution.setAll(e,i)}},e.prototype.resolveRegistration=function(e,t){if(this.ensureNotDisposed(),e.options.lifecycle===L.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var n,r=e.options.lifecycle===L.Singleton,o=e.options.lifecycle===L.ContainerScoped,i=r||o;return n=H(e.provider)?e.provider.useValue:J(e.provider)?i?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):V(e.provider)?i?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):q(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t),e.options.lifecycle===L.ResolutionScoped&&t.scopedResolutions.set(e,n),n},e.prototype.resolveAll=function(e,t){var n=this;void 0===t&&(t=new K),this.ensureNotDisposed();var r=this.getAllRegistrations(e);if(!r&&W(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),r){var o=r.map((function(e){return n.resolveRegistration(e,t)}));return this.executePostResolutionInterceptor(e,o,"All"),o}var i=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,i,"All"),i},e.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this.ensureNotDisposed(),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,t;this.ensureNotDisposed();try{for(var n=j(this._registry.entries()),r=n.next();!r.done;r=n.next()){var o=F(r.value,2),i=o[0],s=o[1];this._registry.setAll(i,s.filter((function(e){return!H(e.provider)})).map((function(e){return e.instance=void 0,e})))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){var t,n;this.ensureNotDisposed();var r=new e(this);try{for(var o=j(this._registry.entries()),i=o.next();!i.done;i=o.next()){var s=F(i.value,2),a=s[0],c=s[1];c.some((function(e){return e.options.lifecycle===L.ContainerScoped}))&&r._registry.setAll(a,c.map((function(e){return e.options.lifecycle===L.ContainerScoped?{provider:e.provider,options:e.options}:e})))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e.prototype.beforeResolution=function(e,t,n){void 0===n&&(n={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:n})},e.prototype.afterResolution=function(e,t,n){void 0===n&&(n={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:n})},e.prototype.dispose=function(){return e=this,t=void 0,r=function(){var e;return function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(t){switch(t.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach((function(t){var n=t.dispose();n&&e.push(n)})),[4,Promise.all(e)];case 1:return t.sent(),[2]}}))},new((n=void 0)||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}));var e,t,n,r},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,t){var n=this;if(e instanceof Y)return e.createProxy((function(e){return n.resolve(e,t)}));var r,o=function(){var r=ee.get(e);if(!r||0===r.length){if(0===e.length)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var o=r.map(n.resolveParams(t,e));return new(e.bind.apply(e,B([void 0],o)))}();return"function"!=typeof(r=o).dispose||r.dispose.length>0||this.disposables.add(o),o},e.prototype.resolveParams=function(e,t){var n=this;return function(r,o){var i,s,a,c;try{return"object"==typeof(c=r)&&"token"in c&&"multiple"in c?G(r)?r.multiple?(i=n.resolve(r.transform)).transform.apply(i,B([n.resolveAll(r.token)],r.transformArgs)):(s=n.resolve(r.transform)).transform.apply(s,B([n.resolve(r.token,e)],r.transformArgs)):r.multiple?n.resolveAll(r.token):n.resolve(r.token,e):G(r)?(a=n.resolve(r.transform,e)).transform.apply(a,B([n.resolve(r.token,e)],r.transformArgs)):n.resolve(r,e)}catch(e){throw new Error(function(e,t,n){var r,o,i,s,a=F(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1];return r="Cannot inject the dependency "+(s=t,(null===(i=void 0===a?null:a)?"at position #"+s:'"'+i.split(",")[s].trim()+'" at position #'+s)+' of "')+e.name+'" constructor. Reason:',void 0===o&&(o="    "),B([r],n.message.split("\n").map((function(e){return o+e}))).join("\n")}(t,o,e))}}},e.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},e}(),ne=new te,re="injectionTokens";const oe=function(e){return t=e,function(e,n,r){var o=Reflect.getOwnMetadata(re,e)||{};o[r]=t,Reflect.defineMetadata(re,o,e)};var t},ie=function(){return function(e){ee.set(e,function(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],n=Reflect.getOwnMetadata(re,e)||{};return Object.keys(n).forEach((function(e){t[+e]=n[e]})),t}(e))}},se=function(e){return void 0===e&&(e=[]),function(t){return e.forEach((function(e){var t=e.token,n=e.options,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["token","options"]);return ne.register(t,r,n)})),t}},ae=function(){return function(e){ie()(e),ne.registerSingleton(e)}};if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.");var ce=__webpack_require__(1106);const le={encode:(e,t=u().Writer.create())=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({value:de(e.value)?String(e.value):""}),toJSON(e){const t={};return void 0!==e.value&&(t.value=e.value),t},create:e=>le.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}},ue={encode:(e,t=u().Writer.create())=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({value:de(e.value)?String(e.value):""}),toJSON(e){const t={};return void 0!==e.value&&(t.value=e.value),t},create:e=>ue.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};function de(e){return null!=e}var pe=null;try{pe=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function fe(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function ge(e){return!0===(e&&e.__isLong__)}function he(e){var t=Math.clz32(e&-e);return e?31-t:t}fe.prototype.__isLong__,Object.defineProperty(fe.prototype,"__isLong__",{value:!0}),fe.isLong=ge;var ve={},me={};function be(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=me[e])?r:(n=Ee(e,0,!0),o&&(me[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=ve[e])?r:(n=Ee(e,e<0?-1:0,!1),o&&(ve[e]=n),n)}function ye(e,t){if(isNaN(e))return t?Re:ke;if(t){if(e<0)return Re;if(e>=Oe)return De}else{if(e<=-we)return Le;if(e+1>=we)return Ae}return e<0?ye(-e,t).neg():Ee(e%xe|0,e/xe|0,t)}function Ee(e,t,n){return new fe(e,t,n)}fe.fromInt=be,fe.fromNumber=ye,fe.fromBits=Ee;var Se=Math.pow;function Te(e,t,n){if(0===e.length)throw Error("empty string");if("number"==typeof t?(n=t,t=!1):t=!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?Re:ke;if((n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return Te(e.substring(1),t,n).neg();for(var o=ye(Se(n,8)),i=ke,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+a),n);if(a<8){var l=ye(Se(n,a));i=i.mul(l).add(ye(c))}else i=(i=i.mul(o)).add(ye(c))}return i.unsigned=t,i}function _e(e,t){return"number"==typeof e?ye(e,t):"string"==typeof e?Te(e,t):Ee(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}fe.fromString=Te,fe.fromValue=_e;var xe=4294967296,Oe=xe*xe,we=Oe/2,Ie=be(1<<24),ke=be(0);fe.ZERO=ke;var Re=be(0,!0);fe.UZERO=Re;var Pe=be(1);fe.ONE=Pe;var Ce=be(1,!0);fe.UONE=Ce;var Ne=be(-1);fe.NEG_ONE=Ne;var Ae=Ee(-1,2147483647,!1);fe.MAX_VALUE=Ae;var De=Ee(-1,-1,!0);fe.MAX_UNSIGNED_VALUE=De;var Le=Ee(0,-2147483648,!1);fe.MIN_VALUE=Le;var Ue=fe.prototype;Ue.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ue.toNumber=function(){return this.unsigned?(this.high>>>0)*xe+(this.low>>>0):this.high*xe+(this.low>>>0)},Ue.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Le)){var t=ye(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=ye(Se(e,6),this.unsigned),i=this,s="";;){var a=i.div(o),c=(i.sub(a.mul(o)).toInt()>>>0).toString(e);if((i=a).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},Ue.getHighBits=function(){return this.high},Ue.getHighBitsUnsigned=function(){return this.high>>>0},Ue.getLowBits=function(){return this.low},Ue.getLowBitsUnsigned=function(){return this.low>>>0},Ue.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Le)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},Ue.isZero=function(){return 0===this.high&&0===this.low},Ue.eqz=Ue.isZero,Ue.isNegative=function(){return!this.unsigned&&this.high<0},Ue.isPositive=function(){return this.unsigned||this.high>=0},Ue.isOdd=function(){return 1==(1&this.low)},Ue.isEven=function(){return 0==(1&this.low)},Ue.equals=function(e){return ge(e)||(e=_e(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},Ue.eq=Ue.equals,Ue.notEquals=function(e){return!this.eq(e)},Ue.neq=Ue.notEquals,Ue.ne=Ue.notEquals,Ue.lessThan=function(e){return this.comp(e)<0},Ue.lt=Ue.lessThan,Ue.lessThanOrEqual=function(e){return this.comp(e)<=0},Ue.lte=Ue.lessThanOrEqual,Ue.le=Ue.lessThanOrEqual,Ue.greaterThan=function(e){return this.comp(e)>0},Ue.gt=Ue.greaterThan,Ue.greaterThanOrEqual=function(e){return this.comp(e)>=0},Ue.gte=Ue.greaterThanOrEqual,Ue.ge=Ue.greaterThanOrEqual,Ue.compare=function(e){if(ge(e)||(e=_e(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},Ue.comp=Ue.compare,Ue.negate=function(){return!this.unsigned&&this.eq(Le)?Le:this.not().add(Pe)},Ue.neg=Ue.negate,Ue.add=function(e){ge(e)||(e=_e(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,i=e.high>>>16,s=65535&e.high,a=e.low>>>16,c=0,l=0,u=0,d=0;return u+=(d+=o+(65535&e.low))>>>16,l+=(u+=r+a)>>>16,c+=(l+=n+s)>>>16,c+=t+i,Ee((u&=65535)<<16|(d&=65535),(c&=65535)<<16|(l&=65535),this.unsigned)},Ue.subtract=function(e){return ge(e)||(e=_e(e)),this.add(e.neg())},Ue.sub=Ue.subtract,Ue.multiply=function(e){if(this.isZero())return this;if(ge(e)||(e=_e(e)),pe)return Ee(pe.mul(this.low,this.high,e.low,e.high),pe.get_high(),this.unsigned);if(e.isZero())return this.unsigned?Re:ke;if(this.eq(Le))return e.isOdd()?Le:ke;if(e.eq(Le))return this.isOdd()?Le:ke;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Ie)&&e.lt(Ie))return ye(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,i=e.high>>>16,s=65535&e.high,a=e.low>>>16,c=65535&e.low,l=0,u=0,d=0,p=0;return d+=(p+=o*c)>>>16,u+=(d+=r*c)>>>16,d&=65535,u+=(d+=o*a)>>>16,l+=(u+=n*c)>>>16,u&=65535,l+=(u+=r*a)>>>16,u&=65535,l+=(u+=o*s)>>>16,l+=t*c+n*a+r*s+o*i,Ee((d&=65535)<<16|(p&=65535),(l&=65535)<<16|(u&=65535),this.unsigned)},Ue.mul=Ue.multiply,Ue.divide=function(e){if(ge(e)||(e=_e(e)),e.isZero())throw Error("division by zero");var t,n,r;if(pe)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?Ee((this.unsigned?pe.div_u:pe.div_s)(this.low,this.high,e.low,e.high),pe.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Re:ke;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Re;if(e.gt(this.shru(1)))return Ce;r=Re}else{if(this.eq(Le))return e.eq(Pe)||e.eq(Ne)?Le:e.eq(Le)?Pe:(t=this.shr(1).div(e).shl(1)).eq(ke)?e.isNegative()?Pe:Ne:(n=this.sub(e.mul(t)),r=t.add(n.div(e)));if(e.eq(Le))return this.unsigned?Re:ke;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=ke}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),i=o<=48?1:Se(2,o-48),s=ye(t),a=s.mul(e);a.isNegative()||a.gt(n);)a=(s=ye(t-=i,this.unsigned)).mul(e);s.isZero()&&(s=Pe),r=r.add(s),n=n.sub(a)}return r},Ue.div=Ue.divide,Ue.modulo=function(e){return ge(e)||(e=_e(e)),pe?Ee((this.unsigned?pe.rem_u:pe.rem_s)(this.low,this.high,e.low,e.high),pe.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},Ue.mod=Ue.modulo,Ue.rem=Ue.modulo,Ue.not=function(){return Ee(~this.low,~this.high,this.unsigned)},Ue.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},Ue.clz=Ue.countLeadingZeros,Ue.countTrailingZeros=function(){return this.low?he(this.low):he(this.high)+32},Ue.ctz=Ue.countTrailingZeros,Ue.and=function(e){return ge(e)||(e=_e(e)),Ee(this.low&e.low,this.high&e.high,this.unsigned)},Ue.or=function(e){return ge(e)||(e=_e(e)),Ee(this.low|e.low,this.high|e.high,this.unsigned)},Ue.xor=function(e){return ge(e)||(e=_e(e)),Ee(this.low^e.low,this.high^e.high,this.unsigned)},Ue.shiftLeft=function(e){return ge(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Ee(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):Ee(0,this.low<<e-32,this.unsigned)},Ue.shl=Ue.shiftLeft,Ue.shiftRight=function(e){return ge(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Ee(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):Ee(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},Ue.shr=Ue.shiftRight,Ue.shiftRightUnsigned=function(e){return ge(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?Ee(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):Ee(32===e?this.high:this.high>>>e-32,0,this.unsigned)},Ue.shru=Ue.shiftRightUnsigned,Ue.shr_u=Ue.shiftRightUnsigned,Ue.rotateLeft=function(e){var t;return ge(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?Ee(this.high,this.low,this.unsigned):e<32?(t=32-e,Ee(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),Ee(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},Ue.rotl=Ue.rotateLeft,Ue.rotateRight=function(e){var t;return ge(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?Ee(this.high,this.low,this.unsigned):e<32?(t=32-e,Ee(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),Ee(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},Ue.rotr=Ue.rotateRight,Ue.toSigned=function(){return this.unsigned?Ee(this.low,this.high,!1):this},Ue.toUnsigned=function(){return this.unsigned?this:Ee(this.low,this.high,!0)},Ue.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},Ue.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},Ue.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},fe.fromBytes=function(e,t,n){return n?fe.fromBytesLE(e,t):fe.fromBytesBE(e,t)},fe.fromBytesLE=function(e,t){return new fe(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},fe.fromBytesBE=function(e,t){return new fe(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)};const Me=fe,je={encode:(e,t=u().Writer.create())=>(""!==e.extensionVersion&&t.uint32(10).string(e.extensionVersion),""!==e.browserFamily&&t.uint32(18).string(e.browserFamily),""!==e.browserVersion&&t.uint32(26).string(e.browserVersion),""!==e.configRevision&&t.uint32(34).string(e.configRevision),""!==e.extensionInstanceId&&t.uint32(42).string(e.extensionInstanceId),""!==e.sessionId&&t.uint32(50).string(e.sessionId),""!==e.collectorVersion&&t.uint32(58).string(e.collectorVersion),""!==e.protocolVersion&&t.uint32(66).string(e.protocolVersion),0!==e.keepAliveFrequencySeconds&&t.uint32(72).uint32(e.keepAliveFrequencySeconds),0!==e.sequenceNumber&&t.uint32(80).uint64(e.sequenceNumber),void 0!==e.extensionConfigRevision&&ue.encode(e.extensionConfigRevision,t.uint32(90).fork()).ldelim(),Object.entries(e.applicationRevisions).forEach((([e,n])=>{Fe.encode({key:e,value:n},t.uint32(98).fork()).ldelim()})),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={extensionVersion:"",browserFamily:"",browserVersion:"",configRevision:"",extensionInstanceId:"",sessionId:"",collectorVersion:"",protocolVersion:"",keepAliveFrequencySeconds:0,sequenceNumber:0,extensionConfigRevision:void 0,applicationRevisions:{}};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.extensionVersion=n.string();continue;case 2:if(18!==e)break;o.browserFamily=n.string();continue;case 3:if(26!==e)break;o.browserVersion=n.string();continue;case 4:if(34!==e)break;o.configRevision=n.string();continue;case 5:if(42!==e)break;o.extensionInstanceId=n.string();continue;case 6:if(50!==e)break;o.sessionId=n.string();continue;case 7:if(58!==e)break;o.collectorVersion=n.string();continue;case 8:if(66!==e)break;o.protocolVersion=n.string();continue;case 9:if(72!==e)break;o.keepAliveFrequencySeconds=n.uint32();continue;case 10:if(80!==e)break;o.sequenceNumber=Ge(n.uint64());continue;case 11:if(90!==e)break;o.extensionConfigRevision=ue.decode(n,n.uint32());continue;case 12:if(98!==e)break;const t=Fe.decode(n,n.uint32());void 0!==t.value&&(o.applicationRevisions[t.key]=t.value);continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON(e){return{extensionVersion:Je(e.extensionVersion)?String(e.extensionVersion):"",browserFamily:Je(e.browserFamily)?String(e.browserFamily):"",browserVersion:Je(e.browserVersion)?String(e.browserVersion):"",configRevision:Je(e.configRevision)?String(e.configRevision):"",extensionInstanceId:Je(e.extensionInstanceId)?String(e.extensionInstanceId):"",sessionId:Je(e.sessionId)?String(e.sessionId):"",collectorVersion:Je(e.collectorVersion)?String(e.collectorVersion):"",protocolVersion:Je(e.protocolVersion)?String(e.protocolVersion):"",keepAliveFrequencySeconds:Je(e.keepAliveFrequencySeconds)?Number(e.keepAliveFrequencySeconds):0,sequenceNumber:Je(e.sequenceNumber)?Number(e.sequenceNumber):0,extensionConfigRevision:Je(e.extensionConfigRevision)?ue.fromJSON(e.extensionConfigRevision):void 0,applicationRevisions:(t=e.applicationRevisions,"object"==typeof t&&null!==t?Object.entries(e.applicationRevisions).reduce(((e,[t,n])=>(e[t]=ue.fromJSON(n),e)),{}):{})};var t},toJSON(e){const t={};return void 0!==e.extensionVersion&&(t.extensionVersion=e.extensionVersion),void 0!==e.browserFamily&&(t.browserFamily=e.browserFamily),void 0!==e.browserVersion&&(t.browserVersion=e.browserVersion),void 0!==e.configRevision&&(t.configRevision=e.configRevision),void 0!==e.extensionInstanceId&&(t.extensionInstanceId=e.extensionInstanceId),void 0!==e.sessionId&&(t.sessionId=e.sessionId),void 0!==e.collectorVersion&&(t.collectorVersion=e.collectorVersion),void 0!==e.protocolVersion&&(t.protocolVersion=e.protocolVersion),void 0!==e.keepAliveFrequencySeconds&&(t.keepAliveFrequencySeconds=Math.round(e.keepAliveFrequencySeconds)),void 0!==e.sequenceNumber&&(t.sequenceNumber=Math.round(e.sequenceNumber)),void 0!==e.extensionConfigRevision&&(t.extensionConfigRevision=e.extensionConfigRevision?ue.toJSON(e.extensionConfigRevision):void 0),t.applicationRevisions={},e.applicationRevisions&&Object.entries(e.applicationRevisions).forEach((([e,n])=>{t.applicationRevisions[e]=ue.toJSON(n)})),t},create:e=>je.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a,c,l,u,d;const p={extensionVersion:"",browserFamily:"",browserVersion:"",configRevision:"",extensionInstanceId:"",sessionId:"",collectorVersion:"",protocolVersion:"",keepAliveFrequencySeconds:0,sequenceNumber:0,extensionConfigRevision:void 0,applicationRevisions:{}};return p.extensionVersion=null!==(t=e.extensionVersion)&&void 0!==t?t:"",p.browserFamily=null!==(n=e.browserFamily)&&void 0!==n?n:"",p.browserVersion=null!==(r=e.browserVersion)&&void 0!==r?r:"",p.configRevision=null!==(o=e.configRevision)&&void 0!==o?o:"",p.extensionInstanceId=null!==(i=e.extensionInstanceId)&&void 0!==i?i:"",p.sessionId=null!==(s=e.sessionId)&&void 0!==s?s:"",p.collectorVersion=null!==(a=e.collectorVersion)&&void 0!==a?a:"",p.protocolVersion=null!==(c=e.protocolVersion)&&void 0!==c?c:"",p.keepAliveFrequencySeconds=null!==(l=e.keepAliveFrequencySeconds)&&void 0!==l?l:0,p.sequenceNumber=null!==(u=e.sequenceNumber)&&void 0!==u?u:0,p.extensionConfigRevision=void 0!==e.extensionConfigRevision&&null!==e.extensionConfigRevision?ue.fromPartial(e.extensionConfigRevision):void 0,p.applicationRevisions=Object.entries(null!==(d=e.applicationRevisions)&&void 0!==d?d:{}).reduce(((e,[t,n])=>(void 0!==n&&(e[t]=ue.fromPartial(n)),e)),{}),p}},Fe={encode:(e,t=u().Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),void 0!==e.value&&ue.encode(e.value,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={key:"",value:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=n.string();continue;case 2:if(18!==e)break;o.value=ue.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({key:Je(e.key)?String(e.key):"",value:Je(e.value)?ue.fromJSON(e.value):void 0}),toJSON(e){const t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value?ue.toJSON(e.value):void 0),t},create:e=>Fe.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={key:"",value:void 0};return n.key=null!==(t=e.key)&&void 0!==t?t:"",n.value=void 0!==e.value&&null!==e.value?ue.fromPartial(e.value):void 0,n}};var Be,Ve,qe,Ye,We=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function Ge(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new We.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function Je(e){return null!=e}function He(e){switch(e){case 0:case"REQUEST_STATUS_UNSPECIFIED":return Be.REQUEST_STATUS_UNSPECIFIED;case 2:case"REQUEST_STATUS_SUCCESS":return Be.REQUEST_STATUS_SUCCESS;case 3:case"REQUEST_STATUS_NOT_MODIFIED":return Be.REQUEST_STATUS_NOT_MODIFIED;case 4:case"REQUEST_STATUS_CLIENT_ERROR":return Be.REQUEST_STATUS_CLIENT_ERROR;case 5:case"REQUEST_STATUS_SERVER_ERROR":return Be.REQUEST_STATUS_SERVER_ERROR;case 6:case"REQUEST_STATUS_NETWORK_ERROR":return Be.REQUEST_STATUS_NETWORK_ERROR;case 7:case"REQUEST_STATUS_SECURITY_ERROR":return Be.REQUEST_STATUS_SECURITY_ERROR;case 10:case"REQUEST_STATUS_UNKNOWN_ERROR":return Be.REQUEST_STATUS_UNKNOWN_ERROR;default:throw new tt.Error("Unrecognized enum value "+e+" for enum RequestStatus")}}function ze(e){switch(e){case Be.REQUEST_STATUS_UNSPECIFIED:return"REQUEST_STATUS_UNSPECIFIED";case Be.REQUEST_STATUS_SUCCESS:return"REQUEST_STATUS_SUCCESS";case Be.REQUEST_STATUS_NOT_MODIFIED:return"REQUEST_STATUS_NOT_MODIFIED";case Be.REQUEST_STATUS_CLIENT_ERROR:return"REQUEST_STATUS_CLIENT_ERROR";case Be.REQUEST_STATUS_SERVER_ERROR:return"REQUEST_STATUS_SERVER_ERROR";case Be.REQUEST_STATUS_NETWORK_ERROR:return"REQUEST_STATUS_NETWORK_ERROR";case Be.REQUEST_STATUS_SECURITY_ERROR:return"REQUEST_STATUS_SECURITY_ERROR";case Be.REQUEST_STATUS_UNKNOWN_ERROR:return"REQUEST_STATUS_UNKNOWN_ERROR";default:throw new tt.Error("Unrecognized enum value "+e+" for enum RequestStatus")}}function $e(e){switch(e){case 0:case"RESOURCE_TYPE_UNSPECIFIED":return Ve.RESOURCE_TYPE_UNSPECIFIED;case 1:case"RESOURCE_TYPE_BEACON":return Ve.RESOURCE_TYPE_BEACON;case 2:case"RESOURCE_TYPE_CSP_REPORT":return Ve.RESOURCE_TYPE_CSP_REPORT;case 3:case"RESOURCE_TYPE_FONT":return Ve.RESOURCE_TYPE_FONT;case 4:case"RESOURCE_TYPE_IMAGE":return Ve.RESOURCE_TYPE_IMAGE;case 5:case"RESOURCE_TYPE_IMAGE_SET":return Ve.RESOURCE_TYPE_IMAGE_SET;case 6:case"RESOURCE_TYPE_MAIN_FRAME":return Ve.RESOURCE_TYPE_MAIN_FRAME;case 7:case"RESOURCE_TYPE_MEDIA":return Ve.RESOURCE_TYPE_MEDIA;case 8:case"RESOURCE_TYPE_OBJECT":return Ve.RESOURCE_TYPE_OBJECT;case 9:case"RESOURCE_TYPE_OBJECT_SUBREQUEST":return Ve.RESOURCE_TYPE_OBJECT_SUBREQUEST;case 10:case"RESOURCE_TYPE_PING":return Ve.RESOURCE_TYPE_PING;case 11:case"RESOURCE_TYPE_SCRIPT":return Ve.RESOURCE_TYPE_SCRIPT;case 12:case"RESOURCE_TYPE_SPECULATIVE":return Ve.RESOURCE_TYPE_SPECULATIVE;case 13:case"RESOURCE_TYPE_STYLESHEET":return Ve.RESOURCE_TYPE_STYLESHEET;case 14:case"RESOURCE_TYPE_SUBFRAME":return Ve.RESOURCE_TYPE_SUBFRAME;case 15:case"RESOURCE_TYPE_WEB_MANIFEST":return Ve.RESOURCE_TYPE_WEB_MANIFEST;case 16:case"RESOURCE_TYPE_WEB_SOCKET":return Ve.RESOURCE_TYPE_WEB_SOCKET;case 17:case"RESOURCE_TYPE_XBL":return Ve.RESOURCE_TYPE_XBL;case 18:case"RESOURCE_TYPE_XML_DTD":return Ve.RESOURCE_TYPE_XML_DTD;case 19:case"RESOURCE_TYPE_XML_HTTP_REQUEST":return Ve.RESOURCE_TYPE_XML_HTTP_REQUEST;case 20:case"RESOURCE_TYPE_XSLT":return Ve.RESOURCE_TYPE_XSLT;default:throw new tt.Error("Unrecognized enum value "+e+" for enum ResourceType")}}function Ke(e){switch(e){case Ve.RESOURCE_TYPE_UNSPECIFIED:return"RESOURCE_TYPE_UNSPECIFIED";case Ve.RESOURCE_TYPE_BEACON:return"RESOURCE_TYPE_BEACON";case Ve.RESOURCE_TYPE_CSP_REPORT:return"RESOURCE_TYPE_CSP_REPORT";case Ve.RESOURCE_TYPE_FONT:return"RESOURCE_TYPE_FONT";case Ve.RESOURCE_TYPE_IMAGE:return"RESOURCE_TYPE_IMAGE";case Ve.RESOURCE_TYPE_IMAGE_SET:return"RESOURCE_TYPE_IMAGE_SET";case Ve.RESOURCE_TYPE_MAIN_FRAME:return"RESOURCE_TYPE_MAIN_FRAME";case Ve.RESOURCE_TYPE_MEDIA:return"RESOURCE_TYPE_MEDIA";case Ve.RESOURCE_TYPE_OBJECT:return"RESOURCE_TYPE_OBJECT";case Ve.RESOURCE_TYPE_OBJECT_SUBREQUEST:return"RESOURCE_TYPE_OBJECT_SUBREQUEST";case Ve.RESOURCE_TYPE_PING:return"RESOURCE_TYPE_PING";case Ve.RESOURCE_TYPE_SCRIPT:return"RESOURCE_TYPE_SCRIPT";case Ve.RESOURCE_TYPE_SPECULATIVE:return"RESOURCE_TYPE_SPECULATIVE";case Ve.RESOURCE_TYPE_STYLESHEET:return"RESOURCE_TYPE_STYLESHEET";case Ve.RESOURCE_TYPE_SUBFRAME:return"RESOURCE_TYPE_SUBFRAME";case Ve.RESOURCE_TYPE_WEB_MANIFEST:return"RESOURCE_TYPE_WEB_MANIFEST";case Ve.RESOURCE_TYPE_WEB_SOCKET:return"RESOURCE_TYPE_WEB_SOCKET";case Ve.RESOURCE_TYPE_XBL:return"RESOURCE_TYPE_XBL";case Ve.RESOURCE_TYPE_XML_DTD:return"RESOURCE_TYPE_XML_DTD";case Ve.RESOURCE_TYPE_XML_HTTP_REQUEST:return"RESOURCE_TYPE_XML_HTTP_REQUEST";case Ve.RESOURCE_TYPE_XSLT:return"RESOURCE_TYPE_XSLT";default:throw new tt.Error("Unrecognized enum value "+e+" for enum ResourceType")}}function Xe(e){switch(e){case 0:case"ACTIVITY_LEVEL_UNSPECIFIED":return qe.ACTIVITY_LEVEL_UNSPECIFIED;case 5:case"ACTIVITY_LEVEL_UNFOCUSED":return qe.ACTIVITY_LEVEL_UNFOCUSED;case 6:case"ACTIVITY_LEVEL_FOCUSED":return qe.ACTIVITY_LEVEL_FOCUSED;default:throw new tt.Error("Unrecognized enum value "+e+" for enum ActivityLevel")}}function Qe(e){switch(e){case qe.ACTIVITY_LEVEL_UNSPECIFIED:return"ACTIVITY_LEVEL_UNSPECIFIED";case qe.ACTIVITY_LEVEL_UNFOCUSED:return"ACTIVITY_LEVEL_UNFOCUSED";case qe.ACTIVITY_LEVEL_FOCUSED:return"ACTIVITY_LEVEL_FOCUSED";default:throw new tt.Error("Unrecognized enum value "+e+" for enum ActivityLevel")}}function Ze(e){switch(e){case 0:case"PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED":return Ye.PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED;case 1:case"PERCEIVED_EXPERIENCE_LEVEL_GOOD":return Ye.PERCEIVED_EXPERIENCE_LEVEL_GOOD;case 2:case"PERCEIVED_EXPERIENCE_LEVEL_AVERAGE":return Ye.PERCEIVED_EXPERIENCE_LEVEL_AVERAGE;case 3:case"PERCEIVED_EXPERIENCE_LEVEL_FRUSTRATING":return Ye.PERCEIVED_EXPERIENCE_LEVEL_FRUSTRATING;default:throw new tt.Error("Unrecognized enum value "+e+" for enum PerceivedExperienceLevel")}}function et(e){switch(e){case Ye.PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED:return"PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED";case Ye.PERCEIVED_EXPERIENCE_LEVEL_GOOD:return"PERCEIVED_EXPERIENCE_LEVEL_GOOD";case Ye.PERCEIVED_EXPERIENCE_LEVEL_AVERAGE:return"PERCEIVED_EXPERIENCE_LEVEL_AVERAGE";case Ye.PERCEIVED_EXPERIENCE_LEVEL_FRUSTRATING:return"PERCEIVED_EXPERIENCE_LEVEL_FRUSTRATING";default:throw new tt.Error("Unrecognized enum value "+e+" for enum PerceivedExperienceLevel")}}u().util.Long!==Me&&(u().util.Long=Me,u().configure()),function(e){e[e.REQUEST_STATUS_UNSPECIFIED=0]="REQUEST_STATUS_UNSPECIFIED",e[e.REQUEST_STATUS_SUCCESS=2]="REQUEST_STATUS_SUCCESS",e[e.REQUEST_STATUS_NOT_MODIFIED=3]="REQUEST_STATUS_NOT_MODIFIED",e[e.REQUEST_STATUS_CLIENT_ERROR=4]="REQUEST_STATUS_CLIENT_ERROR",e[e.REQUEST_STATUS_SERVER_ERROR=5]="REQUEST_STATUS_SERVER_ERROR",e[e.REQUEST_STATUS_NETWORK_ERROR=6]="REQUEST_STATUS_NETWORK_ERROR",e[e.REQUEST_STATUS_SECURITY_ERROR=7]="REQUEST_STATUS_SECURITY_ERROR",e[e.REQUEST_STATUS_UNKNOWN_ERROR=10]="REQUEST_STATUS_UNKNOWN_ERROR"}(Be||(Be={})),function(e){e[e.RESOURCE_TYPE_UNSPECIFIED=0]="RESOURCE_TYPE_UNSPECIFIED",e[e.RESOURCE_TYPE_BEACON=1]="RESOURCE_TYPE_BEACON",e[e.RESOURCE_TYPE_CSP_REPORT=2]="RESOURCE_TYPE_CSP_REPORT",e[e.RESOURCE_TYPE_FONT=3]="RESOURCE_TYPE_FONT",e[e.RESOURCE_TYPE_IMAGE=4]="RESOURCE_TYPE_IMAGE",e[e.RESOURCE_TYPE_IMAGE_SET=5]="RESOURCE_TYPE_IMAGE_SET",e[e.RESOURCE_TYPE_MAIN_FRAME=6]="RESOURCE_TYPE_MAIN_FRAME",e[e.RESOURCE_TYPE_MEDIA=7]="RESOURCE_TYPE_MEDIA",e[e.RESOURCE_TYPE_OBJECT=8]="RESOURCE_TYPE_OBJECT",e[e.RESOURCE_TYPE_OBJECT_SUBREQUEST=9]="RESOURCE_TYPE_OBJECT_SUBREQUEST",e[e.RESOURCE_TYPE_PING=10]="RESOURCE_TYPE_PING",e[e.RESOURCE_TYPE_SCRIPT=11]="RESOURCE_TYPE_SCRIPT",e[e.RESOURCE_TYPE_SPECULATIVE=12]="RESOURCE_TYPE_SPECULATIVE",e[e.RESOURCE_TYPE_STYLESHEET=13]="RESOURCE_TYPE_STYLESHEET",e[e.RESOURCE_TYPE_SUBFRAME=14]="RESOURCE_TYPE_SUBFRAME",e[e.RESOURCE_TYPE_WEB_MANIFEST=15]="RESOURCE_TYPE_WEB_MANIFEST",e[e.RESOURCE_TYPE_WEB_SOCKET=16]="RESOURCE_TYPE_WEB_SOCKET",e[e.RESOURCE_TYPE_XBL=17]="RESOURCE_TYPE_XBL",e[e.RESOURCE_TYPE_XML_DTD=18]="RESOURCE_TYPE_XML_DTD",e[e.RESOURCE_TYPE_XML_HTTP_REQUEST=19]="RESOURCE_TYPE_XML_HTTP_REQUEST",e[e.RESOURCE_TYPE_XSLT=20]="RESOURCE_TYPE_XSLT"}(Ve||(Ve={})),function(e){e[e.ACTIVITY_LEVEL_UNSPECIFIED=0]="ACTIVITY_LEVEL_UNSPECIFIED",e[e.ACTIVITY_LEVEL_UNFOCUSED=5]="ACTIVITY_LEVEL_UNFOCUSED",e[e.ACTIVITY_LEVEL_FOCUSED=6]="ACTIVITY_LEVEL_FOCUSED"}(qe||(qe={})),function(e){e[e.PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED=0]="PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED",e[e.PERCEIVED_EXPERIENCE_LEVEL_GOOD=1]="PERCEIVED_EXPERIENCE_LEVEL_GOOD",e[e.PERCEIVED_EXPERIENCE_LEVEL_AVERAGE=2]="PERCEIVED_EXPERIENCE_LEVEL_AVERAGE",e[e.PERCEIVED_EXPERIENCE_LEVEL_FRUSTRATING=3]="PERCEIVED_EXPERIENCE_LEVEL_FRUSTRATING"}(Ye||(Ye={}));var tt=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();const nt={encode(e,t=u().Writer.create()){void 0!==e.id&&le.encode(e.id,t.uint32(10).fork()).ldelim(),""!==e.name&&t.uint32(18).string(e.name);for(const n of e.startTriggers)rt.encode(n,t.uint32(26).fork()).ldelim();for(const n of e.endTriggers)st.encode(n,t.uint32(34).fork()).ldelim();return t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={id:void 0,name:"",startTriggers:[],endTriggers:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=le.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.name=n.string();continue;case 3:if(26!==e)break;o.startTriggers.push(rt.decode(n,n.uint32()));continue;case 4:if(34!==e)break;o.endTriggers.push(st.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({id:ut(e.id)?le.fromJSON(e.id):void 0,name:ut(e.name)?String(e.name):"",startTriggers:Array.isArray(null==e?void 0:e.startTriggers)?e.startTriggers.map((e=>rt.fromJSON(e))):[],endTriggers:Array.isArray(null==e?void 0:e.endTriggers)?e.endTriggers.map((e=>st.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.id&&(t.id=e.id?le.toJSON(e.id):void 0),void 0!==e.name&&(t.name=e.name),e.startTriggers?t.startTriggers=e.startTriggers.map((e=>e?rt.toJSON(e):void 0)):t.startTriggers=[],e.endTriggers?t.endTriggers=e.endTriggers.map((e=>e?st.toJSON(e):void 0)):t.endTriggers=[],t},create:e=>nt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={id:void 0,name:"",startTriggers:[],endTriggers:[]};return o.id=void 0!==e.id&&null!==e.id?le.fromPartial(e.id):void 0,o.name=null!==(t=e.name)&&void 0!==t?t:"",o.startTriggers=(null===(n=e.startTriggers)||void 0===n?void 0:n.map((e=>rt.fromPartial(e))))||[],o.endTriggers=(null===(r=e.endTriggers)||void 0===r?void 0:r.map((e=>st.fromPartial(e))))||[],o}},rt={encode(e,t=u().Writer.create()){var n;switch(void 0!==e.id&&le.encode(e.id,t.uint32(10).fork()).ldelim(),""!==e.name&&t.uint32(18).string(e.name),void 0!==e.element&&at.encode(e.element,t.uint32(26).fork()).ldelim(),null===(n=e.mechanism)||void 0===n?void 0:n.$case){case"event":ot.encode(e.mechanism.event,t.uint32(34).fork()).ldelim();break;case"keyboardShortcut":it.encode(e.mechanism.keyboardShortcut,t.uint32(42).fork()).ldelim()}return t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={id:void 0,name:"",element:void 0,mechanism:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=le.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.name=n.string();continue;case 3:if(26!==e)break;o.element=at.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.mechanism={$case:"event",event:ot.decode(n,n.uint32())};continue;case 5:if(42!==e)break;o.mechanism={$case:"keyboardShortcut",keyboardShortcut:it.decode(n,n.uint32())};continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({id:ut(e.id)?le.fromJSON(e.id):void 0,name:ut(e.name)?String(e.name):"",element:ut(e.element)?at.fromJSON(e.element):void 0,mechanism:ut(e.event)?{$case:"event",event:ot.fromJSON(e.event)}:ut(e.keyboardShortcut)?{$case:"keyboardShortcut",keyboardShortcut:it.fromJSON(e.keyboardShortcut)}:void 0}),toJSON(e){var t,n,r,o,i,s;const a={};return void 0!==e.id&&(a.id=e.id?le.toJSON(e.id):void 0),void 0!==e.name&&(a.name=e.name),void 0!==e.element&&(a.element=e.element?at.toJSON(e.element):void 0),"event"===(null===(t=e.mechanism)||void 0===t?void 0:t.$case)&&(a.event=(null===(n=e.mechanism)||void 0===n?void 0:n.event)?ot.toJSON(null===(r=e.mechanism)||void 0===r?void 0:r.event):void 0),"keyboardShortcut"===(null===(o=e.mechanism)||void 0===o?void 0:o.$case)&&(a.keyboardShortcut=(null===(i=e.mechanism)||void 0===i?void 0:i.keyboardShortcut)?it.toJSON(null===(s=e.mechanism)||void 0===s?void 0:s.keyboardShortcut):void 0),a},create:e=>rt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a;const c={id:void 0,name:"",element:void 0,mechanism:void 0};return c.id=void 0!==e.id&&null!==e.id?le.fromPartial(e.id):void 0,c.name=null!==(t=e.name)&&void 0!==t?t:"",c.element=void 0!==e.element&&null!==e.element?at.fromPartial(e.element):void 0,"event"===(null===(n=e.mechanism)||void 0===n?void 0:n.$case)&&void 0!==(null===(r=e.mechanism)||void 0===r?void 0:r.event)&&null!==(null===(o=e.mechanism)||void 0===o?void 0:o.event)&&(c.mechanism={$case:"event",event:ot.fromPartial(e.mechanism.event)}),"keyboardShortcut"===(null===(i=e.mechanism)||void 0===i?void 0:i.$case)&&void 0!==(null===(s=e.mechanism)||void 0===s?void 0:s.keyboardShortcut)&&null!==(null===(a=e.mechanism)||void 0===a?void 0:a.keyboardShortcut)&&(c.mechanism={$case:"keyboardShortcut",keyboardShortcut:it.fromPartial(e.mechanism.keyboardShortcut)}),c}},ot={encode:(e,t=u().Writer.create())=>t,decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skipType(7&e)}return{}},fromJSON:e=>({}),toJSON:e=>({}),create:e=>ot.fromPartial(null!=e?e:{}),fromPartial:e=>({})},it={encode:(e,t=u().Writer.create())=>(""!==e.expression&&t.uint32(10).string(e.expression),!0===e.listenOnTargetElement&&t.uint32(16).bool(e.listenOnTargetElement),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={expression:"",listenOnTargetElement:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.expression=n.string();continue;case 2:if(16!==e)break;o.listenOnTargetElement=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({expression:ut(e.expression)?String(e.expression):"",listenOnTargetElement:!!ut(e.listenOnTargetElement)&&Boolean(e.listenOnTargetElement)}),toJSON(e){const t={};return void 0!==e.expression&&(t.expression=e.expression),void 0!==e.listenOnTargetElement&&(t.listenOnTargetElement=e.listenOnTargetElement),t},create:e=>it.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={expression:"",listenOnTargetElement:!1};return r.expression=null!==(t=e.expression)&&void 0!==t?t:"",r.listenOnTargetElement=null!==(n=e.listenOnTargetElement)&&void 0!==n&&n,r}},st={encode(e,t=u().Writer.create()){var n;switch(void 0!==e.id&&le.encode(e.id,t.uint32(10).fork()).ldelim(),""!==e.name&&t.uint32(18).string(e.name),void 0!==e.element&&at.encode(e.element,t.uint32(26).fork()).ldelim(),null===(n=e.mechanism)||void 0===n?void 0:n.$case){case"visibility":ct.encode(e.mechanism.visibility,t.uint32(34).fork()).ldelim();break;case"className":lt.encode(e.mechanism.className,t.uint32(42).fork()).ldelim()}return!0===e.waitForNew&&t.uint32(48).bool(e.waitForNew),t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={id:void 0,name:"",element:void 0,mechanism:void 0,waitForNew:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=le.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.name=n.string();continue;case 3:if(26!==e)break;o.element=at.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.mechanism={$case:"visibility",visibility:ct.decode(n,n.uint32())};continue;case 5:if(42!==e)break;o.mechanism={$case:"className",className:lt.decode(n,n.uint32())};continue;case 6:if(48!==e)break;o.waitForNew=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({id:ut(e.id)?le.fromJSON(e.id):void 0,name:ut(e.name)?String(e.name):"",element:ut(e.element)?at.fromJSON(e.element):void 0,mechanism:ut(e.visibility)?{$case:"visibility",visibility:ct.fromJSON(e.visibility)}:ut(e.className)?{$case:"className",className:lt.fromJSON(e.className)}:void 0,waitForNew:!!ut(e.waitForNew)&&Boolean(e.waitForNew)}),toJSON(e){var t,n,r,o,i,s;const a={};return void 0!==e.id&&(a.id=e.id?le.toJSON(e.id):void 0),void 0!==e.name&&(a.name=e.name),void 0!==e.element&&(a.element=e.element?at.toJSON(e.element):void 0),"visibility"===(null===(t=e.mechanism)||void 0===t?void 0:t.$case)&&(a.visibility=(null===(n=e.mechanism)||void 0===n?void 0:n.visibility)?ct.toJSON(null===(r=e.mechanism)||void 0===r?void 0:r.visibility):void 0),"className"===(null===(o=e.mechanism)||void 0===o?void 0:o.$case)&&(a.className=(null===(i=e.mechanism)||void 0===i?void 0:i.className)?lt.toJSON(null===(s=e.mechanism)||void 0===s?void 0:s.className):void 0),void 0!==e.waitForNew&&(a.waitForNew=e.waitForNew),a},create:e=>st.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a,c;const l={id:void 0,name:"",element:void 0,mechanism:void 0,waitForNew:!1};return l.id=void 0!==e.id&&null!==e.id?le.fromPartial(e.id):void 0,l.name=null!==(t=e.name)&&void 0!==t?t:"",l.element=void 0!==e.element&&null!==e.element?at.fromPartial(e.element):void 0,"visibility"===(null===(n=e.mechanism)||void 0===n?void 0:n.$case)&&void 0!==(null===(r=e.mechanism)||void 0===r?void 0:r.visibility)&&null!==(null===(o=e.mechanism)||void 0===o?void 0:o.visibility)&&(l.mechanism={$case:"visibility",visibility:ct.fromPartial(e.mechanism.visibility)}),"className"===(null===(i=e.mechanism)||void 0===i?void 0:i.$case)&&void 0!==(null===(s=e.mechanism)||void 0===s?void 0:s.className)&&null!==(null===(a=e.mechanism)||void 0===a?void 0:a.className)&&(l.mechanism={$case:"className",className:lt.fromPartial(e.mechanism.className)}),l.waitForNew=null!==(c=e.waitForNew)&&void 0!==c&&c,l}},at={encode:(e,t=u().Writer.create())=>(""!==e.cssSelector&&t.uint32(10).string(e.cssSelector),void 0!==e.innerTextPattern&&t.uint32(18).string(e.innerTextPattern),!0===e.selectAll&&t.uint32(24).bool(e.selectAll),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={cssSelector:"",innerTextPattern:void 0,selectAll:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.cssSelector=n.string();continue;case 2:if(18!==e)break;o.innerTextPattern=n.string();continue;case 3:if(24!==e)break;o.selectAll=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({cssSelector:ut(e.cssSelector)?String(e.cssSelector):"",innerTextPattern:ut(e.innerTextPattern)?String(e.innerTextPattern):void 0,selectAll:!!ut(e.selectAll)&&Boolean(e.selectAll)}),toJSON(e){const t={};return void 0!==e.cssSelector&&(t.cssSelector=e.cssSelector),void 0!==e.innerTextPattern&&(t.innerTextPattern=e.innerTextPattern),void 0!==e.selectAll&&(t.selectAll=e.selectAll),t},create:e=>at.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={cssSelector:"",innerTextPattern:void 0,selectAll:!1};return o.cssSelector=null!==(t=e.cssSelector)&&void 0!==t?t:"",o.innerTextPattern=null!==(n=e.innerTextPattern)&&void 0!==n?n:void 0,o.selectAll=null!==(r=e.selectAll)&&void 0!==r&&r,o}},ct={encode:(e,t=u().Writer.create())=>(!0===e.triggerOnHidden&&t.uint32(8).bool(e.triggerOnHidden),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={triggerOnHidden:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.triggerOnHidden=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({triggerOnHidden:!!ut(e.triggerOnHidden)&&Boolean(e.triggerOnHidden)}),toJSON(e){const t={};return void 0!==e.triggerOnHidden&&(t.triggerOnHidden=e.triggerOnHidden),t},create:e=>ct.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={triggerOnHidden:!1};return n.triggerOnHidden=null!==(t=e.triggerOnHidden)&&void 0!==t&&t,n}},lt={encode:(e,t=u().Writer.create())=>(""!==e.name&&t.uint32(10).string(e.name),!0===e.triggerOnRemoved&&t.uint32(16).bool(e.triggerOnRemoved),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={name:"",triggerOnRemoved:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.name=n.string();continue;case 2:if(16!==e)break;o.triggerOnRemoved=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({name:ut(e.name)?String(e.name):"",triggerOnRemoved:!!ut(e.triggerOnRemoved)&&Boolean(e.triggerOnRemoved)}),toJSON(e){const t={};return void 0!==e.name&&(t.name=e.name),void 0!==e.triggerOnRemoved&&(t.triggerOnRemoved=e.triggerOnRemoved),t},create:e=>lt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={name:"",triggerOnRemoved:!1};return r.name=null!==(t=e.name)&&void 0!==t?t:"",r.triggerOnRemoved=null!==(n=e.triggerOnRemoved)&&void 0!==n&&n,r}};function ut(e){return null!=e}const dt={encode:(e,t=u().Writer.create())=>(0!==e.seconds&&t.uint32(8).int64(e.seconds),0!==e.nanos&&t.uint32(16).int32(e.nanos),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={seconds:0,nanos:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.seconds=ft(n.int64());continue;case 2:if(16!==e)break;o.nanos=n.int32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({seconds:gt(e.seconds)?Number(e.seconds):0,nanos:gt(e.nanos)?Number(e.nanos):0}),toJSON(e){const t={};return void 0!==e.seconds&&(t.seconds=Math.round(e.seconds)),void 0!==e.nanos&&(t.nanos=Math.round(e.nanos)),t},create:e=>dt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={seconds:0,nanos:0};return r.seconds=null!==(t=e.seconds)&&void 0!==t?t:0,r.nanos=null!==(n=e.nanos)&&void 0!==n?n:0,r}};var pt=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function ft(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new pt.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function gt(e){return null!=e}u().util.Long!==Me&&(u().util.Long=Me,u().configure());const ht={encode:(e,t=u().Writer.create())=>(void 0!==e.pageLoad&&vt.encode(e.pageLoad,t.uint32(10).fork()).ldelim(),void 0!==e.transaction&&vt.encode(e.transaction,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={pageLoad:void 0,transaction:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.pageLoad=vt.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.transaction=vt.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({pageLoad:mt(e.pageLoad)?vt.fromJSON(e.pageLoad):void 0,transaction:mt(e.transaction)?vt.fromJSON(e.transaction):void 0}),toJSON(e){const t={};return void 0!==e.pageLoad&&(t.pageLoad=e.pageLoad?vt.toJSON(e.pageLoad):void 0),void 0!==e.transaction&&(t.transaction=e.transaction?vt.toJSON(e.transaction):void 0),t},create:e=>ht.fromPartial(null!=e?e:{}),fromPartial(e){const t={pageLoad:void 0,transaction:void 0};return t.pageLoad=void 0!==e.pageLoad&&null!==e.pageLoad?vt.fromPartial(e.pageLoad):void 0,t.transaction=void 0!==e.transaction&&null!==e.transaction?vt.fromPartial(e.transaction):void 0,t}},vt={encode:(e,t=u().Writer.create())=>(void 0!==e.average&&dt.encode(e.average,t.uint32(10).fork()).ldelim(),void 0!==e.frustrating&&dt.encode(e.frustrating,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={average:void 0,frustrating:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.average=dt.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.frustrating=dt.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({average:mt(e.average)?dt.fromJSON(e.average):void 0,frustrating:mt(e.frustrating)?dt.fromJSON(e.frustrating):void 0}),toJSON(e){const t={};return void 0!==e.average&&(t.average=e.average?dt.toJSON(e.average):void 0),void 0!==e.frustrating&&(t.frustrating=e.frustrating?dt.toJSON(e.frustrating):void 0),t},create:e=>vt.fromPartial(null!=e?e:{}),fromPartial(e){const t={average:void 0,frustrating:void 0};return t.average=void 0!==e.average&&null!==e.average?dt.fromPartial(e.average):void 0,t.frustrating=void 0!==e.frustrating&&null!==e.frustrating?dt.fromPartial(e.frustrating):void 0,t}};function mt(e){return null!=e}var bt;function yt(e){switch(e){case 0:case"FEATURE_FLAG_TYPE_UNSPECIFIED":return bt.FEATURE_FLAG_TYPE_UNSPECIFIED;case 1:case"FEATURE_FLAG_TYPE_BOOLEAN":return bt.FEATURE_FLAG_TYPE_BOOLEAN;case 2:case"FEATURE_FLAG_TYPE_NUMBER":return bt.FEATURE_FLAG_TYPE_NUMBER;case 3:case"FEATURE_FLAG_TYPE_STRING":return bt.FEATURE_FLAG_TYPE_STRING;case 4:case"FEATURE_FLAG_TYPE_JSON":return bt.FEATURE_FLAG_TYPE_JSON;default:throw new St.Error("Unrecognized enum value "+e+" for enum FeatureFlagType")}}!function(e){e[e.FEATURE_FLAG_TYPE_UNSPECIFIED=0]="FEATURE_FLAG_TYPE_UNSPECIFIED",e[e.FEATURE_FLAG_TYPE_BOOLEAN=1]="FEATURE_FLAG_TYPE_BOOLEAN",e[e.FEATURE_FLAG_TYPE_NUMBER=2]="FEATURE_FLAG_TYPE_NUMBER",e[e.FEATURE_FLAG_TYPE_STRING=3]="FEATURE_FLAG_TYPE_STRING",e[e.FEATURE_FLAG_TYPE_JSON=4]="FEATURE_FLAG_TYPE_JSON"}(bt||(bt={}));const Et={encode(e,t=u().Writer.create()){var n;switch(0!==e.type&&t.uint32(8).int32(e.type),null===(n=e.value)||void 0===n?void 0:n.$case){case"booleanValue":t.uint32(16).bool(e.value.booleanValue);break;case"numberValue":t.uint32(25).double(e.value.numberValue);break;case"stringValue":t.uint32(34).string(e.value.stringValue);break;case"jsonValue":t.uint32(42).string(e.value.jsonValue)}return t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={type:0,value:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.type=n.int32();continue;case 2:if(16!==e)break;o.value={$case:"booleanValue",booleanValue:n.bool()};continue;case 3:if(25!==e)break;o.value={$case:"numberValue",numberValue:n.double()};continue;case 4:if(34!==e)break;o.value={$case:"stringValue",stringValue:n.string()};continue;case 5:if(42!==e)break;o.value={$case:"jsonValue",jsonValue:n.string()};continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({type:Tt(e.type)?yt(e.type):0,value:Tt(e.booleanValue)?{$case:"booleanValue",booleanValue:Boolean(e.booleanValue)}:Tt(e.numberValue)?{$case:"numberValue",numberValue:Number(e.numberValue)}:Tt(e.stringValue)?{$case:"stringValue",stringValue:String(e.stringValue)}:Tt(e.jsonValue)?{$case:"jsonValue",jsonValue:String(e.jsonValue)}:void 0}),toJSON(e){var t,n,r,o,i,s,a,c;const l={};return void 0!==e.type&&(l.type=function(e){switch(e){case bt.FEATURE_FLAG_TYPE_UNSPECIFIED:return"FEATURE_FLAG_TYPE_UNSPECIFIED";case bt.FEATURE_FLAG_TYPE_BOOLEAN:return"FEATURE_FLAG_TYPE_BOOLEAN";case bt.FEATURE_FLAG_TYPE_NUMBER:return"FEATURE_FLAG_TYPE_NUMBER";case bt.FEATURE_FLAG_TYPE_STRING:return"FEATURE_FLAG_TYPE_STRING";case bt.FEATURE_FLAG_TYPE_JSON:return"FEATURE_FLAG_TYPE_JSON";default:throw new St.Error("Unrecognized enum value "+e+" for enum FeatureFlagType")}}(e.type)),"booleanValue"===(null===(t=e.value)||void 0===t?void 0:t.$case)&&(l.booleanValue=null===(n=e.value)||void 0===n?void 0:n.booleanValue),"numberValue"===(null===(r=e.value)||void 0===r?void 0:r.$case)&&(l.numberValue=null===(o=e.value)||void 0===o?void 0:o.numberValue),"stringValue"===(null===(i=e.value)||void 0===i?void 0:i.$case)&&(l.stringValue=null===(s=e.value)||void 0===s?void 0:s.stringValue),"jsonValue"===(null===(a=e.value)||void 0===a?void 0:a.$case)&&(l.jsonValue=null===(c=e.value)||void 0===c?void 0:c.jsonValue),l},create:e=>Et.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a,c,l,u,d,p,f;const g={type:0,value:void 0};return g.type=null!==(t=e.type)&&void 0!==t?t:0,"booleanValue"===(null===(n=e.value)||void 0===n?void 0:n.$case)&&void 0!==(null===(r=e.value)||void 0===r?void 0:r.booleanValue)&&null!==(null===(o=e.value)||void 0===o?void 0:o.booleanValue)&&(g.value={$case:"booleanValue",booleanValue:e.value.booleanValue}),"numberValue"===(null===(i=e.value)||void 0===i?void 0:i.$case)&&void 0!==(null===(s=e.value)||void 0===s?void 0:s.numberValue)&&null!==(null===(a=e.value)||void 0===a?void 0:a.numberValue)&&(g.value={$case:"numberValue",numberValue:e.value.numberValue}),"stringValue"===(null===(c=e.value)||void 0===c?void 0:c.$case)&&void 0!==(null===(l=e.value)||void 0===l?void 0:l.stringValue)&&null!==(null===(u=e.value)||void 0===u?void 0:u.stringValue)&&(g.value={$case:"stringValue",stringValue:e.value.stringValue}),"jsonValue"===(null===(d=e.value)||void 0===d?void 0:d.$case)&&void 0!==(null===(p=e.value)||void 0===p?void 0:p.jsonValue)&&null!==(null===(f=e.value)||void 0===f?void 0:f.jsonValue)&&(g.value={$case:"jsonValue",jsonValue:e.value.jsonValue}),g}};var St=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function Tt(e){return null!=e}const _t={encode:(e,t=u().Writer.create())=>(""!==e.enabledMessage&&t.uint32(10).string(e.enabledMessage),""!==e.disabledMessage&&t.uint32(18).string(e.disabledMessage),""!==e.aboutExtensionMessage&&t.uint32(26).string(e.aboutExtensionMessage),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={enabledMessage:"",disabledMessage:"",aboutExtensionMessage:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.enabledMessage=n.string();continue;case 2:if(18!==e)break;o.disabledMessage=n.string();continue;case 3:if(26!==e)break;o.aboutExtensionMessage=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({enabledMessage:xt(e.enabledMessage)?String(e.enabledMessage):"",disabledMessage:xt(e.disabledMessage)?String(e.disabledMessage):"",aboutExtensionMessage:xt(e.aboutExtensionMessage)?String(e.aboutExtensionMessage):""}),toJSON(e){const t={};return void 0!==e.enabledMessage&&(t.enabledMessage=e.enabledMessage),void 0!==e.disabledMessage&&(t.disabledMessage=e.disabledMessage),void 0!==e.aboutExtensionMessage&&(t.aboutExtensionMessage=e.aboutExtensionMessage),t},create:e=>_t.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={enabledMessage:"",disabledMessage:"",aboutExtensionMessage:""};return o.enabledMessage=null!==(t=e.enabledMessage)&&void 0!==t?t:"",o.disabledMessage=null!==(n=e.disabledMessage)&&void 0!==n?n:"",o.aboutExtensionMessage=null!==(r=e.aboutExtensionMessage)&&void 0!==r?r:"",o}};function xt(e){return null!=e}const Ot={encode(e,t=u().Writer.create()){void 0!==e.defaultRule&&wt.encode(e.defaultRule,t.uint32(10).fork()).ldelim();for(const n of e.hostSpecificRules)It.encode(n,t.uint32(18).fork()).ldelim();return t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={defaultRule:void 0,hostSpecificRules:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.defaultRule=wt.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.hostSpecificRules.push(It.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({defaultRule:Rt(e.defaultRule)?wt.fromJSON(e.defaultRule):void 0,hostSpecificRules:Array.isArray(null==e?void 0:e.hostSpecificRules)?e.hostSpecificRules.map((e=>It.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.defaultRule&&(t.defaultRule=e.defaultRule?wt.toJSON(e.defaultRule):void 0),e.hostSpecificRules?t.hostSpecificRules=e.hostSpecificRules.map((e=>e?It.toJSON(e):void 0)):t.hostSpecificRules=[],t},create:e=>Ot.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={defaultRule:void 0,hostSpecificRules:[]};return n.defaultRule=void 0!==e.defaultRule&&null!==e.defaultRule?wt.fromPartial(e.defaultRule):void 0,n.hostSpecificRules=(null===(t=e.hostSpecificRules)||void 0===t?void 0:t.map((e=>It.fromPartial(e))))||[],n}},wt={encode(e,t=u().Writer.create()){var n;switch(0!==e.pathDepth&&t.uint32(8).uint32(e.pathDepth),0!==e.pathLength&&t.uint32(16).uint32(e.pathLength),0!==e.anchorLength&&t.uint32(24).uint32(e.anchorLength),null===(n=e.fragmentHandling)||void 0===n?void 0:n.$case){case"fragmentAsPath":t.uint32(32).bool(e.fragmentHandling.fragmentAsPath);break;case"fragmentAsQuery":t.uint32(40).bool(e.fragmentHandling.fragmentAsQuery);break;case"fragmentAsAnchor":t.uint32(48).bool(e.fragmentHandling.fragmentAsAnchor)}for(const n of e.tokenFilters)kt.encode(n,t.uint32(58).fork()).ldelim();for(const n of e.captureParams)t.uint32(66).string(n);return t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={pathDepth:0,pathLength:0,anchorLength:0,fragmentHandling:void 0,tokenFilters:[],captureParams:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.pathDepth=n.uint32();continue;case 2:if(16!==e)break;o.pathLength=n.uint32();continue;case 3:if(24!==e)break;o.anchorLength=n.uint32();continue;case 4:if(32!==e)break;o.fragmentHandling={$case:"fragmentAsPath",fragmentAsPath:n.bool()};continue;case 5:if(40!==e)break;o.fragmentHandling={$case:"fragmentAsQuery",fragmentAsQuery:n.bool()};continue;case 6:if(48!==e)break;o.fragmentHandling={$case:"fragmentAsAnchor",fragmentAsAnchor:n.bool()};continue;case 7:if(58!==e)break;o.tokenFilters.push(kt.decode(n,n.uint32()));continue;case 8:if(66!==e)break;o.captureParams.push(n.string());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({pathDepth:Rt(e.pathDepth)?Number(e.pathDepth):0,pathLength:Rt(e.pathLength)?Number(e.pathLength):0,anchorLength:Rt(e.anchorLength)?Number(e.anchorLength):0,fragmentHandling:Rt(e.fragmentAsPath)?{$case:"fragmentAsPath",fragmentAsPath:Boolean(e.fragmentAsPath)}:Rt(e.fragmentAsQuery)?{$case:"fragmentAsQuery",fragmentAsQuery:Boolean(e.fragmentAsQuery)}:Rt(e.fragmentAsAnchor)?{$case:"fragmentAsAnchor",fragmentAsAnchor:Boolean(e.fragmentAsAnchor)}:void 0,tokenFilters:Array.isArray(null==e?void 0:e.tokenFilters)?e.tokenFilters.map((e=>kt.fromJSON(e))):[],captureParams:Array.isArray(null==e?void 0:e.captureParams)?e.captureParams.map((e=>String(e))):[]}),toJSON(e){var t,n,r,o,i,s;const a={};return void 0!==e.pathDepth&&(a.pathDepth=Math.round(e.pathDepth)),void 0!==e.pathLength&&(a.pathLength=Math.round(e.pathLength)),void 0!==e.anchorLength&&(a.anchorLength=Math.round(e.anchorLength)),"fragmentAsPath"===(null===(t=e.fragmentHandling)||void 0===t?void 0:t.$case)&&(a.fragmentAsPath=null===(n=e.fragmentHandling)||void 0===n?void 0:n.fragmentAsPath),"fragmentAsQuery"===(null===(r=e.fragmentHandling)||void 0===r?void 0:r.$case)&&(a.fragmentAsQuery=null===(o=e.fragmentHandling)||void 0===o?void 0:o.fragmentAsQuery),"fragmentAsAnchor"===(null===(i=e.fragmentHandling)||void 0===i?void 0:i.$case)&&(a.fragmentAsAnchor=null===(s=e.fragmentHandling)||void 0===s?void 0:s.fragmentAsAnchor),e.tokenFilters?a.tokenFilters=e.tokenFilters.map((e=>e?kt.toJSON(e):void 0)):a.tokenFilters=[],e.captureParams?a.captureParams=e.captureParams.map((e=>e)):a.captureParams=[],a},create:e=>wt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a,c,l,u,d,p,f,g;const h={pathDepth:0,pathLength:0,anchorLength:0,fragmentHandling:void 0,tokenFilters:[],captureParams:[]};return h.pathDepth=null!==(t=e.pathDepth)&&void 0!==t?t:0,h.pathLength=null!==(n=e.pathLength)&&void 0!==n?n:0,h.anchorLength=null!==(r=e.anchorLength)&&void 0!==r?r:0,"fragmentAsPath"===(null===(o=e.fragmentHandling)||void 0===o?void 0:o.$case)&&void 0!==(null===(i=e.fragmentHandling)||void 0===i?void 0:i.fragmentAsPath)&&null!==(null===(s=e.fragmentHandling)||void 0===s?void 0:s.fragmentAsPath)&&(h.fragmentHandling={$case:"fragmentAsPath",fragmentAsPath:e.fragmentHandling.fragmentAsPath}),"fragmentAsQuery"===(null===(a=e.fragmentHandling)||void 0===a?void 0:a.$case)&&void 0!==(null===(c=e.fragmentHandling)||void 0===c?void 0:c.fragmentAsQuery)&&null!==(null===(l=e.fragmentHandling)||void 0===l?void 0:l.fragmentAsQuery)&&(h.fragmentHandling={$case:"fragmentAsQuery",fragmentAsQuery:e.fragmentHandling.fragmentAsQuery}),"fragmentAsAnchor"===(null===(u=e.fragmentHandling)||void 0===u?void 0:u.$case)&&void 0!==(null===(d=e.fragmentHandling)||void 0===d?void 0:d.fragmentAsAnchor)&&null!==(null===(p=e.fragmentHandling)||void 0===p?void 0:p.fragmentAsAnchor)&&(h.fragmentHandling={$case:"fragmentAsAnchor",fragmentAsAnchor:e.fragmentHandling.fragmentAsAnchor}),h.tokenFilters=(null===(f=e.tokenFilters)||void 0===f?void 0:f.map((e=>kt.fromPartial(e))))||[],h.captureParams=(null===(g=e.captureParams)||void 0===g?void 0:g.map((e=>e)))||[],h}},It={encode(e,t=u().Writer.create()){for(const n of e.hosts)t.uint32(10).string(n);return void 0!==e.tokenRule&&wt.encode(e.tokenRule,t.uint32(18).fork()).ldelim(),t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={hosts:[],tokenRule:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.hosts.push(n.string());continue;case 2:if(18!==e)break;o.tokenRule=wt.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({hosts:Array.isArray(null==e?void 0:e.hosts)?e.hosts.map((e=>String(e))):[],tokenRule:Rt(e.tokenRule)?wt.fromJSON(e.tokenRule):void 0}),toJSON(e){const t={};return e.hosts?t.hosts=e.hosts.map((e=>e)):t.hosts=[],void 0!==e.tokenRule&&(t.tokenRule=e.tokenRule?wt.toJSON(e.tokenRule):void 0),t},create:e=>It.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={hosts:[],tokenRule:void 0};return n.hosts=(null===(t=e.hosts)||void 0===t?void 0:t.map((e=>e)))||[],n.tokenRule=void 0!==e.tokenRule&&null!==e.tokenRule?wt.fromPartial(e.tokenRule):void 0,n}},kt={encode:(e,t=u().Writer.create())=>(""!==e.regex&&t.uint32(10).string(e.regex),""!==e.substitute&&t.uint32(18).string(e.substitute),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={regex:"",substitute:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.regex=n.string();continue;case 2:if(18!==e)break;o.substitute=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({regex:Rt(e.regex)?String(e.regex):"",substitute:Rt(e.substitute)?String(e.substitute):""}),toJSON(e){const t={};return void 0!==e.regex&&(t.regex=e.regex),void 0!==e.substitute&&(t.substitute=e.substitute),t},create:e=>kt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={regex:"",substitute:""};return r.regex=null!==(t=e.regex)&&void 0!==t?t:"",r.substitute=null!==(n=e.substitute)&&void 0!==n?n:"",r}};function Rt(e){return null!=e}const Pt={encode:(e,t=u().Writer.create())=>(void 0!==e.revision&&ue.encode(e.revision,t.uint32(10).fork()).ldelim(),void 0!==e.beaconFrequency&&dt.encode(e.beaconFrequency,t.uint32(18).fork()).ldelim(),void 0!==e.keepAliveFrequency&&dt.encode(e.keepAliveFrequency,t.uint32(26).fork()).ldelim(),void 0!==e.installedExtensionFrequency&&dt.encode(e.installedExtensionFrequency,t.uint32(34).fork()).ldelim(),void 0!==e.transactionTimeout&&dt.encode(e.transactionTimeout,t.uint32(42).fork()).ldelim(),!0===e.disableUsageMonitoring&&t.uint32(48).bool(e.disableUsageMonitoring),0!==e.statusCodeThreshold&&t.uint32(56).uint32(e.statusCodeThreshold),void 0!==e.thresholds&&ht.encode(e.thresholds,t.uint32(66).fork()).ldelim(),void 0!==e.extensionBranding&&_t.encode(e.extensionBranding,t.uint32(74).fork()).ldelim(),void 0!==e.urlSanitization&&Ot.encode(e.urlSanitization,t.uint32(82).fork()).ldelim(),0!==e.maxFrameDepth&&t.uint32(88).uint32(e.maxFrameDepth),Object.entries(e.featureFlags).forEach((([e,n])=>{Ct.encode({key:e,value:n},t.uint32(98).fork()).ldelim()})),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={revision:void 0,beaconFrequency:void 0,keepAliveFrequency:void 0,installedExtensionFrequency:void 0,transactionTimeout:void 0,disableUsageMonitoring:!1,statusCodeThreshold:0,thresholds:void 0,extensionBranding:void 0,urlSanitization:void 0,maxFrameDepth:0,featureFlags:{}};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.revision=ue.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.beaconFrequency=dt.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.keepAliveFrequency=dt.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.installedExtensionFrequency=dt.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.transactionTimeout=dt.decode(n,n.uint32());continue;case 6:if(48!==e)break;o.disableUsageMonitoring=n.bool();continue;case 7:if(56!==e)break;o.statusCodeThreshold=n.uint32();continue;case 8:if(66!==e)break;o.thresholds=ht.decode(n,n.uint32());continue;case 9:if(74!==e)break;o.extensionBranding=_t.decode(n,n.uint32());continue;case 10:if(82!==e)break;o.urlSanitization=Ot.decode(n,n.uint32());continue;case 11:if(88!==e)break;o.maxFrameDepth=n.uint32();continue;case 12:if(98!==e)break;const t=Ct.decode(n,n.uint32());void 0!==t.value&&(o.featureFlags[t.key]=t.value);continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON(e){return{revision:Nt(e.revision)?ue.fromJSON(e.revision):void 0,beaconFrequency:Nt(e.beaconFrequency)?dt.fromJSON(e.beaconFrequency):void 0,keepAliveFrequency:Nt(e.keepAliveFrequency)?dt.fromJSON(e.keepAliveFrequency):void 0,installedExtensionFrequency:Nt(e.installedExtensionFrequency)?dt.fromJSON(e.installedExtensionFrequency):void 0,transactionTimeout:Nt(e.transactionTimeout)?dt.fromJSON(e.transactionTimeout):void 0,disableUsageMonitoring:!!Nt(e.disableUsageMonitoring)&&Boolean(e.disableUsageMonitoring),statusCodeThreshold:Nt(e.statusCodeThreshold)?Number(e.statusCodeThreshold):0,thresholds:Nt(e.thresholds)?ht.fromJSON(e.thresholds):void 0,extensionBranding:Nt(e.extensionBranding)?_t.fromJSON(e.extensionBranding):void 0,urlSanitization:Nt(e.urlSanitization)?Ot.fromJSON(e.urlSanitization):void 0,maxFrameDepth:Nt(e.maxFrameDepth)?Number(e.maxFrameDepth):0,featureFlags:(t=e.featureFlags,"object"==typeof t&&null!==t?Object.entries(e.featureFlags).reduce(((e,[t,n])=>(e[t]=Et.fromJSON(n),e)),{}):{})};var t},toJSON(e){const t={};return void 0!==e.revision&&(t.revision=e.revision?ue.toJSON(e.revision):void 0),void 0!==e.beaconFrequency&&(t.beaconFrequency=e.beaconFrequency?dt.toJSON(e.beaconFrequency):void 0),void 0!==e.keepAliveFrequency&&(t.keepAliveFrequency=e.keepAliveFrequency?dt.toJSON(e.keepAliveFrequency):void 0),void 0!==e.installedExtensionFrequency&&(t.installedExtensionFrequency=e.installedExtensionFrequency?dt.toJSON(e.installedExtensionFrequency):void 0),void 0!==e.transactionTimeout&&(t.transactionTimeout=e.transactionTimeout?dt.toJSON(e.transactionTimeout):void 0),void 0!==e.disableUsageMonitoring&&(t.disableUsageMonitoring=e.disableUsageMonitoring),void 0!==e.statusCodeThreshold&&(t.statusCodeThreshold=Math.round(e.statusCodeThreshold)),void 0!==e.thresholds&&(t.thresholds=e.thresholds?ht.toJSON(e.thresholds):void 0),void 0!==e.extensionBranding&&(t.extensionBranding=e.extensionBranding?_t.toJSON(e.extensionBranding):void 0),void 0!==e.urlSanitization&&(t.urlSanitization=e.urlSanitization?Ot.toJSON(e.urlSanitization):void 0),void 0!==e.maxFrameDepth&&(t.maxFrameDepth=Math.round(e.maxFrameDepth)),t.featureFlags={},e.featureFlags&&Object.entries(e.featureFlags).forEach((([e,n])=>{t.featureFlags[e]=Et.toJSON(n)})),t},create:e=>Pt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o;const i={revision:void 0,beaconFrequency:void 0,keepAliveFrequency:void 0,installedExtensionFrequency:void 0,transactionTimeout:void 0,disableUsageMonitoring:!1,statusCodeThreshold:0,thresholds:void 0,extensionBranding:void 0,urlSanitization:void 0,maxFrameDepth:0,featureFlags:{}};return i.revision=void 0!==e.revision&&null!==e.revision?ue.fromPartial(e.revision):void 0,i.beaconFrequency=void 0!==e.beaconFrequency&&null!==e.beaconFrequency?dt.fromPartial(e.beaconFrequency):void 0,i.keepAliveFrequency=void 0!==e.keepAliveFrequency&&null!==e.keepAliveFrequency?dt.fromPartial(e.keepAliveFrequency):void 0,i.installedExtensionFrequency=void 0!==e.installedExtensionFrequency&&null!==e.installedExtensionFrequency?dt.fromPartial(e.installedExtensionFrequency):void 0,i.transactionTimeout=void 0!==e.transactionTimeout&&null!==e.transactionTimeout?dt.fromPartial(e.transactionTimeout):void 0,i.disableUsageMonitoring=null!==(t=e.disableUsageMonitoring)&&void 0!==t&&t,i.statusCodeThreshold=null!==(n=e.statusCodeThreshold)&&void 0!==n?n:0,i.thresholds=void 0!==e.thresholds&&null!==e.thresholds?ht.fromPartial(e.thresholds):void 0,i.extensionBranding=void 0!==e.extensionBranding&&null!==e.extensionBranding?_t.fromPartial(e.extensionBranding):void 0,i.urlSanitization=void 0!==e.urlSanitization&&null!==e.urlSanitization?Ot.fromPartial(e.urlSanitization):void 0,i.maxFrameDepth=null!==(r=e.maxFrameDepth)&&void 0!==r?r:0,i.featureFlags=Object.entries(null!==(o=e.featureFlags)&&void 0!==o?o:{}).reduce(((e,[t,n])=>(void 0!==n&&(e[t]=Et.fromPartial(n)),e)),{}),i}},Ct={encode:(e,t=u().Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),void 0!==e.value&&Et.encode(e.value,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={key:"",value:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=n.string();continue;case 2:if(18!==e)break;o.value=Et.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({key:Nt(e.key)?String(e.key):"",value:Nt(e.value)?Et.fromJSON(e.value):void 0}),toJSON(e){const t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value?Et.toJSON(e.value):void 0),t},create:e=>Ct.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={key:"",value:void 0};return n.key=null!==(t=e.key)&&void 0!==t?t:"",n.value=void 0!==e.value&&null!==e.value?Et.fromPartial(e.value):void 0,n}};function Nt(e){return null!=e}const At={encode(e,t=u().Writer.create()){void 0!==e.id&&le.encode(e.id,t.uint32(10).fork()).ldelim(),void 0!==e.revision&&ue.encode(e.revision,t.uint32(18).fork()).ldelim(),""!==e.name&&t.uint32(26).string(e.name),void 0!==e.thresholds&&ht.encode(e.thresholds,t.uint32(34).fork()).ldelim();for(const n of e.rules)Dt.encode(n,t.uint32(42).fork()).ldelim();for(const n of e.keyPages)Lt.encode(n,t.uint32(50).fork()).ldelim();for(const n of e.transactions)nt.encode(n,t.uint32(58).fork()).ldelim();return!0===e.collectUrls&&t.uint32(64).bool(e.collectUrls),!0===e.softNavigationsEnabled&&t.uint32(72).bool(e.softNavigationsEnabled),t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={id:void 0,revision:void 0,name:"",thresholds:void 0,rules:[],keyPages:[],transactions:[],collectUrls:!1,softNavigationsEnabled:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=le.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.revision=ue.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.name=n.string();continue;case 4:if(34!==e)break;o.thresholds=ht.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.rules.push(Dt.decode(n,n.uint32()));continue;case 6:if(50!==e)break;o.keyPages.push(Lt.decode(n,n.uint32()));continue;case 7:if(58!==e)break;o.transactions.push(nt.decode(n,n.uint32()));continue;case 8:if(64!==e)break;o.collectUrls=n.bool();continue;case 9:if(72!==e)break;o.softNavigationsEnabled=n.bool();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({id:Mt(e.id)?le.fromJSON(e.id):void 0,revision:Mt(e.revision)?ue.fromJSON(e.revision):void 0,name:Mt(e.name)?String(e.name):"",thresholds:Mt(e.thresholds)?ht.fromJSON(e.thresholds):void 0,rules:Array.isArray(null==e?void 0:e.rules)?e.rules.map((e=>Dt.fromJSON(e))):[],keyPages:Array.isArray(null==e?void 0:e.keyPages)?e.keyPages.map((e=>Lt.fromJSON(e))):[],transactions:Array.isArray(null==e?void 0:e.transactions)?e.transactions.map((e=>nt.fromJSON(e))):[],collectUrls:!!Mt(e.collectUrls)&&Boolean(e.collectUrls),softNavigationsEnabled:!!Mt(e.softNavigationsEnabled)&&Boolean(e.softNavigationsEnabled)}),toJSON(e){const t={};return void 0!==e.id&&(t.id=e.id?le.toJSON(e.id):void 0),void 0!==e.revision&&(t.revision=e.revision?ue.toJSON(e.revision):void 0),void 0!==e.name&&(t.name=e.name),void 0!==e.thresholds&&(t.thresholds=e.thresholds?ht.toJSON(e.thresholds):void 0),e.rules?t.rules=e.rules.map((e=>e?Dt.toJSON(e):void 0)):t.rules=[],e.keyPages?t.keyPages=e.keyPages.map((e=>e?Lt.toJSON(e):void 0)):t.keyPages=[],e.transactions?t.transactions=e.transactions.map((e=>e?nt.toJSON(e):void 0)):t.transactions=[],void 0!==e.collectUrls&&(t.collectUrls=e.collectUrls),void 0!==e.softNavigationsEnabled&&(t.softNavigationsEnabled=e.softNavigationsEnabled),t},create:e=>At.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s;const a={id:void 0,revision:void 0,name:"",thresholds:void 0,rules:[],keyPages:[],transactions:[],collectUrls:!1,softNavigationsEnabled:!1};return a.id=void 0!==e.id&&null!==e.id?le.fromPartial(e.id):void 0,a.revision=void 0!==e.revision&&null!==e.revision?ue.fromPartial(e.revision):void 0,a.name=null!==(t=e.name)&&void 0!==t?t:"",a.thresholds=void 0!==e.thresholds&&null!==e.thresholds?ht.fromPartial(e.thresholds):void 0,a.rules=(null===(n=e.rules)||void 0===n?void 0:n.map((e=>Dt.fromPartial(e))))||[],a.keyPages=(null===(r=e.keyPages)||void 0===r?void 0:r.map((e=>Lt.fromPartial(e))))||[],a.transactions=(null===(o=e.transactions)||void 0===o?void 0:o.map((e=>nt.fromPartial(e))))||[],a.collectUrls=null!==(i=e.collectUrls)&&void 0!==i&&i,a.softNavigationsEnabled=null!==(s=e.softNavigationsEnabled)&&void 0!==s&&s,a}},Dt={encode:(e,t=u().Writer.create())=>(void 0!==e.id&&le.encode(e.id,t.uint32(10).fork()).ldelim(),""!==e.name&&t.uint32(18).string(e.name),""!==e.urlPattern&&t.uint32(26).string(e.urlPattern),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={id:void 0,name:"",urlPattern:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=le.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.name=n.string();continue;case 3:if(26!==e)break;o.urlPattern=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({id:Mt(e.id)?le.fromJSON(e.id):void 0,name:Mt(e.name)?String(e.name):"",urlPattern:Mt(e.urlPattern)?String(e.urlPattern):""}),toJSON(e){const t={};return void 0!==e.id&&(t.id=e.id?le.toJSON(e.id):void 0),void 0!==e.name&&(t.name=e.name),void 0!==e.urlPattern&&(t.urlPattern=e.urlPattern),t},create:e=>Dt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={id:void 0,name:"",urlPattern:""};return r.id=void 0!==e.id&&null!==e.id?le.fromPartial(e.id):void 0,r.name=null!==(t=e.name)&&void 0!==t?t:"",r.urlPattern=null!==(n=e.urlPattern)&&void 0!==n?n:"",r}},Lt={encode:(e,t=u().Writer.create())=>(void 0!==e.id&&le.encode(e.id,t.uint32(10).fork()).ldelim(),""!==e.name&&t.uint32(18).string(e.name),void 0!==e.rule&&Ut.encode(e.rule,t.uint32(26).fork()).ldelim(),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={id:void 0,name:"",rule:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=le.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.name=n.string();continue;case 3:if(26!==e)break;o.rule=Ut.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({id:Mt(e.id)?le.fromJSON(e.id):void 0,name:Mt(e.name)?String(e.name):"",rule:Mt(e.rule)?Ut.fromJSON(e.rule):void 0}),toJSON(e){const t={};return void 0!==e.id&&(t.id=e.id?le.toJSON(e.id):void 0),void 0!==e.name&&(t.name=e.name),void 0!==e.rule&&(t.rule=e.rule?Ut.toJSON(e.rule):void 0),t},create:e=>Lt.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={id:void 0,name:"",rule:void 0};return n.id=void 0!==e.id&&null!==e.id?le.fromPartial(e.id):void 0,n.name=null!==(t=e.name)&&void 0!==t?t:"",n.rule=void 0!==e.rule&&null!==e.rule?Ut.fromPartial(e.rule):void 0,n}},Ut={encode(e,t=u().Writer.create()){""!==e.expression&&t.uint32(10).string(e.expression);for(const n of e.appRuleIds)le.encode(n,t.uint32(18).fork()).ldelim();return t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={expression:"",appRuleIds:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.expression=n.string();continue;case 2:if(18!==e)break;o.appRuleIds.push(le.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({expression:Mt(e.expression)?String(e.expression):"",appRuleIds:Array.isArray(null==e?void 0:e.appRuleIds)?e.appRuleIds.map((e=>le.fromJSON(e))):[]}),toJSON(e){const t={};return void 0!==e.expression&&(t.expression=e.expression),e.appRuleIds?t.appRuleIds=e.appRuleIds.map((e=>e?le.toJSON(e):void 0)):t.appRuleIds=[],t},create:e=>Ut.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={expression:"",appRuleIds:[]};return r.expression=null!==(t=e.expression)&&void 0!==t?t:"",r.appRuleIds=(null===(n=e.appRuleIds)||void 0===n?void 0:n.map((e=>le.fromPartial(e))))||[],r}};function Mt(e){return null!=e}const jt={encode(e,t=u().Writer.create()){void 0!==e.extensionConfigRevision&&ue.encode(e.extensionConfigRevision,t.uint32(10).fork()).ldelim(),Object.entries(e.applicationRevisions).forEach((([e,n])=>{Ft.encode({key:e,value:n},t.uint32(18).fork()).ldelim()}));for(const n of e.configChanges)Bt.encode(n,t.uint32(26).fork()).ldelim();return t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={extensionConfigRevision:void 0,applicationRevisions:{},configChanges:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.extensionConfigRevision=ue.decode(n,n.uint32());continue;case 2:if(18!==e)break;const t=Ft.decode(n,n.uint32());void 0!==t.value&&(o.applicationRevisions[t.key]=t.value);continue;case 3:if(26!==e)break;o.configChanges.push(Bt.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON(e){return{extensionConfigRevision:qt(e.extensionConfigRevision)?ue.fromJSON(e.extensionConfigRevision):void 0,applicationRevisions:(t=e.applicationRevisions,"object"==typeof t&&null!==t?Object.entries(e.applicationRevisions).reduce(((e,[t,n])=>(e[t]=ue.fromJSON(n),e)),{}):{}),configChanges:Array.isArray(null==e?void 0:e.configChanges)?e.configChanges.map((e=>Bt.fromJSON(e))):[]};var t},toJSON(e){const t={};return void 0!==e.extensionConfigRevision&&(t.extensionConfigRevision=e.extensionConfigRevision?ue.toJSON(e.extensionConfigRevision):void 0),t.applicationRevisions={},e.applicationRevisions&&Object.entries(e.applicationRevisions).forEach((([e,n])=>{t.applicationRevisions[e]=ue.toJSON(n)})),e.configChanges?t.configChanges=e.configChanges.map((e=>e?Bt.toJSON(e):void 0)):t.configChanges=[],t},create:e=>jt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={extensionConfigRevision:void 0,applicationRevisions:{},configChanges:[]};return r.extensionConfigRevision=void 0!==e.extensionConfigRevision&&null!==e.extensionConfigRevision?ue.fromPartial(e.extensionConfigRevision):void 0,r.applicationRevisions=Object.entries(null!==(t=e.applicationRevisions)&&void 0!==t?t:{}).reduce(((e,[t,n])=>(void 0!==n&&(e[t]=ue.fromPartial(n)),e)),{}),r.configChanges=(null===(n=e.configChanges)||void 0===n?void 0:n.map((e=>Bt.fromPartial(e))))||[],r}},Ft={encode:(e,t=u().Writer.create())=>(""!==e.key&&t.uint32(10).string(e.key),void 0!==e.value&&ue.encode(e.value,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={key:"",value:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.key=n.string();continue;case 2:if(18!==e)break;o.value=ue.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({key:qt(e.key)?String(e.key):"",value:qt(e.value)?ue.fromJSON(e.value):void 0}),toJSON(e){const t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value?ue.toJSON(e.value):void 0),t},create:e=>Ft.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={key:"",value:void 0};return n.key=null!==(t=e.key)&&void 0!==t?t:"",n.value=void 0!==e.value&&null!==e.value?ue.fromPartial(e.value):void 0,n}},Bt={encode(e,t=u().Writer.create()){var n;switch(null===(n=e.value)||void 0===n?void 0:n.$case){case"extensionConfigUpdate":Pt.encode(e.value.extensionConfigUpdate,t.uint32(10).fork()).ldelim();break;case"webApplicationUpdate":At.encode(e.value.webApplicationUpdate,t.uint32(18).fork()).ldelim();break;case"webApplicationDeletion":Vt.encode(e.value.webApplicationDeletion,t.uint32(26).fork()).ldelim()}return t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={value:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value={$case:"extensionConfigUpdate",extensionConfigUpdate:Pt.decode(n,n.uint32())};continue;case 2:if(18!==e)break;o.value={$case:"webApplicationUpdate",webApplicationUpdate:At.decode(n,n.uint32())};continue;case 3:if(26!==e)break;o.value={$case:"webApplicationDeletion",webApplicationDeletion:Vt.decode(n,n.uint32())};continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({value:qt(e.extensionConfigUpdate)?{$case:"extensionConfigUpdate",extensionConfigUpdate:Pt.fromJSON(e.extensionConfigUpdate)}:qt(e.webApplicationUpdate)?{$case:"webApplicationUpdate",webApplicationUpdate:At.fromJSON(e.webApplicationUpdate)}:qt(e.webApplicationDeletion)?{$case:"webApplicationDeletion",webApplicationDeletion:Vt.fromJSON(e.webApplicationDeletion)}:void 0}),toJSON(e){var t,n,r,o,i,s,a,c,l;const u={};return"extensionConfigUpdate"===(null===(t=e.value)||void 0===t?void 0:t.$case)&&(u.extensionConfigUpdate=(null===(n=e.value)||void 0===n?void 0:n.extensionConfigUpdate)?Pt.toJSON(null===(r=e.value)||void 0===r?void 0:r.extensionConfigUpdate):void 0),"webApplicationUpdate"===(null===(o=e.value)||void 0===o?void 0:o.$case)&&(u.webApplicationUpdate=(null===(i=e.value)||void 0===i?void 0:i.webApplicationUpdate)?At.toJSON(null===(s=e.value)||void 0===s?void 0:s.webApplicationUpdate):void 0),"webApplicationDeletion"===(null===(a=e.value)||void 0===a?void 0:a.$case)&&(u.webApplicationDeletion=(null===(c=e.value)||void 0===c?void 0:c.webApplicationDeletion)?Vt.toJSON(null===(l=e.value)||void 0===l?void 0:l.webApplicationDeletion):void 0),u},create:e=>Bt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a,c,l;const u={value:void 0};return"extensionConfigUpdate"===(null===(t=e.value)||void 0===t?void 0:t.$case)&&void 0!==(null===(n=e.value)||void 0===n?void 0:n.extensionConfigUpdate)&&null!==(null===(r=e.value)||void 0===r?void 0:r.extensionConfigUpdate)&&(u.value={$case:"extensionConfigUpdate",extensionConfigUpdate:Pt.fromPartial(e.value.extensionConfigUpdate)}),"webApplicationUpdate"===(null===(o=e.value)||void 0===o?void 0:o.$case)&&void 0!==(null===(i=e.value)||void 0===i?void 0:i.webApplicationUpdate)&&null!==(null===(s=e.value)||void 0===s?void 0:s.webApplicationUpdate)&&(u.value={$case:"webApplicationUpdate",webApplicationUpdate:At.fromPartial(e.value.webApplicationUpdate)}),"webApplicationDeletion"===(null===(a=e.value)||void 0===a?void 0:a.$case)&&void 0!==(null===(c=e.value)||void 0===c?void 0:c.webApplicationDeletion)&&null!==(null===(l=e.value)||void 0===l?void 0:l.webApplicationDeletion)&&(u.value={$case:"webApplicationDeletion",webApplicationDeletion:Vt.fromPartial(e.value.webApplicationDeletion)}),u}},Vt={encode:(e,t=u().Writer.create())=>(void 0!==e.id&&le.encode(e.id,t.uint32(10).fork()).ldelim(),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={id:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=le.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({id:qt(e.id)?le.fromJSON(e.id):void 0}),toJSON(e){const t={};return void 0!==e.id&&(t.id=e.id?le.toJSON(e.id):void 0),t},create:e=>Vt.fromPartial(null!=e?e:{}),fromPartial(e){const t={id:void 0};return t.id=void 0!==e.id&&null!==e.id?le.fromPartial(e.id):void 0,t}};function qt(e){return null!=e}const Yt={encode:(e,t=u().Writer.create())=>(0!==e.resourcesCount&&t.uint32(8).uint32(e.resourcesCount),void 0!==e.longestResourceDuration&&dt.encode(e.longestResourceDuration,t.uint32(18).fork()).ldelim(),0!==e.largeResourcesCount&&t.uint32(24).uint32(e.largeResourcesCount),0!==e.resourceErrorsCount&&t.uint32(32).uint32(e.resourceErrorsCount),void 0!==e.longestResource&&Wt.encode(e.longestResource,t.uint32(42).fork()).ldelim(),void 0!==e.largestResource&&Wt.encode(e.largestResource,t.uint32(50).fork()).ldelim(),0!==e.cacheRatio&&t.uint32(61).float(e.cacheRatio),0!==e.domainsContacted&&t.uint32(64).uint32(e.domainsContacted),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={resourcesCount:0,longestResourceDuration:void 0,largeResourcesCount:0,resourceErrorsCount:0,longestResource:void 0,largestResource:void 0,cacheRatio:0,domainsContacted:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.resourcesCount=n.uint32();continue;case 2:if(18!==e)break;o.longestResourceDuration=dt.decode(n,n.uint32());continue;case 3:if(24!==e)break;o.largeResourcesCount=n.uint32();continue;case 4:if(32!==e)break;o.resourceErrorsCount=n.uint32();continue;case 5:if(42!==e)break;o.longestResource=Wt.decode(n,n.uint32());continue;case 6:if(50!==e)break;o.largestResource=Wt.decode(n,n.uint32());continue;case 7:if(61!==e)break;o.cacheRatio=n.float();continue;case 8:if(64!==e)break;o.domainsContacted=n.uint32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({resourcesCount:zt(e.resourcesCount)?Number(e.resourcesCount):0,longestResourceDuration:zt(e.longestResourceDuration)?dt.fromJSON(e.longestResourceDuration):void 0,largeResourcesCount:zt(e.largeResourcesCount)?Number(e.largeResourcesCount):0,resourceErrorsCount:zt(e.resourceErrorsCount)?Number(e.resourceErrorsCount):0,longestResource:zt(e.longestResource)?Wt.fromJSON(e.longestResource):void 0,largestResource:zt(e.largestResource)?Wt.fromJSON(e.largestResource):void 0,cacheRatio:zt(e.cacheRatio)?Number(e.cacheRatio):0,domainsContacted:zt(e.domainsContacted)?Number(e.domainsContacted):0}),toJSON(e){const t={};return void 0!==e.resourcesCount&&(t.resourcesCount=Math.round(e.resourcesCount)),void 0!==e.longestResourceDuration&&(t.longestResourceDuration=e.longestResourceDuration?dt.toJSON(e.longestResourceDuration):void 0),void 0!==e.largeResourcesCount&&(t.largeResourcesCount=Math.round(e.largeResourcesCount)),void 0!==e.resourceErrorsCount&&(t.resourceErrorsCount=Math.round(e.resourceErrorsCount)),void 0!==e.longestResource&&(t.longestResource=e.longestResource?Wt.toJSON(e.longestResource):void 0),void 0!==e.largestResource&&(t.largestResource=e.largestResource?Wt.toJSON(e.largestResource):void 0),void 0!==e.cacheRatio&&(t.cacheRatio=e.cacheRatio),void 0!==e.domainsContacted&&(t.domainsContacted=Math.round(e.domainsContacted)),t},create:e=>Yt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i;const s={resourcesCount:0,longestResourceDuration:void 0,largeResourcesCount:0,resourceErrorsCount:0,longestResource:void 0,largestResource:void 0,cacheRatio:0,domainsContacted:0};return s.resourcesCount=null!==(t=e.resourcesCount)&&void 0!==t?t:0,s.longestResourceDuration=void 0!==e.longestResourceDuration&&null!==e.longestResourceDuration?dt.fromPartial(e.longestResourceDuration):void 0,s.largeResourcesCount=null!==(n=e.largeResourcesCount)&&void 0!==n?n:0,s.resourceErrorsCount=null!==(r=e.resourceErrorsCount)&&void 0!==r?r:0,s.longestResource=void 0!==e.longestResource&&null!==e.longestResource?Wt.fromPartial(e.longestResource):void 0,s.largestResource=void 0!==e.largestResource&&null!==e.largestResource?Wt.fromPartial(e.largestResource):void 0,s.cacheRatio=null!==(o=e.cacheRatio)&&void 0!==o?o:0,s.domainsContacted=null!==(i=e.domainsContacted)&&void 0!==i?i:0,s}},Wt={encode:(e,t=u().Writer.create())=>(""!==e.url&&t.uint32(10).string(e.url),0!==e.transferSize&&t.uint32(16).uint64(e.transferSize),void 0!==e.duration&&dt.encode(e.duration,t.uint32(26).fork()).ldelim(),""!==e.type&&t.uint32(34).string(e.type),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={url:"",transferSize:0,duration:void 0,type:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.url=n.string();continue;case 2:if(16!==e)break;o.transferSize=Ht(n.uint64());continue;case 3:if(26!==e)break;o.duration=dt.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.type=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({url:zt(e.url)?String(e.url):"",transferSize:zt(e.transferSize)?Number(e.transferSize):0,duration:zt(e.duration)?dt.fromJSON(e.duration):void 0,type:zt(e.type)?String(e.type):""}),toJSON(e){const t={};return void 0!==e.url&&(t.url=e.url),void 0!==e.transferSize&&(t.transferSize=Math.round(e.transferSize)),void 0!==e.duration&&(t.duration=e.duration?dt.toJSON(e.duration):void 0),void 0!==e.type&&(t.type=e.type),t},create:e=>Wt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={url:"",transferSize:0,duration:void 0,type:""};return o.url=null!==(t=e.url)&&void 0!==t?t:"",o.transferSize=null!==(n=e.transferSize)&&void 0!==n?n:0,o.duration=void 0!==e.duration&&null!==e.duration?dt.fromPartial(e.duration):void 0,o.type=null!==(r=e.type)&&void 0!==r?r:"",o}};var Gt,Jt=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function Ht(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new Jt.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function zt(e){return null!=e}function $t(e){switch(e){case 0:case"TRANSACTION_STATUS_UNSPECIFIED":return Gt.TRANSACTION_STATUS_UNSPECIFIED;case 1:case"TRANSACTION_STATUS_COMPLETED":return Gt.TRANSACTION_STATUS_COMPLETED;case 2:case"TRANSACTION_STATUS_FAILED":return Gt.TRANSACTION_STATUS_FAILED;case 3:case"TRANSACTION_STATUS_TIME_OUT":return Gt.TRANSACTION_STATUS_TIME_OUT;case 4:case"TRANSACTION_STATUS_ABORTED_UNLOAD":return Gt.TRANSACTION_STATUS_ABORTED_UNLOAD;case 5:case"TRANSACTION_STATUS_ABORTED_NEW":return Gt.TRANSACTION_STATUS_ABORTED_NEW;case 6:case"TRANSACTION_STATUS_ABORTED_INPUT":return Gt.TRANSACTION_STATUS_ABORTED_INPUT;default:throw new Qt.Error("Unrecognized enum value "+e+" for enum TransactionStatus")}}u().util.Long!==Me&&(u().util.Long=Me,u().configure()),function(e){e[e.TRANSACTION_STATUS_UNSPECIFIED=0]="TRANSACTION_STATUS_UNSPECIFIED",e[e.TRANSACTION_STATUS_COMPLETED=1]="TRANSACTION_STATUS_COMPLETED",e[e.TRANSACTION_STATUS_FAILED=2]="TRANSACTION_STATUS_FAILED",e[e.TRANSACTION_STATUS_TIME_OUT=3]="TRANSACTION_STATUS_TIME_OUT",e[e.TRANSACTION_STATUS_ABORTED_UNLOAD=4]="TRANSACTION_STATUS_ABORTED_UNLOAD",e[e.TRANSACTION_STATUS_ABORTED_NEW=5]="TRANSACTION_STATUS_ABORTED_NEW",e[e.TRANSACTION_STATUS_ABORTED_INPUT=6]="TRANSACTION_STATUS_ABORTED_INPUT"}(Gt||(Gt={}));const Kt={encode:(e,t=u().Writer.create())=>(0!==e.startTimestamp&&t.uint32(9).double(e.startTimestamp),""!==e.transactionMonitorId&&t.uint32(18).string(e.transactionMonitorId),0!==e.status&&t.uint32(24).int32(e.status),void 0!==e.triggerMonitorId&&t.uint32(34).string(e.triggerMonitorId),!0===e.triggeredByKeyboardShortcut&&t.uint32(40).bool(e.triggeredByKeyboardShortcut),void 0!==e.endMonitorId&&t.uint32(50).string(e.endMonitorId),void 0!==e.endErrorCode&&t.uint32(64).uint32(e.endErrorCode),0!==e.durationSeconds&&t.uint32(85).float(e.durationSeconds),0!==e.perceivedExperienceLevel&&t.uint32(88).int32(e.perceivedExperienceLevel),void 0!==e.clientDurationSeconds&&t.uint32(101).float(e.clientDurationSeconds),void 0!==e.networkDurationSeconds&&t.uint32(109).float(e.networkDurationSeconds),void 0!==e.backendDurationSeconds&&t.uint32(117).float(e.backendDurationSeconds),""!==e.experimental&&t.uint32(122).string(e.experimental),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={startTimestamp:0,transactionMonitorId:"",status:0,triggerMonitorId:void 0,triggeredByKeyboardShortcut:!1,endMonitorId:void 0,endErrorCode:void 0,durationSeconds:0,perceivedExperienceLevel:0,clientDurationSeconds:void 0,networkDurationSeconds:void 0,backendDurationSeconds:void 0,experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(9!==e)break;o.startTimestamp=n.double();continue;case 2:if(18!==e)break;o.transactionMonitorId=n.string();continue;case 3:if(24!==e)break;o.status=n.int32();continue;case 4:if(34!==e)break;o.triggerMonitorId=n.string();continue;case 5:if(40!==e)break;o.triggeredByKeyboardShortcut=n.bool();continue;case 6:if(50!==e)break;o.endMonitorId=n.string();continue;case 8:if(64!==e)break;o.endErrorCode=n.uint32();continue;case 10:if(85!==e)break;o.durationSeconds=n.float();continue;case 11:if(88!==e)break;o.perceivedExperienceLevel=n.int32();continue;case 12:if(101!==e)break;o.clientDurationSeconds=n.float();continue;case 13:if(109!==e)break;o.networkDurationSeconds=n.float();continue;case 14:if(117!==e)break;o.backendDurationSeconds=n.float();continue;case 15:if(122!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({startTimestamp:Zt(e.startTimestamp)?Number(e.startTimestamp):0,transactionMonitorId:Zt(e.transactionMonitorId)?String(e.transactionMonitorId):"",status:Zt(e.status)?$t(e.status):0,triggerMonitorId:Zt(e.triggerMonitorId)?String(e.triggerMonitorId):void 0,triggeredByKeyboardShortcut:!!Zt(e.triggeredByKeyboardShortcut)&&Boolean(e.triggeredByKeyboardShortcut),endMonitorId:Zt(e.endMonitorId)?String(e.endMonitorId):void 0,endErrorCode:Zt(e.endErrorCode)?Number(e.endErrorCode):void 0,durationSeconds:Zt(e.durationSeconds)?Number(e.durationSeconds):0,perceivedExperienceLevel:Zt(e.perceivedExperienceLevel)?Ze(e.perceivedExperienceLevel):0,clientDurationSeconds:Zt(e.clientDurationSeconds)?Number(e.clientDurationSeconds):void 0,networkDurationSeconds:Zt(e.networkDurationSeconds)?Number(e.networkDurationSeconds):void 0,backendDurationSeconds:Zt(e.backendDurationSeconds)?Number(e.backendDurationSeconds):void 0,experimental:Zt(e.experimental)?String(e.experimental):""}),toJSON(e){const t={};return void 0!==e.startTimestamp&&(t.startTimestamp=e.startTimestamp),void 0!==e.transactionMonitorId&&(t.transactionMonitorId=e.transactionMonitorId),void 0!==e.status&&(t.status=function(e){switch(e){case Gt.TRANSACTION_STATUS_UNSPECIFIED:return"TRANSACTION_STATUS_UNSPECIFIED";case Gt.TRANSACTION_STATUS_COMPLETED:return"TRANSACTION_STATUS_COMPLETED";case Gt.TRANSACTION_STATUS_FAILED:return"TRANSACTION_STATUS_FAILED";case Gt.TRANSACTION_STATUS_TIME_OUT:return"TRANSACTION_STATUS_TIME_OUT";case Gt.TRANSACTION_STATUS_ABORTED_UNLOAD:return"TRANSACTION_STATUS_ABORTED_UNLOAD";case Gt.TRANSACTION_STATUS_ABORTED_NEW:return"TRANSACTION_STATUS_ABORTED_NEW";case Gt.TRANSACTION_STATUS_ABORTED_INPUT:return"TRANSACTION_STATUS_ABORTED_INPUT";default:throw new Qt.Error("Unrecognized enum value "+e+" for enum TransactionStatus")}}(e.status)),void 0!==e.triggerMonitorId&&(t.triggerMonitorId=e.triggerMonitorId),void 0!==e.triggeredByKeyboardShortcut&&(t.triggeredByKeyboardShortcut=e.triggeredByKeyboardShortcut),void 0!==e.endMonitorId&&(t.endMonitorId=e.endMonitorId),void 0!==e.endErrorCode&&(t.endErrorCode=Math.round(e.endErrorCode)),void 0!==e.durationSeconds&&(t.durationSeconds=e.durationSeconds),void 0!==e.perceivedExperienceLevel&&(t.perceivedExperienceLevel=et(e.perceivedExperienceLevel)),void 0!==e.clientDurationSeconds&&(t.clientDurationSeconds=e.clientDurationSeconds),void 0!==e.networkDurationSeconds&&(t.networkDurationSeconds=e.networkDurationSeconds),void 0!==e.backendDurationSeconds&&(t.backendDurationSeconds=e.backendDurationSeconds),void 0!==e.experimental&&(t.experimental=e.experimental),t},create:e=>Kt.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a,c,l,u,d,p,f;const g={startTimestamp:0,transactionMonitorId:"",status:0,triggerMonitorId:void 0,triggeredByKeyboardShortcut:!1,endMonitorId:void 0,endErrorCode:void 0,durationSeconds:0,perceivedExperienceLevel:0,clientDurationSeconds:void 0,networkDurationSeconds:void 0,backendDurationSeconds:void 0,experimental:""};return g.startTimestamp=null!==(t=e.startTimestamp)&&void 0!==t?t:0,g.transactionMonitorId=null!==(n=e.transactionMonitorId)&&void 0!==n?n:"",g.status=null!==(r=e.status)&&void 0!==r?r:0,g.triggerMonitorId=null!==(o=e.triggerMonitorId)&&void 0!==o?o:void 0,g.triggeredByKeyboardShortcut=null!==(i=e.triggeredByKeyboardShortcut)&&void 0!==i&&i,g.endMonitorId=null!==(s=e.endMonitorId)&&void 0!==s?s:void 0,g.endErrorCode=null!==(a=e.endErrorCode)&&void 0!==a?a:void 0,g.durationSeconds=null!==(c=e.durationSeconds)&&void 0!==c?c:0,g.perceivedExperienceLevel=null!==(l=e.perceivedExperienceLevel)&&void 0!==l?l:0,g.clientDurationSeconds=null!==(u=e.clientDurationSeconds)&&void 0!==u?u:void 0,g.networkDurationSeconds=null!==(d=e.networkDurationSeconds)&&void 0!==d?d:void 0,g.backendDurationSeconds=null!==(p=e.backendDurationSeconds)&&void 0!==p?p:void 0,g.experimental=null!==(f=e.experimental)&&void 0!==f?f:"",g}};var Xt,Qt=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function Zt(e){return null!=e}function en(e){switch(e){case 0:case"FEEDBACK_CATEGORY_UNSPECIFIED":return Xt.FEEDBACK_CATEGORY_UNSPECIFIED;case 1:case"FEEDBACK_CATEGORY_BROKEN":return Xt.FEEDBACK_CATEGORY_BROKEN;case 2:case"FEEDBACK_CATEGORY_SLOW":return Xt.FEEDBACK_CATEGORY_SLOW;case 3:case"FEEDBACK_CATEGORY_UNRESPONSIVE":return Xt.FEEDBACK_CATEGORY_UNRESPONSIVE;case 4:case"FEEDBACK_CATEGORY_UGLY":return Xt.FEEDBACK_CATEGORY_UGLY;default:throw new rn.Error("Unrecognized enum value "+e+" for enum FeedbackCategory")}}!function(e){e[e.FEEDBACK_CATEGORY_UNSPECIFIED=0]="FEEDBACK_CATEGORY_UNSPECIFIED",e[e.FEEDBACK_CATEGORY_BROKEN=1]="FEEDBACK_CATEGORY_BROKEN",e[e.FEEDBACK_CATEGORY_SLOW=2]="FEEDBACK_CATEGORY_SLOW",e[e.FEEDBACK_CATEGORY_UNRESPONSIVE=3]="FEEDBACK_CATEGORY_UNRESPONSIVE",e[e.FEEDBACK_CATEGORY_UGLY=4]="FEEDBACK_CATEGORY_UGLY"}(Xt||(Xt={}));const tn={encode:(e,t=u().Writer.create())=>(0!==e.createdTimestamp&&t.uint32(9).double(e.createdTimestamp),0!==e.category&&t.uint32(32).int32(e.category),""!==e.message&&t.uint32(42).string(e.message),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={createdTimestamp:0,category:0,message:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(9!==e)break;o.createdTimestamp=n.double();continue;case 4:if(32!==e)break;o.category=n.int32();continue;case 5:if(42!==e)break;o.message=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({createdTimestamp:on(e.createdTimestamp)?Number(e.createdTimestamp):0,category:on(e.category)?en(e.category):0,message:on(e.message)?String(e.message):""}),toJSON(e){const t={};return void 0!==e.createdTimestamp&&(t.createdTimestamp=e.createdTimestamp),void 0!==e.category&&(t.category=function(e){switch(e){case Xt.FEEDBACK_CATEGORY_UNSPECIFIED:return"FEEDBACK_CATEGORY_UNSPECIFIED";case Xt.FEEDBACK_CATEGORY_BROKEN:return"FEEDBACK_CATEGORY_BROKEN";case Xt.FEEDBACK_CATEGORY_SLOW:return"FEEDBACK_CATEGORY_SLOW";case Xt.FEEDBACK_CATEGORY_UNRESPONSIVE:return"FEEDBACK_CATEGORY_UNRESPONSIVE";case Xt.FEEDBACK_CATEGORY_UGLY:return"FEEDBACK_CATEGORY_UGLY";default:throw new rn.Error("Unrecognized enum value "+e+" for enum FeedbackCategory")}}(e.category)),void 0!==e.message&&(t.message=e.message),t},create:e=>tn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={createdTimestamp:0,category:0,message:""};return o.createdTimestamp=null!==(t=e.createdTimestamp)&&void 0!==t?t:0,o.category=null!==(n=e.category)&&void 0!==n?n:0,o.message=null!==(r=e.message)&&void 0!==r?r:"",o}};var nn,rn=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function on(e){return null!=e}function sn(e){switch(e){case 0:case"ACTIVITY_CONDITIONS_UNSPECIFIED":return nn.ACTIVITY_CONDITIONS_UNSPECIFIED;case 1:case"ACTIVITY_CONDITIONS_NORMAL":return nn.ACTIVITY_CONDITIONS_NORMAL;case 2:case"ACTIVITY_CONDITIONS_SLOW":return nn.ACTIVITY_CONDITIONS_SLOW;case 3:case"ACTIVITY_CONDITIONS_ERROR":return nn.ACTIVITY_CONDITIONS_ERROR;default:throw new ln.Error("Unrecognized enum value "+e+" for enum ActivityConditions")}}!function(e){e[e.ACTIVITY_CONDITIONS_UNSPECIFIED=0]="ACTIVITY_CONDITIONS_UNSPECIFIED",e[e.ACTIVITY_CONDITIONS_NORMAL=1]="ACTIVITY_CONDITIONS_NORMAL",e[e.ACTIVITY_CONDITIONS_SLOW=2]="ACTIVITY_CONDITIONS_SLOW",e[e.ACTIVITY_CONDITIONS_ERROR=3]="ACTIVITY_CONDITIONS_ERROR"}(nn||(nn={}));const an={encode(e,t=u().Writer.create()){for(const n of e.timers)cn.encode(n,t.uint32(10).fork()).ldelim();return""!==e.experimental&&t.uint32(122).string(e.experimental),t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={timers:[],experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.timers.push(cn.decode(n,n.uint32()));continue;case 15:if(122!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({timers:Array.isArray(null==e?void 0:e.timers)?e.timers.map((e=>cn.fromJSON(e))):[],experimental:un(e.experimental)?String(e.experimental):""}),toJSON(e){const t={};return e.timers?t.timers=e.timers.map((e=>e?cn.toJSON(e):void 0)):t.timers=[],void 0!==e.experimental&&(t.experimental=e.experimental),t},create:e=>an.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={timers:[],experimental:""};return r.timers=(null===(t=e.timers)||void 0===t?void 0:t.map((e=>cn.fromPartial(e))))||[],r.experimental=null!==(n=e.experimental)&&void 0!==n?n:"",r}},cn={encode:(e,t=u().Writer.create())=>(0!==e.activityLevel&&t.uint32(8).int32(e.activityLevel),0!==e.conditions&&t.uint32(16).int32(e.conditions),0!==e.durationSeconds&&t.uint32(29).float(e.durationSeconds),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={activityLevel:0,conditions:0,durationSeconds:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.activityLevel=n.int32();continue;case 2:if(16!==e)break;o.conditions=n.int32();continue;case 3:if(29!==e)break;o.durationSeconds=n.float();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({activityLevel:un(e.activityLevel)?Xe(e.activityLevel):0,conditions:un(e.conditions)?sn(e.conditions):0,durationSeconds:un(e.durationSeconds)?Number(e.durationSeconds):0}),toJSON(e){const t={};return void 0!==e.activityLevel&&(t.activityLevel=Qe(e.activityLevel)),void 0!==e.conditions&&(t.conditions=function(e){switch(e){case nn.ACTIVITY_CONDITIONS_UNSPECIFIED:return"ACTIVITY_CONDITIONS_UNSPECIFIED";case nn.ACTIVITY_CONDITIONS_NORMAL:return"ACTIVITY_CONDITIONS_NORMAL";case nn.ACTIVITY_CONDITIONS_SLOW:return"ACTIVITY_CONDITIONS_SLOW";case nn.ACTIVITY_CONDITIONS_ERROR:return"ACTIVITY_CONDITIONS_ERROR";default:throw new ln.Error("Unrecognized enum value "+e+" for enum ActivityConditions")}}(e.conditions)),void 0!==e.durationSeconds&&(t.durationSeconds=e.durationSeconds),t},create:e=>cn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={activityLevel:0,conditions:0,durationSeconds:0};return o.activityLevel=null!==(t=e.activityLevel)&&void 0!==t?t:0,o.conditions=null!==(n=e.conditions)&&void 0!==n?n:0,o.durationSeconds=null!==(r=e.durationSeconds)&&void 0!==r?r:0,o}};var ln=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function un(e){return null!=e}const dn={encode:(e,t=u().Writer.create())=>(0!==e.startTimestamp&&t.uint32(9).double(e.startTimestamp),0!==e.status&&t.uint32(16).int32(e.status),void 0!==e.perceivedDurationSeconds&&t.uint32(53).float(e.perceivedDurationSeconds),void 0!==e.readinessTiming&&fn.encode(e.readinessTiming,t.uint32(58).fork()).ldelim(),void 0!==e.pageLoadTiming&&gn.encode(e.pageLoadTiming,t.uint32(66).fork()).ldelim(),0!==e.perceivedExperienceLevel&&t.uint32(72).int32(e.perceivedExperienceLevel),void 0!==e.waterfallData&&Yt.encode(e.waterfallData,t.uint32(82).fork()).ldelim(),""!==e.experimental&&t.uint32(122).string(e.experimental),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={startTimestamp:0,status:0,perceivedDurationSeconds:void 0,readinessTiming:void 0,pageLoadTiming:void 0,perceivedExperienceLevel:0,waterfallData:void 0,experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(9!==e)break;o.startTimestamp=n.double();continue;case 2:if(16!==e)break;o.status=n.int32();continue;case 6:if(53!==e)break;o.perceivedDurationSeconds=n.float();continue;case 7:if(58!==e)break;o.readinessTiming=fn.decode(n,n.uint32());continue;case 8:if(66!==e)break;o.pageLoadTiming=gn.decode(n,n.uint32());continue;case 9:if(72!==e)break;o.perceivedExperienceLevel=n.int32();continue;case 10:if(82!==e)break;o.waterfallData=Yt.decode(n,n.uint32());continue;case 15:if(122!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({startTimestamp:mn(e.startTimestamp)?Number(e.startTimestamp):0,status:mn(e.status)?He(e.status):0,perceivedDurationSeconds:mn(e.perceivedDurationSeconds)?Number(e.perceivedDurationSeconds):void 0,readinessTiming:mn(e.readinessTiming)?fn.fromJSON(e.readinessTiming):void 0,pageLoadTiming:mn(e.pageLoadTiming)?gn.fromJSON(e.pageLoadTiming):void 0,perceivedExperienceLevel:mn(e.perceivedExperienceLevel)?Ze(e.perceivedExperienceLevel):0,waterfallData:mn(e.waterfallData)?Yt.fromJSON(e.waterfallData):void 0,experimental:mn(e.experimental)?String(e.experimental):""}),toJSON(e){const t={};return void 0!==e.startTimestamp&&(t.startTimestamp=e.startTimestamp),void 0!==e.status&&(t.status=ze(e.status)),void 0!==e.perceivedDurationSeconds&&(t.perceivedDurationSeconds=e.perceivedDurationSeconds),void 0!==e.readinessTiming&&(t.readinessTiming=e.readinessTiming?fn.toJSON(e.readinessTiming):void 0),void 0!==e.pageLoadTiming&&(t.pageLoadTiming=e.pageLoadTiming?gn.toJSON(e.pageLoadTiming):void 0),void 0!==e.perceivedExperienceLevel&&(t.perceivedExperienceLevel=et(e.perceivedExperienceLevel)),void 0!==e.waterfallData&&(t.waterfallData=e.waterfallData?Yt.toJSON(e.waterfallData):void 0),void 0!==e.experimental&&(t.experimental=e.experimental),t},create:e=>dn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i;const s={startTimestamp:0,status:0,perceivedDurationSeconds:void 0,readinessTiming:void 0,pageLoadTiming:void 0,perceivedExperienceLevel:0,waterfallData:void 0,experimental:""};return s.startTimestamp=null!==(t=e.startTimestamp)&&void 0!==t?t:0,s.status=null!==(n=e.status)&&void 0!==n?n:0,s.perceivedDurationSeconds=null!==(r=e.perceivedDurationSeconds)&&void 0!==r?r:void 0,s.readinessTiming=void 0!==e.readinessTiming&&null!==e.readinessTiming?fn.fromPartial(e.readinessTiming):void 0,s.pageLoadTiming=void 0!==e.pageLoadTiming&&null!==e.pageLoadTiming?gn.fromPartial(e.pageLoadTiming):void 0,s.perceivedExperienceLevel=null!==(o=e.perceivedExperienceLevel)&&void 0!==o?o:0,s.waterfallData=void 0!==e.waterfallData&&null!==e.waterfallData?Yt.fromPartial(e.waterfallData):void 0,s.experimental=null!==(i=e.experimental)&&void 0!==i?i:"",s}},pn={encode:(e,t=u().Writer.create())=>(0!==e.startTimestamp&&t.uint32(9).double(e.startTimestamp),0!==e.status&&t.uint32(16).int32(e.status),void 0!==e.perceivedDurationSeconds&&t.uint32(53).float(e.perceivedDurationSeconds),void 0!==e.readinessTiming&&fn.encode(e.readinessTiming,t.uint32(58).fork()).ldelim(),0!==e.perceivedExperienceLevel&&t.uint32(72).int32(e.perceivedExperienceLevel),void 0!==e.waterfallData&&Yt.encode(e.waterfallData,t.uint32(82).fork()).ldelim(),""!==e.experimental&&t.uint32(122).string(e.experimental),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={startTimestamp:0,status:0,perceivedDurationSeconds:void 0,readinessTiming:void 0,perceivedExperienceLevel:0,waterfallData:void 0,experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(9!==e)break;o.startTimestamp=n.double();continue;case 2:if(16!==e)break;o.status=n.int32();continue;case 6:if(53!==e)break;o.perceivedDurationSeconds=n.float();continue;case 7:if(58!==e)break;o.readinessTiming=fn.decode(n,n.uint32());continue;case 9:if(72!==e)break;o.perceivedExperienceLevel=n.int32();continue;case 10:if(82!==e)break;o.waterfallData=Yt.decode(n,n.uint32());continue;case 15:if(122!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({startTimestamp:mn(e.startTimestamp)?Number(e.startTimestamp):0,status:mn(e.status)?He(e.status):0,perceivedDurationSeconds:mn(e.perceivedDurationSeconds)?Number(e.perceivedDurationSeconds):void 0,readinessTiming:mn(e.readinessTiming)?fn.fromJSON(e.readinessTiming):void 0,perceivedExperienceLevel:mn(e.perceivedExperienceLevel)?Ze(e.perceivedExperienceLevel):0,waterfallData:mn(e.waterfallData)?Yt.fromJSON(e.waterfallData):void 0,experimental:mn(e.experimental)?String(e.experimental):""}),toJSON(e){const t={};return void 0!==e.startTimestamp&&(t.startTimestamp=e.startTimestamp),void 0!==e.status&&(t.status=ze(e.status)),void 0!==e.perceivedDurationSeconds&&(t.perceivedDurationSeconds=e.perceivedDurationSeconds),void 0!==e.readinessTiming&&(t.readinessTiming=e.readinessTiming?fn.toJSON(e.readinessTiming):void 0),void 0!==e.perceivedExperienceLevel&&(t.perceivedExperienceLevel=et(e.perceivedExperienceLevel)),void 0!==e.waterfallData&&(t.waterfallData=e.waterfallData?Yt.toJSON(e.waterfallData):void 0),void 0!==e.experimental&&(t.experimental=e.experimental),t},create:e=>pn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i;const s={startTimestamp:0,status:0,perceivedDurationSeconds:void 0,readinessTiming:void 0,perceivedExperienceLevel:0,waterfallData:void 0,experimental:""};return s.startTimestamp=null!==(t=e.startTimestamp)&&void 0!==t?t:0,s.status=null!==(n=e.status)&&void 0!==n?n:0,s.perceivedDurationSeconds=null!==(r=e.perceivedDurationSeconds)&&void 0!==r?r:void 0,s.readinessTiming=void 0!==e.readinessTiming&&null!==e.readinessTiming?fn.fromPartial(e.readinessTiming):void 0,s.perceivedExperienceLevel=null!==(o=e.perceivedExperienceLevel)&&void 0!==o?o:0,s.waterfallData=void 0!==e.waterfallData&&null!==e.waterfallData?Yt.fromPartial(e.waterfallData):void 0,s.experimental=null!==(i=e.experimental)&&void 0!==i?i:"",s}},fn={encode:(e,t=u().Writer.create())=>(void 0!==e.stableDomSeconds&&t.uint32(21).float(e.stableDomSeconds),void 0!==e.firstInteractionSeconds&&t.uint32(29).float(e.firstInteractionSeconds),void 0!==e.transactionSeconds&&t.uint32(37).float(e.transactionSeconds),void 0!==e.clientDurationSeconds&&t.uint32(45).float(e.clientDurationSeconds),void 0!==e.networkDurationSeconds&&t.uint32(53).float(e.networkDurationSeconds),void 0!==e.backendDurationSeconds&&t.uint32(61).float(e.backendDurationSeconds),""!==e.experimental&&t.uint32(122).string(e.experimental),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={stableDomSeconds:void 0,firstInteractionSeconds:void 0,transactionSeconds:void 0,clientDurationSeconds:void 0,networkDurationSeconds:void 0,backendDurationSeconds:void 0,experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 2:if(21!==e)break;o.stableDomSeconds=n.float();continue;case 3:if(29!==e)break;o.firstInteractionSeconds=n.float();continue;case 4:if(37!==e)break;o.transactionSeconds=n.float();continue;case 5:if(45!==e)break;o.clientDurationSeconds=n.float();continue;case 6:if(53!==e)break;o.networkDurationSeconds=n.float();continue;case 7:if(61!==e)break;o.backendDurationSeconds=n.float();continue;case 15:if(122!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({stableDomSeconds:mn(e.stableDomSeconds)?Number(e.stableDomSeconds):void 0,firstInteractionSeconds:mn(e.firstInteractionSeconds)?Number(e.firstInteractionSeconds):void 0,transactionSeconds:mn(e.transactionSeconds)?Number(e.transactionSeconds):void 0,clientDurationSeconds:mn(e.clientDurationSeconds)?Number(e.clientDurationSeconds):void 0,networkDurationSeconds:mn(e.networkDurationSeconds)?Number(e.networkDurationSeconds):void 0,backendDurationSeconds:mn(e.backendDurationSeconds)?Number(e.backendDurationSeconds):void 0,experimental:mn(e.experimental)?String(e.experimental):""}),toJSON(e){const t={};return void 0!==e.stableDomSeconds&&(t.stableDomSeconds=e.stableDomSeconds),void 0!==e.firstInteractionSeconds&&(t.firstInteractionSeconds=e.firstInteractionSeconds),void 0!==e.transactionSeconds&&(t.transactionSeconds=e.transactionSeconds),void 0!==e.clientDurationSeconds&&(t.clientDurationSeconds=e.clientDurationSeconds),void 0!==e.networkDurationSeconds&&(t.networkDurationSeconds=e.networkDurationSeconds),void 0!==e.backendDurationSeconds&&(t.backendDurationSeconds=e.backendDurationSeconds),void 0!==e.experimental&&(t.experimental=e.experimental),t},create:e=>fn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a;const c={stableDomSeconds:void 0,firstInteractionSeconds:void 0,transactionSeconds:void 0,clientDurationSeconds:void 0,networkDurationSeconds:void 0,backendDurationSeconds:void 0,experimental:""};return c.stableDomSeconds=null!==(t=e.stableDomSeconds)&&void 0!==t?t:void 0,c.firstInteractionSeconds=null!==(n=e.firstInteractionSeconds)&&void 0!==n?n:void 0,c.transactionSeconds=null!==(r=e.transactionSeconds)&&void 0!==r?r:void 0,c.clientDurationSeconds=null!==(o=e.clientDurationSeconds)&&void 0!==o?o:void 0,c.networkDurationSeconds=null!==(i=e.networkDurationSeconds)&&void 0!==i?i:void 0,c.backendDurationSeconds=null!==(s=e.backendDurationSeconds)&&void 0!==s?s:void 0,c.experimental=null!==(a=e.experimental)&&void 0!==a?a:"",c}},gn={encode:(e,t=u().Writer.create())=>(void 0!==e.durationSeconds&&t.uint32(13).float(e.durationSeconds),void 0!==e.unloadEventSeconds&&t.uint32(21).float(e.unloadEventSeconds),void 0!==e.redirectSeconds&&t.uint32(29).float(e.redirectSeconds),void 0!==e.redirectCount&&t.uint32(32).uint32(e.redirectCount),void 0!==e.domainLookupSeconds&&t.uint32(45).float(e.domainLookupSeconds),void 0!==e.connectSeconds&&t.uint32(53).float(e.connectSeconds),void 0!==e.secureConnectionSeconds&&t.uint32(61).float(e.secureConnectionSeconds),void 0!==e.requestSeconds&&t.uint32(69).float(e.requestSeconds),void 0!==e.responseSeconds&&t.uint32(77).float(e.responseSeconds),void 0!==e.transferBytes&&t.uint32(80).uint64(e.transferBytes),void 0!==e.domProcessingSeconds&&t.uint32(93).float(e.domProcessingSeconds),void 0!==e.domContentLoadedEventSeconds&&t.uint32(101).float(e.domContentLoadedEventSeconds),void 0!==e.loadEventSeconds&&t.uint32(109).float(e.loadEventSeconds),""!==e.experimental&&t.uint32(802).string(e.experimental),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={durationSeconds:void 0,unloadEventSeconds:void 0,redirectSeconds:void 0,redirectCount:void 0,domainLookupSeconds:void 0,connectSeconds:void 0,secureConnectionSeconds:void 0,requestSeconds:void 0,responseSeconds:void 0,transferBytes:void 0,domProcessingSeconds:void 0,domContentLoadedEventSeconds:void 0,loadEventSeconds:void 0,experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(13!==e)break;o.durationSeconds=n.float();continue;case 2:if(21!==e)break;o.unloadEventSeconds=n.float();continue;case 3:if(29!==e)break;o.redirectSeconds=n.float();continue;case 4:if(32!==e)break;o.redirectCount=n.uint32();continue;case 5:if(45!==e)break;o.domainLookupSeconds=n.float();continue;case 6:if(53!==e)break;o.connectSeconds=n.float();continue;case 7:if(61!==e)break;o.secureConnectionSeconds=n.float();continue;case 8:if(69!==e)break;o.requestSeconds=n.float();continue;case 9:if(77!==e)break;o.responseSeconds=n.float();continue;case 10:if(80!==e)break;o.transferBytes=vn(n.uint64());continue;case 11:if(93!==e)break;o.domProcessingSeconds=n.float();continue;case 12:if(101!==e)break;o.domContentLoadedEventSeconds=n.float();continue;case 13:if(109!==e)break;o.loadEventSeconds=n.float();continue;case 100:if(802!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({durationSeconds:mn(e.durationSeconds)?Number(e.durationSeconds):void 0,unloadEventSeconds:mn(e.unloadEventSeconds)?Number(e.unloadEventSeconds):void 0,redirectSeconds:mn(e.redirectSeconds)?Number(e.redirectSeconds):void 0,redirectCount:mn(e.redirectCount)?Number(e.redirectCount):void 0,domainLookupSeconds:mn(e.domainLookupSeconds)?Number(e.domainLookupSeconds):void 0,connectSeconds:mn(e.connectSeconds)?Number(e.connectSeconds):void 0,secureConnectionSeconds:mn(e.secureConnectionSeconds)?Number(e.secureConnectionSeconds):void 0,requestSeconds:mn(e.requestSeconds)?Number(e.requestSeconds):void 0,responseSeconds:mn(e.responseSeconds)?Number(e.responseSeconds):void 0,transferBytes:mn(e.transferBytes)?Number(e.transferBytes):void 0,domProcessingSeconds:mn(e.domProcessingSeconds)?Number(e.domProcessingSeconds):void 0,domContentLoadedEventSeconds:mn(e.domContentLoadedEventSeconds)?Number(e.domContentLoadedEventSeconds):void 0,loadEventSeconds:mn(e.loadEventSeconds)?Number(e.loadEventSeconds):void 0,experimental:mn(e.experimental)?String(e.experimental):""}),toJSON(e){const t={};return void 0!==e.durationSeconds&&(t.durationSeconds=e.durationSeconds),void 0!==e.unloadEventSeconds&&(t.unloadEventSeconds=e.unloadEventSeconds),void 0!==e.redirectSeconds&&(t.redirectSeconds=e.redirectSeconds),void 0!==e.redirectCount&&(t.redirectCount=Math.round(e.redirectCount)),void 0!==e.domainLookupSeconds&&(t.domainLookupSeconds=e.domainLookupSeconds),void 0!==e.connectSeconds&&(t.connectSeconds=e.connectSeconds),void 0!==e.secureConnectionSeconds&&(t.secureConnectionSeconds=e.secureConnectionSeconds),void 0!==e.requestSeconds&&(t.requestSeconds=e.requestSeconds),void 0!==e.responseSeconds&&(t.responseSeconds=e.responseSeconds),void 0!==e.transferBytes&&(t.transferBytes=Math.round(e.transferBytes)),void 0!==e.domProcessingSeconds&&(t.domProcessingSeconds=e.domProcessingSeconds),void 0!==e.domContentLoadedEventSeconds&&(t.domContentLoadedEventSeconds=e.domContentLoadedEventSeconds),void 0!==e.loadEventSeconds&&(t.loadEventSeconds=e.loadEventSeconds),void 0!==e.experimental&&(t.experimental=e.experimental),t},create:e=>gn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a,c,l,u,d,p,f,g;const h={durationSeconds:void 0,unloadEventSeconds:void 0,redirectSeconds:void 0,redirectCount:void 0,domainLookupSeconds:void 0,connectSeconds:void 0,secureConnectionSeconds:void 0,requestSeconds:void 0,responseSeconds:void 0,transferBytes:void 0,domProcessingSeconds:void 0,domContentLoadedEventSeconds:void 0,loadEventSeconds:void 0,experimental:""};return h.durationSeconds=null!==(t=e.durationSeconds)&&void 0!==t?t:void 0,h.unloadEventSeconds=null!==(n=e.unloadEventSeconds)&&void 0!==n?n:void 0,h.redirectSeconds=null!==(r=e.redirectSeconds)&&void 0!==r?r:void 0,h.redirectCount=null!==(o=e.redirectCount)&&void 0!==o?o:void 0,h.domainLookupSeconds=null!==(i=e.domainLookupSeconds)&&void 0!==i?i:void 0,h.connectSeconds=null!==(s=e.connectSeconds)&&void 0!==s?s:void 0,h.secureConnectionSeconds=null!==(a=e.secureConnectionSeconds)&&void 0!==a?a:void 0,h.requestSeconds=null!==(c=e.requestSeconds)&&void 0!==c?c:void 0,h.responseSeconds=null!==(l=e.responseSeconds)&&void 0!==l?l:void 0,h.transferBytes=null!==(u=e.transferBytes)&&void 0!==u?u:void 0,h.domProcessingSeconds=null!==(d=e.domProcessingSeconds)&&void 0!==d?d:void 0,h.domContentLoadedEventSeconds=null!==(p=e.domContentLoadedEventSeconds)&&void 0!==p?p:void 0,h.loadEventSeconds=null!==(f=e.loadEventSeconds)&&void 0!==f?f:void 0,h.experimental=null!==(g=e.experimental)&&void 0!==g?g:"",h}};var hn=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function vn(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new hn.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function mn(e){return null!=e}u().util.Long!==Me&&(u().util.Long=Me,u().configure());const bn={encode(e,t=u().Writer.create()){for(const n of e.navigationErrors)yn.encode(n,t.uint32(10).fork()).ldelim();for(const n of e.resourceErrors)En.encode(n,t.uint32(26).fork()).ldelim();for(const n of e.customErrors)Sn.encode(n,t.uint32(34).fork()).ldelim();for(const n of e.experimental)t.uint32(122).string(n);return t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={navigationErrors:[],resourceErrors:[],customErrors:[],experimental:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.navigationErrors.push(yn.decode(n,n.uint32()));continue;case 3:if(26!==e)break;o.resourceErrors.push(En.decode(n,n.uint32()));continue;case 4:if(34!==e)break;o.customErrors.push(Sn.decode(n,n.uint32()));continue;case 15:if(122!==e)break;o.experimental.push(n.string());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({navigationErrors:Array.isArray(null==e?void 0:e.navigationErrors)?e.navigationErrors.map((e=>yn.fromJSON(e))):[],resourceErrors:Array.isArray(null==e?void 0:e.resourceErrors)?e.resourceErrors.map((e=>En.fromJSON(e))):[],customErrors:Array.isArray(null==e?void 0:e.customErrors)?e.customErrors.map((e=>Sn.fromJSON(e))):[],experimental:Array.isArray(null==e?void 0:e.experimental)?e.experimental.map((e=>String(e))):[]}),toJSON(e){const t={};return e.navigationErrors?t.navigationErrors=e.navigationErrors.map((e=>e?yn.toJSON(e):void 0)):t.navigationErrors=[],e.resourceErrors?t.resourceErrors=e.resourceErrors.map((e=>e?En.toJSON(e):void 0)):t.resourceErrors=[],e.customErrors?t.customErrors=e.customErrors.map((e=>e?Sn.toJSON(e):void 0)):t.customErrors=[],e.experimental?t.experimental=e.experimental.map((e=>e)):t.experimental=[],t},create:e=>bn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o;const i={navigationErrors:[],resourceErrors:[],customErrors:[],experimental:[]};return i.navigationErrors=(null===(t=e.navigationErrors)||void 0===t?void 0:t.map((e=>yn.fromPartial(e))))||[],i.resourceErrors=(null===(n=e.resourceErrors)||void 0===n?void 0:n.map((e=>En.fromPartial(e))))||[],i.customErrors=(null===(r=e.customErrors)||void 0===r?void 0:r.map((e=>Sn.fromPartial(e))))||[],i.experimental=(null===(o=e.experimental)||void 0===o?void 0:o.map((e=>e)))||[],i}},yn={encode:(e,t=u().Writer.create())=>(0!==e.code&&t.uint32(8).uint32(e.code),""!==e.label&&t.uint32(18).string(e.label),0!==e.count&&t.uint32(40).uint32(e.count),0!==e.activityLevel&&t.uint32(48).int32(e.activityLevel),""!==e.experimental&&t.uint32(122).string(e.experimental),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={code:0,label:"",count:0,activityLevel:0,experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.code=n.uint32();continue;case 2:if(18!==e)break;o.label=n.string();continue;case 5:if(40!==e)break;o.count=n.uint32();continue;case 6:if(48!==e)break;o.activityLevel=n.int32();continue;case 15:if(122!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({code:Tn(e.code)?Number(e.code):0,label:Tn(e.label)?String(e.label):"",count:Tn(e.count)?Number(e.count):0,activityLevel:Tn(e.activityLevel)?Xe(e.activityLevel):0,experimental:Tn(e.experimental)?String(e.experimental):""}),toJSON(e){const t={};return void 0!==e.code&&(t.code=Math.round(e.code)),void 0!==e.label&&(t.label=e.label),void 0!==e.count&&(t.count=Math.round(e.count)),void 0!==e.activityLevel&&(t.activityLevel=Qe(e.activityLevel)),void 0!==e.experimental&&(t.experimental=e.experimental),t},create:e=>yn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i;const s={code:0,label:"",count:0,activityLevel:0,experimental:""};return s.code=null!==(t=e.code)&&void 0!==t?t:0,s.label=null!==(n=e.label)&&void 0!==n?n:"",s.count=null!==(r=e.count)&&void 0!==r?r:0,s.activityLevel=null!==(o=e.activityLevel)&&void 0!==o?o:0,s.experimental=null!==(i=e.experimental)&&void 0!==i?i:"",s}},En={encode:(e,t=u().Writer.create())=>(0!==e.code&&t.uint32(8).uint32(e.code),""!==e.label&&t.uint32(18).string(e.label),0!==e.count&&t.uint32(40).uint32(e.count),0!==e.activityLevel&&t.uint32(48).int32(e.activityLevel),0!==e.resourceType&&t.uint32(80).int32(e.resourceType),""!==e.resourceUrl&&t.uint32(90).string(e.resourceUrl),""!==e.experimental&&t.uint32(122).string(e.experimental),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={code:0,label:"",count:0,activityLevel:0,resourceType:0,resourceUrl:"",experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.code=n.uint32();continue;case 2:if(18!==e)break;o.label=n.string();continue;case 5:if(40!==e)break;o.count=n.uint32();continue;case 6:if(48!==e)break;o.activityLevel=n.int32();continue;case 10:if(80!==e)break;o.resourceType=n.int32();continue;case 11:if(90!==e)break;o.resourceUrl=n.string();continue;case 15:if(122!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({code:Tn(e.code)?Number(e.code):0,label:Tn(e.label)?String(e.label):"",count:Tn(e.count)?Number(e.count):0,activityLevel:Tn(e.activityLevel)?Xe(e.activityLevel):0,resourceType:Tn(e.resourceType)?$e(e.resourceType):0,resourceUrl:Tn(e.resourceUrl)?String(e.resourceUrl):"",experimental:Tn(e.experimental)?String(e.experimental):""}),toJSON(e){const t={};return void 0!==e.code&&(t.code=Math.round(e.code)),void 0!==e.label&&(t.label=e.label),void 0!==e.count&&(t.count=Math.round(e.count)),void 0!==e.activityLevel&&(t.activityLevel=Qe(e.activityLevel)),void 0!==e.resourceType&&(t.resourceType=Ke(e.resourceType)),void 0!==e.resourceUrl&&(t.resourceUrl=e.resourceUrl),void 0!==e.experimental&&(t.experimental=e.experimental),t},create:e=>En.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a;const c={code:0,label:"",count:0,activityLevel:0,resourceType:0,resourceUrl:"",experimental:""};return c.code=null!==(t=e.code)&&void 0!==t?t:0,c.label=null!==(n=e.label)&&void 0!==n?n:"",c.count=null!==(r=e.count)&&void 0!==r?r:0,c.activityLevel=null!==(o=e.activityLevel)&&void 0!==o?o:0,c.resourceType=null!==(i=e.resourceType)&&void 0!==i?i:0,c.resourceUrl=null!==(s=e.resourceUrl)&&void 0!==s?s:"",c.experimental=null!==(a=e.experimental)&&void 0!==a?a:"",c}},Sn={encode:(e,t=u().Writer.create())=>(""!==e.errorMonitorId&&t.uint32(10).string(e.errorMonitorId),0!==e.count&&t.uint32(40).uint32(e.count),0!==e.activityLevel&&t.uint32(48).int32(e.activityLevel),""!==e.experimental&&t.uint32(122).string(e.experimental),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={errorMonitorId:"",count:0,activityLevel:0,experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.errorMonitorId=n.string();continue;case 5:if(40!==e)break;o.count=n.uint32();continue;case 6:if(48!==e)break;o.activityLevel=n.int32();continue;case 15:if(122!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({errorMonitorId:Tn(e.errorMonitorId)?String(e.errorMonitorId):"",count:Tn(e.count)?Number(e.count):0,activityLevel:Tn(e.activityLevel)?Xe(e.activityLevel):0,experimental:Tn(e.experimental)?String(e.experimental):""}),toJSON(e){const t={};return void 0!==e.errorMonitorId&&(t.errorMonitorId=e.errorMonitorId),void 0!==e.count&&(t.count=Math.round(e.count)),void 0!==e.activityLevel&&(t.activityLevel=Qe(e.activityLevel)),void 0!==e.experimental&&(t.experimental=e.experimental),t},create:e=>Sn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o;const i={errorMonitorId:"",count:0,activityLevel:0,experimental:""};return i.errorMonitorId=null!==(t=e.errorMonitorId)&&void 0!==t?t:"",i.count=null!==(n=e.count)&&void 0!==n?n:0,i.activityLevel=null!==(r=e.activityLevel)&&void 0!==r?r:0,i.experimental=null!==(o=e.experimental)&&void 0!==o?o:"",i}};function Tn(e){return null!=e}var _n,xn;function On(e){switch(e){case 0:case"BROWSER_UNSPECIFIED":return _n.BROWSER_UNSPECIFIED;case 1:case"BROWSER_CHROME":return _n.BROWSER_CHROME;case 2:case"BROWSER_FIREFOX":return _n.BROWSER_FIREFOX;case 3:case"BROWSER_EDGE":return _n.BROWSER_EDGE;default:throw new Rn.Error("Unrecognized enum value "+e+" for enum InstalledExtensions_Browser")}}function wn(e){switch(e){case 0:case"INSTALL_TYPE_UNSPECIFIED":return xn.INSTALL_TYPE_UNSPECIFIED;case 1:case"INSTALL_TYPE_ADMIN":return xn.INSTALL_TYPE_ADMIN;case 2:case"INSTALL_TYPE_DEVELOPMENT":return xn.INSTALL_TYPE_DEVELOPMENT;case 3:case"INSTALL_TYPE_NORMAL":return xn.INSTALL_TYPE_NORMAL;case 4:case"INSTALL_TYPE_SIDE_LOAD":return xn.INSTALL_TYPE_SIDE_LOAD;case 5:case"INSTALL_TYPE_OTHER":return xn.INSTALL_TYPE_OTHER;default:throw new Rn.Error("Unrecognized enum value "+e+" for enum ExtensionInfo_InstallType")}}!function(e){e[e.BROWSER_UNSPECIFIED=0]="BROWSER_UNSPECIFIED",e[e.BROWSER_CHROME=1]="BROWSER_CHROME",e[e.BROWSER_FIREFOX=2]="BROWSER_FIREFOX",e[e.BROWSER_EDGE=3]="BROWSER_EDGE"}(_n||(_n={})),function(e){e[e.INSTALL_TYPE_UNSPECIFIED=0]="INSTALL_TYPE_UNSPECIFIED",e[e.INSTALL_TYPE_ADMIN=1]="INSTALL_TYPE_ADMIN",e[e.INSTALL_TYPE_DEVELOPMENT=2]="INSTALL_TYPE_DEVELOPMENT",e[e.INSTALL_TYPE_NORMAL=3]="INSTALL_TYPE_NORMAL",e[e.INSTALL_TYPE_SIDE_LOAD=4]="INSTALL_TYPE_SIDE_LOAD",e[e.INSTALL_TYPE_OTHER=5]="INSTALL_TYPE_OTHER"}(xn||(xn={}));const In={encode(e,t=u().Writer.create()){for(const n of e.extensionsInfo)kn.encode(n,t.uint32(10).fork()).ldelim();return 0!==e.browserName&&t.uint32(16).int32(e.browserName),""!==e.browserVersion&&t.uint32(26).string(e.browserVersion),""!==e.installationUuid&&t.uint32(34).string(e.installationUuid),t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={extensionsInfo:[],browserName:0,browserVersion:"",installationUuid:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.extensionsInfo.push(kn.decode(n,n.uint32()));continue;case 2:if(16!==e)break;o.browserName=n.int32();continue;case 3:if(26!==e)break;o.browserVersion=n.string();continue;case 4:if(34!==e)break;o.installationUuid=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({extensionsInfo:Array.isArray(null==e?void 0:e.extensionsInfo)?e.extensionsInfo.map((e=>kn.fromJSON(e))):[],browserName:Pn(e.browserName)?On(e.browserName):0,browserVersion:Pn(e.browserVersion)?String(e.browserVersion):"",installationUuid:Pn(e.installationUuid)?String(e.installationUuid):""}),toJSON(e){const t={};return e.extensionsInfo?t.extensionsInfo=e.extensionsInfo.map((e=>e?kn.toJSON(e):void 0)):t.extensionsInfo=[],void 0!==e.browserName&&(t.browserName=function(e){switch(e){case _n.BROWSER_UNSPECIFIED:return"BROWSER_UNSPECIFIED";case _n.BROWSER_CHROME:return"BROWSER_CHROME";case _n.BROWSER_FIREFOX:return"BROWSER_FIREFOX";case _n.BROWSER_EDGE:return"BROWSER_EDGE";default:throw new Rn.Error("Unrecognized enum value "+e+" for enum InstalledExtensions_Browser")}}(e.browserName)),void 0!==e.browserVersion&&(t.browserVersion=e.browserVersion),void 0!==e.installationUuid&&(t.installationUuid=e.installationUuid),t},create:e=>In.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o;const i={extensionsInfo:[],browserName:0,browserVersion:"",installationUuid:""};return i.extensionsInfo=(null===(t=e.extensionsInfo)||void 0===t?void 0:t.map((e=>kn.fromPartial(e))))||[],i.browserName=null!==(n=e.browserName)&&void 0!==n?n:0,i.browserVersion=null!==(r=e.browserVersion)&&void 0!==r?r:"",i.installationUuid=null!==(o=e.installationUuid)&&void 0!==o?o:"",i}},kn={encode(e,t=u().Writer.create()){!0===e.enabled&&t.uint32(8).bool(e.enabled),""!==e.id&&t.uint32(18).string(e.id),""!==e.version&&t.uint32(26).string(e.version),""!==e.name&&t.uint32(34).string(e.name),""!==e.homepageUrl&&t.uint32(42).string(e.homepageUrl),0!==e.installType&&t.uint32(48).int32(e.installType);for(const n of e.hostPermissions)t.uint32(58).string(n);for(const n of e.permissions)t.uint32(66).string(n);return t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={enabled:!1,id:"",version:"",name:"",homepageUrl:"",installType:0,hostPermissions:[],permissions:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.enabled=n.bool();continue;case 2:if(18!==e)break;o.id=n.string();continue;case 3:if(26!==e)break;o.version=n.string();continue;case 4:if(34!==e)break;o.name=n.string();continue;case 5:if(42!==e)break;o.homepageUrl=n.string();continue;case 6:if(48!==e)break;o.installType=n.int32();continue;case 7:if(58!==e)break;o.hostPermissions.push(n.string());continue;case 8:if(66!==e)break;o.permissions.push(n.string());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({enabled:!!Pn(e.enabled)&&Boolean(e.enabled),id:Pn(e.id)?String(e.id):"",version:Pn(e.version)?String(e.version):"",name:Pn(e.name)?String(e.name):"",homepageUrl:Pn(e.homepageUrl)?String(e.homepageUrl):"",installType:Pn(e.installType)?wn(e.installType):0,hostPermissions:Array.isArray(null==e?void 0:e.hostPermissions)?e.hostPermissions.map((e=>String(e))):[],permissions:Array.isArray(null==e?void 0:e.permissions)?e.permissions.map((e=>String(e))):[]}),toJSON(e){const t={};return void 0!==e.enabled&&(t.enabled=e.enabled),void 0!==e.id&&(t.id=e.id),void 0!==e.version&&(t.version=e.version),void 0!==e.name&&(t.name=e.name),void 0!==e.homepageUrl&&(t.homepageUrl=e.homepageUrl),void 0!==e.installType&&(t.installType=function(e){switch(e){case xn.INSTALL_TYPE_UNSPECIFIED:return"INSTALL_TYPE_UNSPECIFIED";case xn.INSTALL_TYPE_ADMIN:return"INSTALL_TYPE_ADMIN";case xn.INSTALL_TYPE_DEVELOPMENT:return"INSTALL_TYPE_DEVELOPMENT";case xn.INSTALL_TYPE_NORMAL:return"INSTALL_TYPE_NORMAL";case xn.INSTALL_TYPE_SIDE_LOAD:return"INSTALL_TYPE_SIDE_LOAD";case xn.INSTALL_TYPE_OTHER:return"INSTALL_TYPE_OTHER";default:throw new Rn.Error("Unrecognized enum value "+e+" for enum ExtensionInfo_InstallType")}}(e.installType)),e.hostPermissions?t.hostPermissions=e.hostPermissions.map((e=>e)):t.hostPermissions=[],e.permissions?t.permissions=e.permissions.map((e=>e)):t.permissions=[],t},create:e=>kn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a,c;const l={enabled:!1,id:"",version:"",name:"",homepageUrl:"",installType:0,hostPermissions:[],permissions:[]};return l.enabled=null!==(t=e.enabled)&&void 0!==t&&t,l.id=null!==(n=e.id)&&void 0!==n?n:"",l.version=null!==(r=e.version)&&void 0!==r?r:"",l.name=null!==(o=e.name)&&void 0!==o?o:"",l.homepageUrl=null!==(i=e.homepageUrl)&&void 0!==i?i:"",l.installType=null!==(s=e.installType)&&void 0!==s?s:0,l.hostPermissions=(null===(a=e.hostPermissions)||void 0===a?void 0:a.map((e=>e)))||[],l.permissions=(null===(c=e.permissions)||void 0===c?void 0:c.map((e=>e)))||[],l}};var Rn=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function Pn(e){return null!=e}const Cn={encode(e,t=u().Writer.create()){0!==e.resourceType&&t.uint32(8).int32(e.resourceType),0!==e.status&&t.uint32(32).int32(e.status),0!==e.count&&t.uint32(16).uint32(e.count);for(const n of e.timingSample)Nn.encode(n,t.uint32(26).fork()).ldelim();return""!==e.experimental&&t.uint32(122).string(e.experimental),t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={resourceType:0,status:0,count:0,timingSample:[],experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.resourceType=n.int32();continue;case 4:if(32!==e)break;o.status=n.int32();continue;case 2:if(16!==e)break;o.count=n.uint32();continue;case 3:if(26!==e)break;o.timingSample.push(Nn.decode(n,n.uint32()));continue;case 15:if(122!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({resourceType:jn(e.resourceType)?$e(e.resourceType):0,status:jn(e.status)?He(e.status):0,count:jn(e.count)?Number(e.count):0,timingSample:Array.isArray(null==e?void 0:e.timingSample)?e.timingSample.map((e=>Nn.fromJSON(e))):[],experimental:jn(e.experimental)?String(e.experimental):""}),toJSON(e){const t={};return void 0!==e.resourceType&&(t.resourceType=Ke(e.resourceType)),void 0!==e.status&&(t.status=ze(e.status)),void 0!==e.count&&(t.count=Math.round(e.count)),e.timingSample?t.timingSample=e.timingSample.map((e=>e?Nn.toJSON(e):void 0)):t.timingSample=[],void 0!==e.experimental&&(t.experimental=e.experimental),t},create:e=>Cn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i;const s={resourceType:0,status:0,count:0,timingSample:[],experimental:""};return s.resourceType=null!==(t=e.resourceType)&&void 0!==t?t:0,s.status=null!==(n=e.status)&&void 0!==n?n:0,s.count=null!==(r=e.count)&&void 0!==r?r:0,s.timingSample=(null===(o=e.timingSample)||void 0===o?void 0:o.map((e=>Nn.fromPartial(e))))||[],s.experimental=null!==(i=e.experimental)&&void 0!==i?i:"",s}},Nn={encode:(e,t=u().Writer.create())=>(""!==e.resourceUrl&&t.uint32(10).string(e.resourceUrl),0!==e.startTimestamp&&t.uint32(41).double(e.startTimestamp),void 0!==e.durationSeconds&&t.uint32(53).float(e.durationSeconds),void 0!==e.redirectSeconds&&t.uint32(61).float(e.redirectSeconds),void 0!==e.domainLookupSeconds&&t.uint32(77).float(e.domainLookupSeconds),void 0!==e.connectSeconds&&t.uint32(85).float(e.connectSeconds),void 0!==e.secureConnectionSeconds&&t.uint32(93).float(e.secureConnectionSeconds),void 0!==e.requestSeconds&&t.uint32(101).float(e.requestSeconds),void 0!==e.responseSeconds&&t.uint32(109).float(e.responseSeconds),void 0!==e.transferBytes&&t.uint32(112).uint64(e.transferBytes),""!==e.experimental&&t.uint32(122).string(e.experimental),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={resourceUrl:"",startTimestamp:0,durationSeconds:void 0,redirectSeconds:void 0,domainLookupSeconds:void 0,connectSeconds:void 0,secureConnectionSeconds:void 0,requestSeconds:void 0,responseSeconds:void 0,transferBytes:void 0,experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.resourceUrl=n.string();continue;case 5:if(41!==e)break;o.startTimestamp=n.double();continue;case 6:if(53!==e)break;o.durationSeconds=n.float();continue;case 7:if(61!==e)break;o.redirectSeconds=n.float();continue;case 9:if(77!==e)break;o.domainLookupSeconds=n.float();continue;case 10:if(85!==e)break;o.connectSeconds=n.float();continue;case 11:if(93!==e)break;o.secureConnectionSeconds=n.float();continue;case 12:if(101!==e)break;o.requestSeconds=n.float();continue;case 13:if(109!==e)break;o.responseSeconds=n.float();continue;case 14:if(112!==e)break;o.transferBytes=Mn(n.uint64());continue;case 15:if(122!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({resourceUrl:jn(e.resourceUrl)?String(e.resourceUrl):"",startTimestamp:jn(e.startTimestamp)?Number(e.startTimestamp):0,durationSeconds:jn(e.durationSeconds)?Number(e.durationSeconds):void 0,redirectSeconds:jn(e.redirectSeconds)?Number(e.redirectSeconds):void 0,domainLookupSeconds:jn(e.domainLookupSeconds)?Number(e.domainLookupSeconds):void 0,connectSeconds:jn(e.connectSeconds)?Number(e.connectSeconds):void 0,secureConnectionSeconds:jn(e.secureConnectionSeconds)?Number(e.secureConnectionSeconds):void 0,requestSeconds:jn(e.requestSeconds)?Number(e.requestSeconds):void 0,responseSeconds:jn(e.responseSeconds)?Number(e.responseSeconds):void 0,transferBytes:jn(e.transferBytes)?Number(e.transferBytes):void 0,experimental:jn(e.experimental)?String(e.experimental):""}),toJSON(e){const t={};return void 0!==e.resourceUrl&&(t.resourceUrl=e.resourceUrl),void 0!==e.startTimestamp&&(t.startTimestamp=e.startTimestamp),void 0!==e.durationSeconds&&(t.durationSeconds=e.durationSeconds),void 0!==e.redirectSeconds&&(t.redirectSeconds=e.redirectSeconds),void 0!==e.domainLookupSeconds&&(t.domainLookupSeconds=e.domainLookupSeconds),void 0!==e.connectSeconds&&(t.connectSeconds=e.connectSeconds),void 0!==e.secureConnectionSeconds&&(t.secureConnectionSeconds=e.secureConnectionSeconds),void 0!==e.requestSeconds&&(t.requestSeconds=e.requestSeconds),void 0!==e.responseSeconds&&(t.responseSeconds=e.responseSeconds),void 0!==e.transferBytes&&(t.transferBytes=Math.round(e.transferBytes)),void 0!==e.experimental&&(t.experimental=e.experimental),t},create:e=>Nn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a,c,l,u,d;const p={resourceUrl:"",startTimestamp:0,durationSeconds:void 0,redirectSeconds:void 0,domainLookupSeconds:void 0,connectSeconds:void 0,secureConnectionSeconds:void 0,requestSeconds:void 0,responseSeconds:void 0,transferBytes:void 0,experimental:""};return p.resourceUrl=null!==(t=e.resourceUrl)&&void 0!==t?t:"",p.startTimestamp=null!==(n=e.startTimestamp)&&void 0!==n?n:0,p.durationSeconds=null!==(r=e.durationSeconds)&&void 0!==r?r:void 0,p.redirectSeconds=null!==(o=e.redirectSeconds)&&void 0!==o?o:void 0,p.domainLookupSeconds=null!==(i=e.domainLookupSeconds)&&void 0!==i?i:void 0,p.connectSeconds=null!==(s=e.connectSeconds)&&void 0!==s?s:void 0,p.secureConnectionSeconds=null!==(a=e.secureConnectionSeconds)&&void 0!==a?a:void 0,p.requestSeconds=null!==(c=e.requestSeconds)&&void 0!==c?c:void 0,p.responseSeconds=null!==(l=e.responseSeconds)&&void 0!==l?l:void 0,p.transferBytes=null!==(u=e.transferBytes)&&void 0!==u?u:void 0,p.experimental=null!==(d=e.experimental)&&void 0!==d?d:"",p}};var An,Dn,Ln,Un=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function Mn(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new Un.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function jn(e){return null!=e}u().util.Long!==Me&&(u().util.Long=Me,u().configure()),function(e){e[e.NETWORK_INTERFACE_TYPE_UNSPECIFIED=0]="NETWORK_INTERFACE_TYPE_UNSPECIFIED",e[e.NETWORK_INTERFACE_TYPE_VIRTUAL=1]="NETWORK_INTERFACE_TYPE_VIRTUAL",e[e.NETWORK_INTERFACE_TYPE_PHYSICAL_ETHERNET=2]="NETWORK_INTERFACE_TYPE_PHYSICAL_ETHERNET",e[e.NETWORK_INTERFACE_TYPE_PHYSICAL_WIFI=3]="NETWORK_INTERFACE_TYPE_PHYSICAL_WIFI",e[e.NETWORK_INTERFACE_TYPE_PHYSICAL_BLUETOOTH=4]="NETWORK_INTERFACE_TYPE_PHYSICAL_BLUETOOTH"}(An||(An={})),function(e){e[e.WIFI_PROTOCOL_TYPE_UNSPECIFIED=0]="WIFI_PROTOCOL_TYPE_UNSPECIFIED",e[e.WIFI_PROTOCOL_TYPE_802_11a=1]="WIFI_PROTOCOL_TYPE_802_11a",e[e.WIFI_PROTOCOL_TYPE_802_11b=2]="WIFI_PROTOCOL_TYPE_802_11b",e[e.WIFI_PROTOCOL_TYPE_802_11g=3]="WIFI_PROTOCOL_TYPE_802_11g",e[e.WIFI_PROTOCOL_TYPE_802_11n=4]="WIFI_PROTOCOL_TYPE_802_11n",e[e.WIFI_PROTOCOL_TYPE_802_11ac=5]="WIFI_PROTOCOL_TYPE_802_11ac",e[e.WIFI_PROTOCOL_TYPE_802_11ad=6]="WIFI_PROTOCOL_TYPE_802_11ad",e[e.WIFI_PROTOCOL_TYPE_802_11ax=7]="WIFI_PROTOCOL_TYPE_802_11ax"}(Dn||(Dn={})),function(e){e[e.WIFI_BAND_TYPE_UNSPECIFIED=0]="WIFI_BAND_TYPE_UNSPECIFIED",e[e.WIFI_BAND_TYPE_900MHz=1]="WIFI_BAND_TYPE_900MHz",e[e.WIFI_BAND_TYPE_2dot4GHz=2]="WIFI_BAND_TYPE_2dot4GHz",e[e.WIFI_BAND_TYPE_3dot65GHz=3]="WIFI_BAND_TYPE_3dot65GHz",e[e.WIFI_BAND_TYPE_5GHz=4]="WIFI_BAND_TYPE_5GHz"}(Ln||(Ln={}));const Fn={encode:(e,t=u().Writer.create())=>(void 0!==e.index&&t.uint32(8).uint32(e.index),void 0!==e.name&&t.uint32(18).string(e.name),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={index:void 0,name:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.index=n.uint32();continue;case 2:if(18!==e)break;o.name=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({index:Bn(e.index)?Number(e.index):void 0,name:Bn(e.name)?String(e.name):void 0}),toJSON(e){const t={};return void 0!==e.index&&(t.index=Math.round(e.index)),void 0!==e.name&&(t.name=e.name),t},create:e=>Fn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={index:void 0,name:void 0};return r.index=null!==(t=e.index)&&void 0!==t?t:void 0,r.name=null!==(n=e.name)&&void 0!==n?n:void 0,r}};function Bn(e){return null!=e}(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();const Vn={encode(e,t=u().Writer.create()){0!==e.version&&t.uint32(8).uint32(e.version),0!==e.startTimestamp&&t.uint32(17).double(e.startTimestamp),0!==e.endTimestamp&&t.uint32(25).double(e.endTimestamp);for(const n of e.activities)qn.encode(n,t.uint32(50).fork()).ldelim();return void 0!==e.installedExtensions&&In.encode(e.installedExtensions,t.uint32(58).fork()).ldelim(),""!==e.experimental&&t.uint32(122).string(e.experimental),t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={version:0,startTimestamp:0,endTimestamp:0,activities:[],installedExtensions:void 0,experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.version=n.uint32();continue;case 2:if(17!==e)break;o.startTimestamp=n.double();continue;case 3:if(25!==e)break;o.endTimestamp=n.double();continue;case 6:if(50!==e)break;o.activities.push(qn.decode(n,n.uint32()));continue;case 7:if(58!==e)break;o.installedExtensions=In.decode(n,n.uint32());continue;case 15:if(122!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({version:Gn(e.version)?Number(e.version):0,startTimestamp:Gn(e.startTimestamp)?Number(e.startTimestamp):0,endTimestamp:Gn(e.endTimestamp)?Number(e.endTimestamp):0,activities:Array.isArray(null==e?void 0:e.activities)?e.activities.map((e=>qn.fromJSON(e))):[],installedExtensions:Gn(e.installedExtensions)?In.fromJSON(e.installedExtensions):void 0,experimental:Gn(e.experimental)?String(e.experimental):""}),toJSON(e){const t={};return void 0!==e.version&&(t.version=Math.round(e.version)),void 0!==e.startTimestamp&&(t.startTimestamp=e.startTimestamp),void 0!==e.endTimestamp&&(t.endTimestamp=e.endTimestamp),e.activities?t.activities=e.activities.map((e=>e?qn.toJSON(e):void 0)):t.activities=[],void 0!==e.installedExtensions&&(t.installedExtensions=e.installedExtensions?In.toJSON(e.installedExtensions):void 0),void 0!==e.experimental&&(t.experimental=e.experimental),t},create:e=>Vn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i;const s={version:0,startTimestamp:0,endTimestamp:0,activities:[],installedExtensions:void 0,experimental:""};return s.version=null!==(t=e.version)&&void 0!==t?t:0,s.startTimestamp=null!==(n=e.startTimestamp)&&void 0!==n?n:0,s.endTimestamp=null!==(r=e.endTimestamp)&&void 0!==r?r:0,s.activities=(null===(o=e.activities)||void 0===o?void 0:o.map((e=>qn.fromPartial(e))))||[],s.installedExtensions=void 0!==e.installedExtensions&&null!==e.installedExtensions?In.fromPartial(e.installedExtensions):void 0,s.experimental=null!==(i=e.experimental)&&void 0!==i?i:"",s}},qn={encode(e,t=u().Writer.create()){""!==e.appId&&t.uint32(10).string(e.appId),""!==e.keyPageId&&t.uint32(18).string(e.keyPageId),void 0!==e.usage&&an.encode(e.usage,t.uint32(50).fork()).ldelim();for(const n of e.navigationData)Wn.encode(n,t.uint32(58).fork()).ldelim();return""!==e.experimental&&t.uint32(122).string(e.experimental),t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={appId:"",keyPageId:"",usage:void 0,navigationData:[],experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.appId=n.string();continue;case 2:if(18!==e)break;o.keyPageId=n.string();continue;case 6:if(50!==e)break;o.usage=an.decode(n,n.uint32());continue;case 7:if(58!==e)break;o.navigationData.push(Wn.decode(n,n.uint32()));continue;case 15:if(122!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({appId:Gn(e.appId)?String(e.appId):"",keyPageId:Gn(e.keyPageId)?String(e.keyPageId):"",usage:Gn(e.usage)?an.fromJSON(e.usage):void 0,navigationData:Array.isArray(null==e?void 0:e.navigationData)?e.navigationData.map((e=>Wn.fromJSON(e))):[],experimental:Gn(e.experimental)?String(e.experimental):""}),toJSON(e){const t={};return void 0!==e.appId&&(t.appId=e.appId),void 0!==e.keyPageId&&(t.keyPageId=e.keyPageId),void 0!==e.usage&&(t.usage=e.usage?an.toJSON(e.usage):void 0),e.navigationData?t.navigationData=e.navigationData.map((e=>e?Wn.toJSON(e):void 0)):t.navigationData=[],void 0!==e.experimental&&(t.experimental=e.experimental),t},create:e=>qn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o;const i={appId:"",keyPageId:"",usage:void 0,navigationData:[],experimental:""};return i.appId=null!==(t=e.appId)&&void 0!==t?t:"",i.keyPageId=null!==(n=e.keyPageId)&&void 0!==n?n:"",i.usage=void 0!==e.usage&&null!==e.usage?an.fromPartial(e.usage):void 0,i.navigationData=(null===(r=e.navigationData)||void 0===r?void 0:r.map((e=>Wn.fromPartial(e))))||[],i.experimental=null!==(o=e.experimental)&&void 0!==o?o:"",i}},Yn={encode:(e,t=u().Writer.create())=>(0!==e.timestamp&&t.uint32(9).double(e.timestamp),void 0!==e.networkInterface&&Fn.encode(e.networkInterface,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={timestamp:0,networkInterface:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(9!==e)break;o.timestamp=n.double();continue;case 2:if(18!==e)break;o.networkInterface=Fn.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({timestamp:Gn(e.timestamp)?Number(e.timestamp):0,networkInterface:Gn(e.networkInterface)?Fn.fromJSON(e.networkInterface):void 0}),toJSON(e){const t={};return void 0!==e.timestamp&&(t.timestamp=e.timestamp),void 0!==e.networkInterface&&(t.networkInterface=e.networkInterface?Fn.toJSON(e.networkInterface):void 0),t},create:e=>Yn.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={timestamp:0,networkInterface:void 0};return n.timestamp=null!==(t=e.timestamp)&&void 0!==t?t:0,n.networkInterface=void 0!==e.networkInterface&&null!==e.networkInterface?Fn.fromPartial(e.networkInterface):void 0,n}},Wn={encode(e,t=u().Writer.create()){var n;switch(0!==e.tabId&&t.uint32(8).uint32(e.tabId),""!==e.navigationUrl&&t.uint32(18).string(e.navigationUrl),null===(n=e.navigationEvent)||void 0===n?void 0:n.$case){case"pageNavigationEvent":dn.encode(e.navigationEvent.pageNavigationEvent,t.uint32(34).fork()).ldelim();break;case"softNavigationEvent":pn.encode(e.navigationEvent.softNavigationEvent,t.uint32(42).fork()).ldelim()}for(const n of e.resources)Cn.encode(n,t.uint32(50).fork()).ldelim();for(const n of e.feedbacks)tn.encode(n,t.uint32(58).fork()).ldelim();void 0!==e.errors&&bn.encode(e.errors,t.uint32(66).fork()).ldelim();for(const n of e.transactionEvents)Kt.encode(n,t.uint32(74).fork()).ldelim();return void 0!==e.networkInformation&&Yn.encode(e.networkInformation,t.uint32(82).fork()).ldelim(),0!==e.openTabCount&&t.uint32(88).uint32(e.openTabCount),""!==e.experimental&&t.uint32(122).string(e.experimental),t},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={tabId:0,navigationUrl:"",navigationEvent:void 0,resources:[],feedbacks:[],errors:void 0,transactionEvents:[],networkInformation:void 0,openTabCount:0,experimental:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.tabId=n.uint32();continue;case 2:if(18!==e)break;o.navigationUrl=n.string();continue;case 4:if(34!==e)break;o.navigationEvent={$case:"pageNavigationEvent",pageNavigationEvent:dn.decode(n,n.uint32())};continue;case 5:if(42!==e)break;o.navigationEvent={$case:"softNavigationEvent",softNavigationEvent:pn.decode(n,n.uint32())};continue;case 6:if(50!==e)break;o.resources.push(Cn.decode(n,n.uint32()));continue;case 7:if(58!==e)break;o.feedbacks.push(tn.decode(n,n.uint32()));continue;case 8:if(66!==e)break;o.errors=bn.decode(n,n.uint32());continue;case 9:if(74!==e)break;o.transactionEvents.push(Kt.decode(n,n.uint32()));continue;case 10:if(82!==e)break;o.networkInformation=Yn.decode(n,n.uint32());continue;case 11:if(88!==e)break;o.openTabCount=n.uint32();continue;case 15:if(122!==e)break;o.experimental=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({tabId:Gn(e.tabId)?Number(e.tabId):0,navigationUrl:Gn(e.navigationUrl)?String(e.navigationUrl):"",navigationEvent:Gn(e.pageNavigationEvent)?{$case:"pageNavigationEvent",pageNavigationEvent:dn.fromJSON(e.pageNavigationEvent)}:Gn(e.softNavigationEvent)?{$case:"softNavigationEvent",softNavigationEvent:pn.fromJSON(e.softNavigationEvent)}:void 0,resources:Array.isArray(null==e?void 0:e.resources)?e.resources.map((e=>Cn.fromJSON(e))):[],feedbacks:Array.isArray(null==e?void 0:e.feedbacks)?e.feedbacks.map((e=>tn.fromJSON(e))):[],errors:Gn(e.errors)?bn.fromJSON(e.errors):void 0,transactionEvents:Array.isArray(null==e?void 0:e.transactionEvents)?e.transactionEvents.map((e=>Kt.fromJSON(e))):[],networkInformation:Gn(e.networkInformation)?Yn.fromJSON(e.networkInformation):void 0,openTabCount:Gn(e.openTabCount)?Number(e.openTabCount):0,experimental:Gn(e.experimental)?String(e.experimental):""}),toJSON(e){var t,n,r,o,i,s;const a={};return void 0!==e.tabId&&(a.tabId=Math.round(e.tabId)),void 0!==e.navigationUrl&&(a.navigationUrl=e.navigationUrl),"pageNavigationEvent"===(null===(t=e.navigationEvent)||void 0===t?void 0:t.$case)&&(a.pageNavigationEvent=(null===(n=e.navigationEvent)||void 0===n?void 0:n.pageNavigationEvent)?dn.toJSON(null===(r=e.navigationEvent)||void 0===r?void 0:r.pageNavigationEvent):void 0),"softNavigationEvent"===(null===(o=e.navigationEvent)||void 0===o?void 0:o.$case)&&(a.softNavigationEvent=(null===(i=e.navigationEvent)||void 0===i?void 0:i.softNavigationEvent)?pn.toJSON(null===(s=e.navigationEvent)||void 0===s?void 0:s.softNavigationEvent):void 0),e.resources?a.resources=e.resources.map((e=>e?Cn.toJSON(e):void 0)):a.resources=[],e.feedbacks?a.feedbacks=e.feedbacks.map((e=>e?tn.toJSON(e):void 0)):a.feedbacks=[],void 0!==e.errors&&(a.errors=e.errors?bn.toJSON(e.errors):void 0),e.transactionEvents?a.transactionEvents=e.transactionEvents.map((e=>e?Kt.toJSON(e):void 0)):a.transactionEvents=[],void 0!==e.networkInformation&&(a.networkInformation=e.networkInformation?Yn.toJSON(e.networkInformation):void 0),void 0!==e.openTabCount&&(a.openTabCount=Math.round(e.openTabCount)),void 0!==e.experimental&&(a.experimental=e.experimental),a},create:e=>Wn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a,c,l,u,d,p,f;const g={tabId:0,navigationUrl:"",navigationEvent:void 0,resources:[],feedbacks:[],errors:void 0,transactionEvents:[],networkInformation:void 0,openTabCount:0,experimental:""};return g.tabId=null!==(t=e.tabId)&&void 0!==t?t:0,g.navigationUrl=null!==(n=e.navigationUrl)&&void 0!==n?n:"","pageNavigationEvent"===(null===(r=e.navigationEvent)||void 0===r?void 0:r.$case)&&void 0!==(null===(o=e.navigationEvent)||void 0===o?void 0:o.pageNavigationEvent)&&null!==(null===(i=e.navigationEvent)||void 0===i?void 0:i.pageNavigationEvent)&&(g.navigationEvent={$case:"pageNavigationEvent",pageNavigationEvent:dn.fromPartial(e.navigationEvent.pageNavigationEvent)}),"softNavigationEvent"===(null===(s=e.navigationEvent)||void 0===s?void 0:s.$case)&&void 0!==(null===(a=e.navigationEvent)||void 0===a?void 0:a.softNavigationEvent)&&null!==(null===(c=e.navigationEvent)||void 0===c?void 0:c.softNavigationEvent)&&(g.navigationEvent={$case:"softNavigationEvent",softNavigationEvent:pn.fromPartial(e.navigationEvent.softNavigationEvent)}),g.resources=(null===(l=e.resources)||void 0===l?void 0:l.map((e=>Cn.fromPartial(e))))||[],g.feedbacks=(null===(u=e.feedbacks)||void 0===u?void 0:u.map((e=>tn.fromPartial(e))))||[],g.errors=void 0!==e.errors&&null!==e.errors?bn.fromPartial(e.errors):void 0,g.transactionEvents=(null===(d=e.transactionEvents)||void 0===d?void 0:d.map((e=>Kt.fromPartial(e))))||[],g.networkInformation=void 0!==e.networkInformation&&null!==e.networkInformation?Yn.fromPartial(e.networkInformation):void 0,g.openTabCount=null!==(p=e.openTabCount)&&void 0!==p?p:0,g.experimental=null!==(f=e.experimental)&&void 0!==f?f:"",g}};function Gn(e){return null!=e}const Jn={encode:(e,t=u().Writer.create())=>(0!==e.seconds&&t.uint32(8).int64(e.seconds),0!==e.nanos&&t.uint32(16).int32(e.nanos),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={seconds:0,nanos:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.seconds=er(n.int64());continue;case 2:if(16!==e)break;o.nanos=n.int32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({seconds:tr(e.seconds)?Number(e.seconds):0,nanos:tr(e.nanos)?Number(e.nanos):0}),toJSON(e){const t={};return void 0!==e.seconds&&(t.seconds=Math.round(e.seconds)),void 0!==e.nanos&&(t.nanos=Math.round(e.nanos)),t},create:e=>Jn.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={seconds:0,nanos:0};return r.seconds=null!==(t=e.seconds)&&void 0!==t?t:0,r.nanos=null!==(n=e.nanos)&&void 0!==n?n:0,r}};var Hn,zn,$n,Kn,Xn,Qn,Zn=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function er(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new Zn.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}function tr(e){return null!=e}function nr(e){switch(e){case 0:case"TYPE_UNSPECIFIED":return $n.TYPE_UNSPECIFIED;case 1:case"TYPE_BEACON":return $n.TYPE_BEACON;case 2:case"TYPE_CONFIG":return $n.TYPE_CONFIG;case 3:case"TYPE_LOG_DEBUG":return $n.TYPE_LOG_DEBUG;case 4:case"TYPE_LOG_INFO":return $n.TYPE_LOG_INFO;case 5:case"TYPE_LOG_WARNING":return $n.TYPE_LOG_WARNING;case 6:case"TYPE_LOG_ERROR":return $n.TYPE_LOG_ERROR;case 7:case"TYPE_LOG_CRITICAL":return $n.TYPE_LOG_CRITICAL;case 8:case"TYPE_EXTENSION_INFO":return $n.TYPE_EXTENSION_INFO;case 9:case"TYPE_ERROR":return $n.TYPE_ERROR;case 10:case"TYPE_NETWORK_INTERFACE_IDENTIFIER":return $n.TYPE_NETWORK_INTERFACE_IDENTIFIER;case 11:case"TYPE_LOG_TRACE":return $n.TYPE_LOG_TRACE;case 12:case"TYPE_CONNECTION_STATUS":return $n.TYPE_CONNECTION_STATUS;default:throw new mr.Error("Unrecognized enum value "+e+" for enum BrowserExtensionMessage_Type")}}function rr(e){switch(e){case 0:case"BROWSER_UNSPECIFIED":return Kn.BROWSER_UNSPECIFIED;case 1:case"BROWSER_CHROME":return Kn.BROWSER_CHROME;case 2:case"BROWSER_FIREFOX":return Kn.BROWSER_FIREFOX;case 3:case"BROWSER_EDGE":return Kn.BROWSER_EDGE;default:throw new mr.Error("Unrecognized enum value "+e+" for enum ExtensionInfo_Browser")}}function or(e){switch(e){case 0:case"LOG_LEVEL_UNSPECIFIED":return Xn.LOG_LEVEL_UNSPECIFIED;case 1:case"LOG_LEVEL_DEBUG":return Xn.LOG_LEVEL_DEBUG;case 2:case"LOG_LEVEL_TRACE":return Xn.LOG_LEVEL_TRACE;case 3:case"LOG_LEVEL_INFO":return Xn.LOG_LEVEL_INFO;case 4:case"LOG_LEVEL_WARNING":return Xn.LOG_LEVEL_WARNING;case 5:case"LOG_LEVEL_ERROR":return Xn.LOG_LEVEL_ERROR;default:throw new mr.Error("Unrecognized enum value "+e+" for enum HelloService_LogLevel")}}function ir(e){switch(e){case 0:case"COMPONENT_UNSPECIFIED":return Qn.COMPONENT_UNSPECIFIED;case 1:case"COMPONENT_NXTHOSTAPP":return Qn.COMPONENT_NXTHOSTAPP;case 2:case"COMPONENT_NXTBSM":return Qn.COMPONENT_NXTBSM;case 3:case"COMPONENT_NXTCOORDINATOR":return Qn.COMPONENT_NXTCOORDINATOR;default:throw new mr.Error("Unrecognized enum value "+e+" for enum ConnectionStatus_Component")}}function sr(){return{payload:new Uint8Array,type:0,header:void 0}}u().util.Long!==Me&&(u().util.Long=Me,u().configure()),function(e){e[e.COMPRESSION_TYPE_UNSPECIFIED=0]="COMPRESSION_TYPE_UNSPECIFIED",e[e.COMPRESSION_TYPE_PLAIN=1]="COMPRESSION_TYPE_PLAIN",e[e.COMPRESSION_TYPE_GZIP=2]="COMPRESSION_TYPE_GZIP"}(Hn||(Hn={})),function(e){e[e.ERROR_TYPE_UNSPECIFIED=0]="ERROR_TYPE_UNSPECIFIED",e[e.ERROR_TYPE_MSG_TOO_LONG=1]="ERROR_TYPE_MSG_TOO_LONG"}(zn||(zn={})),function(e){e[e.TYPE_UNSPECIFIED=0]="TYPE_UNSPECIFIED",e[e.TYPE_BEACON=1]="TYPE_BEACON",e[e.TYPE_CONFIG=2]="TYPE_CONFIG",e[e.TYPE_LOG_DEBUG=3]="TYPE_LOG_DEBUG",e[e.TYPE_LOG_INFO=4]="TYPE_LOG_INFO",e[e.TYPE_LOG_WARNING=5]="TYPE_LOG_WARNING",e[e.TYPE_LOG_ERROR=6]="TYPE_LOG_ERROR",e[e.TYPE_LOG_CRITICAL=7]="TYPE_LOG_CRITICAL",e[e.TYPE_EXTENSION_INFO=8]="TYPE_EXTENSION_INFO",e[e.TYPE_ERROR=9]="TYPE_ERROR",e[e.TYPE_NETWORK_INTERFACE_IDENTIFIER=10]="TYPE_NETWORK_INTERFACE_IDENTIFIER",e[e.TYPE_LOG_TRACE=11]="TYPE_LOG_TRACE",e[e.TYPE_CONNECTION_STATUS=12]="TYPE_CONNECTION_STATUS"}($n||($n={})),function(e){e[e.BROWSER_UNSPECIFIED=0]="BROWSER_UNSPECIFIED",e[e.BROWSER_CHROME=1]="BROWSER_CHROME",e[e.BROWSER_FIREFOX=2]="BROWSER_FIREFOX",e[e.BROWSER_EDGE=3]="BROWSER_EDGE"}(Kn||(Kn={})),function(e){e[e.LOG_LEVEL_UNSPECIFIED=0]="LOG_LEVEL_UNSPECIFIED",e[e.LOG_LEVEL_DEBUG=1]="LOG_LEVEL_DEBUG",e[e.LOG_LEVEL_TRACE=2]="LOG_LEVEL_TRACE",e[e.LOG_LEVEL_INFO=3]="LOG_LEVEL_INFO",e[e.LOG_LEVEL_WARNING=4]="LOG_LEVEL_WARNING",e[e.LOG_LEVEL_ERROR=5]="LOG_LEVEL_ERROR"}(Xn||(Xn={})),function(e){e[e.COMPONENT_UNSPECIFIED=0]="COMPONENT_UNSPECIFIED",e[e.COMPONENT_NXTHOSTAPP=1]="COMPONENT_NXTHOSTAPP",e[e.COMPONENT_NXTBSM=2]="COMPONENT_NXTBSM",e[e.COMPONENT_NXTCOORDINATOR=3]="COMPONENT_NXTCOORDINATOR"}(Qn||(Qn={}));const ar={encode:(e,t=u().Writer.create())=>(0!==e.payload.length&&t.uint32(10).bytes(e.payload),0!==e.type&&t.uint32(16).int32(e.type),void 0!==e.header&&cr.encode(e.header,t.uint32(26).fork()).ldelim(),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o=sr();for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.payload=n.bytes();continue;case 2:if(16!==e)break;o.type=n.int32();continue;case 3:if(26!==e)break;o.header=cr.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({payload:Er(e.payload)?br(e.payload):new Uint8Array,type:Er(e.type)?nr(e.type):0,header:Er(e.header)?cr.fromJSON(e.header):void 0}),toJSON(e){const t={};return void 0!==e.payload&&(t.payload=function(e){if(mr.Buffer)return mr.Buffer.from(e).toString("base64");{const t=[];return e.forEach((e=>{t.push(String.fromCharCode(e))})),mr.btoa(t.join(""))}}(void 0!==e.payload?e.payload:new Uint8Array)),void 0!==e.type&&(t.type=function(e){switch(e){case $n.TYPE_UNSPECIFIED:return"TYPE_UNSPECIFIED";case $n.TYPE_BEACON:return"TYPE_BEACON";case $n.TYPE_CONFIG:return"TYPE_CONFIG";case $n.TYPE_LOG_DEBUG:return"TYPE_LOG_DEBUG";case $n.TYPE_LOG_INFO:return"TYPE_LOG_INFO";case $n.TYPE_LOG_WARNING:return"TYPE_LOG_WARNING";case $n.TYPE_LOG_ERROR:return"TYPE_LOG_ERROR";case $n.TYPE_LOG_CRITICAL:return"TYPE_LOG_CRITICAL";case $n.TYPE_EXTENSION_INFO:return"TYPE_EXTENSION_INFO";case $n.TYPE_ERROR:return"TYPE_ERROR";case $n.TYPE_NETWORK_INTERFACE_IDENTIFIER:return"TYPE_NETWORK_INTERFACE_IDENTIFIER";case $n.TYPE_LOG_TRACE:return"TYPE_LOG_TRACE";case $n.TYPE_CONNECTION_STATUS:return"TYPE_CONNECTION_STATUS";default:throw new mr.Error("Unrecognized enum value "+e+" for enum BrowserExtensionMessage_Type")}}(e.type)),void 0!==e.header&&(t.header=e.header?cr.toJSON(e.header):void 0),t},create:e=>ar.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r=sr();return r.payload=null!==(t=e.payload)&&void 0!==t?t:new Uint8Array,r.type=null!==(n=e.type)&&void 0!==n?n:0,r.header=void 0!==e.header&&null!==e.header?cr.fromPartial(e.header):void 0,r}},cr={encode:(e,t=u().Writer.create())=>(""!==e.type&&t.uint32(10).string(e.type),0!==e.serviceVersion&&t.uint32(16).uint32(e.serviceVersion),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={type:"",serviceVersion:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.type=n.string();continue;case 2:if(16!==e)break;o.serviceVersion=n.uint32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({type:Er(e.type)?String(e.type):"",serviceVersion:Er(e.serviceVersion)?Number(e.serviceVersion):0}),toJSON(e){const t={};return void 0!==e.type&&(t.type=e.type),void 0!==e.serviceVersion&&(t.serviceVersion=Math.round(e.serviceVersion)),t},create:e=>cr.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={type:"",serviceVersion:0};return r.type=null!==(t=e.type)&&void 0!==t?t:"",r.serviceVersion=null!==(n=e.serviceVersion)&&void 0!==n?n:0,r}},lr={encode:(e,t=u().Writer.create())=>(""!==e.messageId&&t.uint32(10).string(e.messageId),""!==e.hostName&&t.uint32(18).string(e.hostName),0!==e.port&&t.uint32(24).uint32(e.port),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={messageId:"",hostName:"",port:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.messageId=n.string();continue;case 2:if(18!==e)break;o.hostName=n.string();continue;case 3:if(24!==e)break;o.port=n.uint32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({messageId:Er(e.messageId)?String(e.messageId):"",hostName:Er(e.hostName)?String(e.hostName):"",port:Er(e.port)?Number(e.port):0}),toJSON(e){const t={};return void 0!==e.messageId&&(t.messageId=e.messageId),void 0!==e.hostName&&(t.hostName=e.hostName),void 0!==e.port&&(t.port=Math.round(e.port)),t},create:e=>lr.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={messageId:"",hostName:"",port:0};return o.messageId=null!==(t=e.messageId)&&void 0!==t?t:"",o.hostName=null!==(n=e.hostName)&&void 0!==n?n:"",o.port=null!==(r=e.port)&&void 0!==r?r:0,o}},ur={encode:(e,t=u().Writer.create())=>(""!==e.messageId&&t.uint32(10).string(e.messageId),void 0!==e.error&&t.uint32(18).string(e.error),void 0!==e.interfaceIdentifier&&Fn.encode(e.interfaceIdentifier,t.uint32(26).fork()).ldelim(),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={messageId:"",error:void 0,interfaceIdentifier:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.messageId=n.string();continue;case 2:if(18!==e)break;o.error=n.string();continue;case 3:if(26!==e)break;o.interfaceIdentifier=Fn.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({messageId:Er(e.messageId)?String(e.messageId):"",error:Er(e.error)?String(e.error):void 0,interfaceIdentifier:Er(e.interfaceIdentifier)?Fn.fromJSON(e.interfaceIdentifier):void 0}),toJSON(e){const t={};return void 0!==e.messageId&&(t.messageId=e.messageId),void 0!==e.error&&(t.error=e.error),void 0!==e.interfaceIdentifier&&(t.interfaceIdentifier=e.interfaceIdentifier?Fn.toJSON(e.interfaceIdentifier):void 0),t},create:e=>ur.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={messageId:"",error:void 0,interfaceIdentifier:void 0};return r.messageId=null!==(t=e.messageId)&&void 0!==t?t:"",r.error=null!==(n=e.error)&&void 0!==n?n:void 0,r.interfaceIdentifier=void 0!==e.interfaceIdentifier&&null!==e.interfaceIdentifier?Fn.fromPartial(e.interfaceIdentifier):void 0,r}},dr={encode:(e,t=u().Writer.create())=>(0!==e.targetBrowser&&t.uint32(8).int32(e.targetBrowser),""!==e.extensionVersion&&t.uint32(18).string(e.extensionVersion),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={targetBrowser:0,extensionVersion:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.targetBrowser=n.int32();continue;case 2:if(18!==e)break;o.extensionVersion=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({targetBrowser:Er(e.targetBrowser)?rr(e.targetBrowser):0,extensionVersion:Er(e.extensionVersion)?String(e.extensionVersion):""}),toJSON(e){const t={};return void 0!==e.targetBrowser&&(t.targetBrowser=function(e){switch(e){case Kn.BROWSER_UNSPECIFIED:return"BROWSER_UNSPECIFIED";case Kn.BROWSER_CHROME:return"BROWSER_CHROME";case Kn.BROWSER_FIREFOX:return"BROWSER_FIREFOX";case Kn.BROWSER_EDGE:return"BROWSER_EDGE";default:throw new mr.Error("Unrecognized enum value "+e+" for enum ExtensionInfo_Browser")}}(e.targetBrowser)),void 0!==e.extensionVersion&&(t.extensionVersion=e.extensionVersion),t},create:e=>dr.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={targetBrowser:0,extensionVersion:""};return r.targetBrowser=null!==(t=e.targetBrowser)&&void 0!==t?t:0,r.extensionVersion=null!==(n=e.extensionVersion)&&void 0!==n?n:"",r}},pr={encode:(e,t=u().Writer.create())=>{return""!==e.deviceId&&t.uint32(10).string(e.deviceId),""!==e.userId&&t.uint32(18).string(e.userId),""!==e.uuid&&t.uint32(26).string(e.uuid),void 0!==e.timestamp&&Jn.encode((n=e.timestamp,{seconds:n.getTime()/1e3,nanos:n.getTime()%1e3*1e6}),t.uint32(34).fork()).ldelim(),""!==e.bsmVersion&&t.uint32(42).string(e.bsmVersion),""!==e.telemetryEnvironment&&t.uint32(50).string(e.telemetryEnvironment),0!==e.logLevel&&t.uint32(56).int32(e.logLevel),t;var n},decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={deviceId:"",userId:"",uuid:"",timestamp:void 0,bsmVersion:"",telemetryEnvironment:"",logLevel:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.deviceId=n.string();continue;case 2:if(18!==e)break;o.userId=n.string();continue;case 3:if(26!==e)break;o.uuid=n.string();continue;case 4:if(34!==e)break;o.timestamp=yr(Jn.decode(n,n.uint32()));continue;case 5:if(42!==e)break;o.bsmVersion=n.string();continue;case 6:if(50!==e)break;o.telemetryEnvironment=n.string();continue;case 7:if(56!==e)break;o.logLevel=n.int32();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>{return{deviceId:Er(e.deviceId)?String(e.deviceId):"",userId:Er(e.userId)?String(e.userId):"",uuid:Er(e.uuid)?String(e.uuid):"",timestamp:Er(e.timestamp)?(t=e.timestamp,t instanceof Date?t:"string"==typeof t?new Date(t):yr(Jn.fromJSON(t))):void 0,bsmVersion:Er(e.bsmVersion)?String(e.bsmVersion):"",telemetryEnvironment:Er(e.telemetryEnvironment)?String(e.telemetryEnvironment):"",logLevel:Er(e.logLevel)?or(e.logLevel):0};var t},toJSON(e){const t={};return void 0!==e.deviceId&&(t.deviceId=e.deviceId),void 0!==e.userId&&(t.userId=e.userId),void 0!==e.uuid&&(t.uuid=e.uuid),void 0!==e.timestamp&&(t.timestamp=e.timestamp.toISOString()),void 0!==e.bsmVersion&&(t.bsmVersion=e.bsmVersion),void 0!==e.telemetryEnvironment&&(t.telemetryEnvironment=e.telemetryEnvironment),void 0!==e.logLevel&&(t.logLevel=function(e){switch(e){case Xn.LOG_LEVEL_UNSPECIFIED:return"LOG_LEVEL_UNSPECIFIED";case Xn.LOG_LEVEL_DEBUG:return"LOG_LEVEL_DEBUG";case Xn.LOG_LEVEL_TRACE:return"LOG_LEVEL_TRACE";case Xn.LOG_LEVEL_INFO:return"LOG_LEVEL_INFO";case Xn.LOG_LEVEL_WARNING:return"LOG_LEVEL_WARNING";case Xn.LOG_LEVEL_ERROR:return"LOG_LEVEL_ERROR";default:throw new mr.Error("Unrecognized enum value "+e+" for enum HelloService_LogLevel")}}(e.logLevel)),t},create:e=>pr.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i,s,a;const c={deviceId:"",userId:"",uuid:"",timestamp:void 0,bsmVersion:"",telemetryEnvironment:"",logLevel:0};return c.deviceId=null!==(t=e.deviceId)&&void 0!==t?t:"",c.userId=null!==(n=e.userId)&&void 0!==n?n:"",c.uuid=null!==(r=e.uuid)&&void 0!==r?r:"",c.timestamp=null!==(o=e.timestamp)&&void 0!==o?o:void 0,c.bsmVersion=null!==(i=e.bsmVersion)&&void 0!==i?i:"",c.telemetryEnvironment=null!==(s=e.telemetryEnvironment)&&void 0!==s?s:"",c.logLevel=null!==(a=e.logLevel)&&void 0!==a?a:0,c}},fr={encode:(e,t=u().Writer.create())=>(!0===e.connected&&t.uint32(8).bool(e.connected),0!==e.component&&t.uint32(16).int32(e.component),void 0!==e.reason&&t.uint32(26).string(e.reason),t),decode(e,t){const n=e instanceof u().Reader?e:u().Reader.create(e);let r=void 0===t?n.len:n.pos+t;const o={connected:!1,component:0,reason:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.connected=n.bool();continue;case 2:if(16!==e)break;o.component=n.int32();continue;case 3:if(26!==e)break;o.reason=n.string();continue}if(4==(7&e)||0===e)break;n.skipType(7&e)}return o},fromJSON:e=>({connected:!!Er(e.connected)&&Boolean(e.connected),component:Er(e.component)?ir(e.component):0,reason:Er(e.reason)?String(e.reason):void 0}),toJSON(e){const t={};return void 0!==e.connected&&(t.connected=e.connected),void 0!==e.component&&(t.component=function(e){switch(e){case Qn.COMPONENT_UNSPECIFIED:return"COMPONENT_UNSPECIFIED";case Qn.COMPONENT_NXTHOSTAPP:return"COMPONENT_NXTHOSTAPP";case Qn.COMPONENT_NXTBSM:return"COMPONENT_NXTBSM";case Qn.COMPONENT_NXTCOORDINATOR:return"COMPONENT_NXTCOORDINATOR";default:throw new mr.Error("Unrecognized enum value "+e+" for enum ConnectionStatus_Component")}}(e.component)),void 0!==e.reason&&(t.reason=e.reason),t},create:e=>fr.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={connected:!1,component:0,reason:void 0};return o.connected=null!==(t=e.connected)&&void 0!==t&&t,o.component=null!==(n=e.component)&&void 0!==n?n:0,o.reason=null!==(r=e.reason)&&void 0!==r?r:void 0,o}};var gr,hr,vr,mr=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==__webpack_require__.g)return __webpack_require__.g;throw"Unable to locate global object"})();function br(e){if(mr.Buffer)return Uint8Array.from(mr.Buffer.from(e,"base64"));{const t=mr.atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}}function yr(e){let t=1e3*(e.seconds||0);return t+=(e.nanos||0)/1e6,new Date(t)}function Er(e){return null!=e}!function(e){let t,n,r,o,i,s,a,c;!function(e){e.EVENT="Content.Event"}(t=e.Content||(e.Content={})),function(e){let t,n;!function(e){e.NETWORK_INTERFACE_IDENTIFIER="BsmMessage.Outbound.NetworkInterfaceIdentifier"}(t=e.Outbound||(e.Outbound={})),function(e){e.NETWORK_INTERFACE_IDENTIFIER="BsmMessage.Inbound.NetworkInterfaceIdentifier",e.HELLO="BsmMessage.Inbound.Hello",e.CONNECTION_STATUS="BsmMessage.Inbound.ConnectionStatus"}(n=e.Inbound||(e.Inbound={}))}(n=e.BsmMessage||(e.BsmMessage={})),function(e){let t;e.CREATED="Tab.Created",e.ATTACHED="Tab.Attached",e.DETACHED="Tab.Detached",e.MAIN_WEB_REQUEST="Tab.MainWebRequest",e.WATCHED="Tab.Watched",e.NAVIGATED="Tab.Navigated",e.UPDATED_CHANGE_INFO="Tab.UpdatedChangeInfo",e.UNWATCHED="Tab.Unwatched",e.CONFIG_INJECTION_COMPLETED="Tab.ConfigInjectionCompleted",e.CONNECTION_FAILED="Tab.ConnectionFailed",e.CONFIG_UPDATE_COMPLETED="Tab.ConfigUpdateCompleted",e.BACKGROUND_DISCONNECTED="Tab.BackgroundDisconnected",e.ACTIVATED="Tab.Activated",e.REMOVED="Tab.Removed",e.VISIBLE="Tab.Visible",e.HIDDEN="Tab.Hidden",e.MONITOR_UPDATE_REQUIRED="Tab.MonitorUpdateRequired",function(e){e.HardNav="HardNav",e.SoftNav="SoftNav",e.Removed="Removed",e.Canceled="Canceled"}(t=e.UnwatchCause||(e.UnwatchCause={}))}(r=e.Tab||(e.Tab={})),function(e){e.TICK="Time.Tick"}(o=e.Time||(e.Time={})),function(e){let t,n;!function(e){e.COMMITTED="WebNavigation.Unmonitored.Committed",e.HISTORY_STATE_UPDATED="WebNavigation.Unmonitored.HistoryStateUpdated",e.ERROR_OCCURRED="WebNavigation.Unmonitored.ErrorOccurred",e.COMPLETED="WebNavigation.Unmonitored.Completed",e.REFERENCE_FRAGMENT_UPDATED="WebNavigation.Unmonitored.ReferenceFragmentUpdated"}(t=e.Unmonitored||(e.Unmonitored={})),function(e){e.COMMITTED="WebNavigation.Monitored.Committed",e.HISTORY_STATE_UPDATED="WebNavigation.Monitored.HistoryStateUpdated",e.ERROR_OCCURRED="WebNavigation.Monitored.ErrorOccurred",e.COMPLETED="WebNavigation.Monitored.Completed",e.REFERENCE_FRAGMENT_UPDATED="WebNavigation.Monitored.ReferenceFragmentUpdated",e.HARD_NAVIGATION="WebNavigation.Monitored.HardNavigation"}(n=e.Monitored||(e.Monitored={}))}(i=e.WebNavigation||(e.WebNavigation={})),function(e){e.BEFORE_REQUEST="WebRequest.BeforeRequest",e.COMPLETED="WebRequest.Completed",e.ERROR_OCCURRED="WebRequest.ErrorOccurred",e.SEND_HEADERS="WebRequest.SendHeaders",e.HEADERS_RECEIVED="WebRequest.HeadersReceived"}(s=e.WebRequest||(e.WebRequest={})),function(e){let t;e.COMPLETED="Transaction.Completed",e.CUSTOM_ERROR_DETECTED="Transaction.CustomError.Detected",e.Status=Gt,function(e){let t;e.STARTED="Transaction.Trigger.Started",e.STOPPED="Transaction.Trigger.Stopped",e.SET="Transaction.Trigger.Set",function(e){e.SETUP="Transaction.Trigger.Configure.Setup",e.CLEAR="Transaction.Trigger.Configure.Clear"}(t=e.Configure||(e.Configure={}))}(t=e.Trigger||(e.Trigger={}))}(a=e.Transaction||(e.Transaction={})),function(e){e.NAVIGATION_REQUEST="Error.NavigationRequestError",e.NAVIGATION_RESPONSE="Error.NavigationResponseError"}(c=e.Error||(e.Error={}))}(gr||(gr={})),function(e){e[e.HighSync=-100]="HighSync",e[e.StandardSync=-1]="StandardSync",e[e.StandardAsync=100]="StandardAsync",e[e.LowAsync=1e3]="LowAsync"}(hr||(hr={})),function(e){let t,n,r,o,i,s,a,c,l,u;!function(e){e.LatestConfig="ConfigManager.LatestConfig",e.LatestConfigV2="ConfigManager.LatestConfigV2"}(t=e.ConfigManager||(e.ConfigManager={})),function(e){e.Beacon="BeaconManager.Beacon"}(n=e.BeaconManager||(e.BeaconManager={})),function(e){e.Data="UpdateChecker.Data"}(r=e.UpdateChecker||(e.UpdateChecker={})),function(e){e.Data="NavigationDurationReporter.Data"}(o=e.NavigationDurationReporter||(e.NavigationDurationReporter={})),function(e){e.Data="ExtensionStatusReporter.Data"}(i=e.ExtensionStatusReporter||(e.ExtensionStatusReporter={})),function(e){e.Data="ExperimentalMetricsReporter.Data"}(s=e.ExperimentalMetricsReporter||(e.ExperimentalMetricsReporter={})),function(e){e.Data="InstalledExtensionsReporter.Data"}(a=e.InstalledExtensionsReporter||(e.InstalledExtensionsReporter={})),function(e){e.Data="EulaCheckerData.Data"}(c=e.EulaCheckerData||(e.EulaCheckerData={})),function(e){e.Data="ExtensionInfo.Data"}(l=e.ExtensionInfo||(e.ExtensionInfo={})),function(e){e.History="ConfigWatcher.History"}(u=e.ConfigWatcher||(e.ConfigWatcher={}))}(vr||(vr={}));let Sr=class{constructor(e){this.logger=e}migrate(e){if(this.logger.debug("Migrating storage if needed..."),!this.isValid(e))return{lifetime:{},persistent:{}};if(!this.isMigrationNeeded(e))return e;const t=e.lifetime.extension_instance_id,n={persistent:{...e.persistent},lifetime:{...e.lifetime,[vr.ExtensionInfo.Data]:JSON.stringify({extensionInstanceId:t,cacheUpdateTimestampInMilliseconds:c.X.now(),timeToLiveInMilliseconds:wr})}};return delete n.lifetime.extension_instance_id,n}isMigrationNeeded(e){var t;return void 0!==(null===(t=null==e?void 0:e.lifetime)||void 0===t?void 0:t.extension_instance_id)}isValid(e){return void 0!==e.lifetime&&void 0!==e.persistent}};var Tr,_r;Sr=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([se([{token:"MigrationStorageLogger",useFactory:()=>(0,a.j)("MigrationStorage")}]),ie(),(Tr=0,_r=oe("MigrationStorageLogger"),function(e,t){_r(e,t,Tr)}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Sr);var xr;!function(e){e.Lifetime="lifetime",e.Persistent="persistent",e.Session="session"}(xr||(xr={}));let Or=class{constructor(e){this.migrationStorage=e,this.cache={persistent:{},lifetime:{}},this.sessionCache={},this.hasAlreadyBeenMigrated=!1}async init(){await this.initLocalStorage(),await this.iniSessionStorage()}getOrDefault(e,t){return this.has(e)?this.get(e):t}get(e){var t,n;return null!==(n=null!==(t=this.cache.lifetime[e])&&void 0!==t?t:this.cache.persistent[e])&&void 0!==n?n:this.sessionCache[e]}has(e){return e in this.cache.lifetime||e in this.cache.persistent||e in this.sessionCache}async set(e,t,n){n!==xr.Session?await this.saveToLocalStorage(e,t,n):await this.saveToSessionStorage(e,t)}async initLocalStorage(){const e=await(0,ce.q)().storage.local.get();this.hasAlreadyBeenMigrated?this.cache=e:(this.cache=this.migrationStorage.migrate(e),await(0,ce.q)().storage.local.set(this.cache),this.hasAlreadyBeenMigrated=!0)}async iniSessionStorage(){var e,t;this.sessionCache=null!==(t=await(null===(e=(0,ce.q)().storage.session)||void 0===e?void 0:e.get()))&&void 0!==t?t:{}}async saveToSessionStorage(e,t){var n;this.sessionCache[e]=t;try{await(null===(n=(0,ce.q)().storage.session)||void 0===n?void 0:n.set(this.sessionCache))}catch(e){throw new Error(`Failed to update browser storage: ${e}`)}}async saveToLocalStorage(e,t,n){try{this.cache[n][e]=t,await(0,ce.q)().storage.local.set(this.cache)}catch(e){throw new Error(`Failed to update browser storage: ${e}`)}}async getOrCreate(e,t,n){return this.has(e)?this.get(e):(await this.set(e,t,n),t)}async clear(e){e!==xr.Session?(this.cache[e]={},await(0,ce.q)().storage.local.set(this.cache),await this.init()):this.sessionCache={}}};Or=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),function(e,t){return function(n,r){t(n,r,e)}}(0,oe(Sr)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Sr])],Or);const wr=0;class Ir{constructor(){this.cacheUpdateTimestampInMilliseconds=0}isExpired(){return this.timeToLiveInMilliseconds!==wr&&c.X.now()>this.cacheUpdateTimestampInMilliseconds+this.timeToLiveInMilliseconds}setTimeToLiveInMs(e){this.timeToLiveInMilliseconds=e}updateCacheTimestamp(e){this.cacheUpdateTimestampInMilliseconds=e}}class kr{constructor(e,t,n=xr.Session){this.key=e,this.defaultValue=t,this.storageType=n,this.localStorage=ne.resolve(Or),this.data=this.init()}init(){const e=this.localStorage.getOrDefault(this.key,"");if(0===e.length)return this.defaultValue;const t=this.defaultValue.deserialize(e);if(Array.isArray(t))throw new Error("Arrays are not supported");const n=!t.isExpired()||this.storageType===xr.Lifetime;return n||(0,a.j)("Persistence").warn(`Cache expired for ${this.key}. Using default value`,this.defaultValue),n?t:this.defaultValue}get(){return this.data}async set(e){this.data=e,this.data.updateCacheTimestamp(c.X.now()),await this.localStorage.set(this.key,e.serialize(),this.storageType)}}var Rr;!function(e){e[e.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",e[e.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",e[e.CLASS_TO_CLASS=2]="CLASS_TO_CLASS"}(Rr||(Rr={}));var Pr=new(function(){function e(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return e.prototype.addTypeMetadata=function(e){this._typeMetadatas.has(e.target)||this._typeMetadatas.set(e.target,new Map),this._typeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.addTransformMetadata=function(e){this._transformMetadatas.has(e.target)||this._transformMetadatas.set(e.target,new Map),this._transformMetadatas.get(e.target).has(e.propertyName)||this._transformMetadatas.get(e.target).set(e.propertyName,[]),this._transformMetadatas.get(e.target).get(e.propertyName).push(e)},e.prototype.addExposeMetadata=function(e){this._exposeMetadatas.has(e.target)||this._exposeMetadatas.set(e.target,new Map),this._exposeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.addExcludeMetadata=function(e){this._excludeMetadatas.has(e.target)||this._excludeMetadatas.set(e.target,new Map),this._excludeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.findTransformMetadatas=function(e,t,n){return this.findMetadatas(this._transformMetadatas,e,t).filter((function(e){return!e.options||!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?n===Rr.CLASS_TO_CLASS||n===Rr.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||n===Rr.CLASS_TO_PLAIN)}))},e.prototype.findExcludeMetadata=function(e,t){return this.findMetadata(this._excludeMetadatas,e,t)},e.prototype.findExposeMetadata=function(e,t){return this.findMetadata(this._exposeMetadatas,e,t)},e.prototype.findExposeMetadataByCustomName=function(e,t){return this.getExposedMetadatas(e).find((function(e){return e.options&&e.options.name===t}))},e.prototype.findTypeMetadata=function(e,t){return this.findMetadata(this._typeMetadatas,e,t)},e.prototype.getStrategy=function(e){var t=this._excludeMetadatas.get(e),n=t&&t.get(void 0),r=this._exposeMetadatas.get(e),o=r&&r.get(void 0);return n&&o||!n&&!o?"none":n?"excludeAll":"exposeAll"},e.prototype.getExposedMetadatas=function(e){return this.getMetadata(this._exposeMetadatas,e)},e.prototype.getExcludedMetadatas=function(e){return this.getMetadata(this._excludeMetadatas,e)},e.prototype.getExposedProperties=function(e,t){return this.getExposedMetadatas(e).filter((function(e){return!e.options||!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?t===Rr.CLASS_TO_CLASS||t===Rr.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||t===Rr.CLASS_TO_PLAIN)})).map((function(e){return e.propertyName}))},e.prototype.getExcludedProperties=function(e,t){return this.getExcludedMetadatas(e).filter((function(e){return!e.options||!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?t===Rr.CLASS_TO_CLASS||t===Rr.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||t===Rr.CLASS_TO_PLAIN)})).map((function(e){return e.propertyName}))},e.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},e.prototype.getMetadata=function(e,t){var n,r=e.get(t);r&&(n=Array.from(r.values()).filter((function(e){return void 0!==e.propertyName})));for(var o=[],i=0,s=this.getAncestors(t);i<s.length;i++){var a=s[i],c=e.get(a);if(c){var l=Array.from(c.values()).filter((function(e){return void 0!==e.propertyName}));o.push.apply(o,l)}}return o.concat(n||[])},e.prototype.findMetadata=function(e,t,n){var r=e.get(t);if(r){var o=r.get(n);if(o)return o}for(var i=0,s=this.getAncestors(t);i<s.length;i++){var a=s[i],c=e.get(a);if(c){var l=c.get(n);if(l)return l}}},e.prototype.findMetadatas=function(e,t,n){var r,o=e.get(t);o&&(r=o.get(n));for(var i=[],s=0,a=this.getAncestors(t);s<a.length;s++){var c=a[s],l=e.get(c);l&&l.has(n)&&i.push.apply(i,l.get(n))}return i.slice().reverse().concat((r||[]).slice().reverse())},e.prototype.getAncestors=function(e){if(!e)return[];if(!this._ancestorsMap.has(e)){for(var t=[],n=Object.getPrototypeOf(e.prototype.constructor);void 0!==n.prototype;n=Object.getPrototypeOf(n.prototype.constructor))t.push(n);this._ancestorsMap.set(e,t)}return this._ancestorsMap.get(e)},e}());function Cr(e,t){return void 0===t&&(t={}),function(n,r){var o=Reflect.getMetadata("design:type",n,r);Pr.addTypeMetadata({target:n.constructor,propertyName:r,reflectedType:o,typeFunction:e,options:t})}}var Nr=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ar=function(){function e(e,t){this.transformationType=e,this.options=t,this.recursionStack=new Set}return e.prototype.transform=function(e,t,n,r,o,i){var s,a=this;if(void 0===i&&(i=0),Array.isArray(t)||t instanceof Set){var c=r&&this.transformationType===Rr.PLAIN_TO_CLASS?function(e){var t=new e;return t instanceof Set||"push"in t?t:[]}(r):[];return t.forEach((function(t,r){var o=e?e[r]:void 0;if(a.options.enableCircularCheck&&a.isCircular(t))a.transformationType===Rr.CLASS_TO_CLASS&&(c instanceof Set?c.add(t):c.push(t));else{var s=void 0;if("function"!=typeof n&&n&&n.options&&n.options.discriminator&&n.options.discriminator.property&&n.options.discriminator.subTypes){if(a.transformationType===Rr.PLAIN_TO_CLASS){s=n.options.discriminator.subTypes.find((function(e){return e.name===t[n.options.discriminator.property]}));var l={newObject:c,object:t,property:void 0},u=n.typeFunction(l);s=void 0===s?u:s.value,n.options.keepDiscriminatorProperty||delete t[n.options.discriminator.property]}a.transformationType===Rr.CLASS_TO_CLASS&&(s=t.constructor),a.transformationType===Rr.CLASS_TO_PLAIN&&(t[n.options.discriminator.property]=n.options.discriminator.subTypes.find((function(e){return e.value===t.constructor})).name)}else s=n;var d=a.transform(o,t,s,void 0,t instanceof Map,i+1);c instanceof Set?c.add(d):c.push(d)}})),c}if(n!==String||o){if(n!==Number||o){if(n!==Boolean||o){if((n===Date||t instanceof Date)&&!o)return t instanceof Date?new Date(t.valueOf()):null==t?t:new Date(t);if(("undefined"!=typeof globalThis?globalThis:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0).Buffer&&(n===Buffer||t instanceof Buffer)&&!o)return null==t?t:Buffer.from(t);if(null===(s=t)||"object"!=typeof s||"function"!=typeof s.then||o){if(o||null===t||"object"!=typeof t||"function"!=typeof t.then){if("object"==typeof t&&null!==t){n||t.constructor===Object||(Array.isArray(t)||t.constructor!==Array)&&(n=t.constructor),!n&&e&&(n=e.constructor),this.options.enableCircularCheck&&this.recursionStack.add(t);var l=this.getKeys(n,t,o),u=e||{};e||this.transformationType!==Rr.PLAIN_TO_CLASS&&this.transformationType!==Rr.CLASS_TO_CLASS||(u=o?new Map:n?new n:{});for(var d=function(r){if("__proto__"===r||"constructor"===r)return"continue";var s=r,a=r,c=r;if(!p.options.ignoreDecorators&&n)if(p.transformationType===Rr.PLAIN_TO_CLASS)(l=Pr.findExposeMetadataByCustomName(n,r))&&(c=l.propertyName,a=l.propertyName);else if(p.transformationType===Rr.CLASS_TO_PLAIN||p.transformationType===Rr.CLASS_TO_CLASS){var l;(l=Pr.findExposeMetadata(n,r))&&l.options&&l.options.name&&(a=l.options.name)}var d=void 0;d=p.transformationType===Rr.PLAIN_TO_CLASS?t[s]:t instanceof Map?t.get(s):t[s]instanceof Function?t[s]():t[s];var f=void 0,g=d instanceof Map;if(n&&o)f=n;else if(n){var h=Pr.findTypeMetadata(n,c);if(h){var v={newObject:u,object:t,property:c},m=h.typeFunction?h.typeFunction(v):h.reflectedType;h.options&&h.options.discriminator&&h.options.discriminator.property&&h.options.discriminator.subTypes?t[s]instanceof Array?f=h:(p.transformationType===Rr.PLAIN_TO_CLASS&&(f=void 0===(f=h.options.discriminator.subTypes.find((function(e){if(d&&d instanceof Object&&h.options.discriminator.property in d)return e.name===d[h.options.discriminator.property]})))?m:f.value,h.options.keepDiscriminatorProperty||d&&d instanceof Object&&h.options.discriminator.property in d&&delete d[h.options.discriminator.property]),p.transformationType===Rr.CLASS_TO_CLASS&&(f=d.constructor),p.transformationType===Rr.CLASS_TO_PLAIN&&d&&(d[h.options.discriminator.property]=h.options.discriminator.subTypes.find((function(e){return e.value===d.constructor})).name)):f=m,g=g||h.reflectedType===Map}else if(p.options.targetMaps)p.options.targetMaps.filter((function(e){return e.target===n&&!!e.properties[c]})).forEach((function(e){return f=e.properties[c]}));else if(p.options.enableImplicitConversion&&p.transformationType===Rr.PLAIN_TO_CLASS){var b=Reflect.getMetadata("design:type",n.prototype,c);b&&(f=b)}}var y=Array.isArray(t[s])?p.getReflectedType(n,c):void 0,E=e?e[s]:void 0;if(u.constructor.prototype){var S=Object.getOwnPropertyDescriptor(u.constructor.prototype,a);if((p.transformationType===Rr.PLAIN_TO_CLASS||p.transformationType===Rr.CLASS_TO_CLASS)&&(S&&!S.set||u[a]instanceof Function))return"continue"}if(p.options.enableCircularCheck&&p.isCircular(d))p.transformationType===Rr.CLASS_TO_CLASS&&(_=d,(void 0!==(_=p.applyCustomTransformations(_,n,r,t,p.transformationType))||p.options.exposeUnsetFields)&&(u instanceof Map?u.set(a,_):u[a]=_));else{var T=p.transformationType===Rr.PLAIN_TO_CLASS?a:r,_=void 0;p.transformationType===Rr.CLASS_TO_PLAIN?(_=t[T],_=p.applyCustomTransformations(_,n,T,t,p.transformationType),_=t[T]===_?d:_,_=p.transform(E,_,f,y,g,i+1)):void 0===d&&p.options.exposeDefaultValues?_=u[a]:(_=p.transform(E,d,f,y,g,i+1),_=p.applyCustomTransformations(_,n,T,t,p.transformationType)),(void 0!==_||p.options.exposeUnsetFields)&&(u instanceof Map?u.set(a,_):u[a]=_)}},p=this,f=0,g=l;f<g.length;f++)d(g[f]);return this.options.enableCircularCheck&&this.recursionStack.delete(t),u}return t}return t}return new Promise((function(e,r){t.then((function(t){return e(a.transform(void 0,t,n,void 0,void 0,i+1))}),r)}))}return null==t?t:Boolean(t)}return null==t?t:Number(t)}return null==t?t:String(t)},e.prototype.applyCustomTransformations=function(e,t,n,r,o){var i=this,s=Pr.findTransformMetadatas(t,n,this.transformationType);return void 0!==this.options.version&&(s=s.filter((function(e){return!e.options||i.checkVersion(e.options.since,e.options.until)}))),(s=this.options.groups&&this.options.groups.length?s.filter((function(e){return!e.options||i.checkGroups(e.options.groups)})):s.filter((function(e){return!e.options||!e.options.groups||!e.options.groups.length}))).forEach((function(t){e=t.transformFn({value:e,key:n,obj:r,type:o,options:i.options})})),e},e.prototype.isCircular=function(e){return this.recursionStack.has(e)},e.prototype.getReflectedType=function(e,t){if(e){var n=Pr.findTypeMetadata(e,t);return n?n.reflectedType:void 0}},e.prototype.getKeys=function(e,t,n){var r=this,o=Pr.getStrategy(e);"none"===o&&(o=this.options.strategy||"exposeAll");var i=[];if(("exposeAll"===o||n)&&(i=t instanceof Map?Array.from(t.keys()):Object.keys(t)),n)return i;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&e){var s=Pr.getExposedProperties(e,this.transformationType),a=Pr.getExcludedProperties(e,this.transformationType);i=Nr(Nr([],s,!0),a,!0)}if(!this.options.ignoreDecorators&&e){s=Pr.getExposedProperties(e,this.transformationType),this.transformationType===Rr.PLAIN_TO_CLASS&&(s=s.map((function(t){var n=Pr.findExposeMetadata(e,t);return n&&n.options&&n.options.name?n.options.name:t}))),i=this.options.excludeExtraneousValues?s:i.concat(s);var c=Pr.getExcludedProperties(e,this.transformationType);c.length>0&&(i=i.filter((function(e){return!c.includes(e)}))),void 0!==this.options.version&&(i=i.filter((function(t){var n=Pr.findExposeMetadata(e,t);return!n||!n.options||r.checkVersion(n.options.since,n.options.until)}))),i=this.options.groups&&this.options.groups.length?i.filter((function(t){var n=Pr.findExposeMetadata(e,t);return!n||!n.options||r.checkGroups(n.options.groups)})):i.filter((function(t){var n=Pr.findExposeMetadata(e,t);return!(n&&n.options&&n.options.groups&&n.options.groups.length)}))}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(i=i.filter((function(e){return r.options.excludePrefixes.every((function(t){return e.substr(0,t.length)!==t}))}))),i.filter((function(e,t,n){return n.indexOf(e)===t}))},e.prototype.checkVersion=function(e,t){var n=!0;return n&&e&&(n=this.options.version>=e),n&&t&&(n=this.options.version<t),n},e.prototype.checkGroups=function(e){return!e||this.options.groups.some((function(t){return e.includes(t)}))},e}(),Dr={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},Lr=function(){return Lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Lr.apply(this,arguments)},Ur=new(function(){function e(){}return e.prototype.instanceToPlain=function(e,t){return new Ar(Rr.CLASS_TO_PLAIN,Lr(Lr({},Dr),t)).transform(void 0,e,void 0,void 0,void 0,void 0)},e.prototype.classToPlainFromExist=function(e,t,n){return new Ar(Rr.CLASS_TO_PLAIN,Lr(Lr({},Dr),n)).transform(t,e,void 0,void 0,void 0,void 0)},e.prototype.plainToInstance=function(e,t,n){return new Ar(Rr.PLAIN_TO_CLASS,Lr(Lr({},Dr),n)).transform(void 0,t,e,void 0,void 0,void 0)},e.prototype.plainToClassFromExist=function(e,t,n){return new Ar(Rr.PLAIN_TO_CLASS,Lr(Lr({},Dr),n)).transform(e,t,void 0,void 0,void 0,void 0)},e.prototype.instanceToInstance=function(e,t){return new Ar(Rr.CLASS_TO_CLASS,Lr(Lr({},Dr),t)).transform(void 0,e,void 0,void 0,void 0,void 0)},e.prototype.classToClassFromExist=function(e,t,n){return new Ar(Rr.CLASS_TO_CLASS,Lr(Lr({},Dr),n)).transform(t,e,void 0,void 0,void 0,void 0)},e.prototype.serialize=function(e,t){return JSON.stringify(this.instanceToPlain(e,t))},e.prototype.deserialize=function(e,t,n){var r=JSON.parse(t);return this.plainToInstance(e,r,n)},e.prototype.deserializeArray=function(e,t,n){var r=JSON.parse(t);return this.plainToInstance(e,r,n)},e}());function Mr(e,t){return Ur.instanceToPlain(e,t)}function jr(e,t,n){return Ur.plainToInstance(e,t,n)}const Fr="default";var Br;!function(e){e.None="None",e.Unfocused="Unfocused",e.Focused="Focused"}(Br||(Br={}));let Vr=class{constructor(e){this.logger=e,this.usageCount=new Map}add(e,t,n=Fr){var r,o,i;this.usageCount.has(e)||this.usageCount.set(e,new Map);const s=null!==(r=this.usageCount.get(e))&&void 0!==r?r:new Map;s.set(n,{Focused:(null!==(i=null===(o=s.get(n))||void 0===o?void 0:o.Focused)&&void 0!==i?i:0)+t}),this.usageCount.set(e,s)}subtract(e,t,n=Fr){var r,o,i;if(!this.usageCount.has(e))return;const s=null!==(r=this.usageCount.get(e))&&void 0!==r?r:new Map,a=(null!==(i=null===(o=s.get(n))||void 0===o?void 0:o.Focused)&&void 0!==i?i:0)-t;if(a<0)return this.logger.warn("Deleting usage because subtracting more time than current usage",t,a),void s.delete(n);s.set(n,{Focused:a})}pop(e=c.X.now()){const t=Array.from(this.usageCount.entries()).map((e=>{var t;return{appId:e[0],data:{app:null!==(t=e[1].get(Fr))&&void 0!==t?t:{},keyPages:Object.fromEntries(Array.from(e[1].entries()).filter((e=>e[0]!==Fr)))}}}));return this.logger.debug("Pop usage",{currentUsage:t,timestamp:e}),this.usageCount.clear(),{data:Object.fromEntries(new Map(t.map((e=>[e.appId,e.data]))))}}sum(e,t){const n={...t};return e&&this.mergeSum(e,n),n}mergeSum(e,t){var n;if(e)for(const[r,o]of Object.entries(e)){const e=r;if(o){const r=null!==(n=t[e])&&void 0!==n?n:0;t[e]=r+o}}}};Vr=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"UsageCounterLogger",useFactory:()=>(0,a.j)("UsageCounter")}]),function(e,t){return function(n,r){t(n,r,e)}}(0,oe("UsageCounterLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Vr);const qr=Vr;var Yr=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Wr=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class Gr{constructor(e){this.events=e}}Yr([Cr((()=>w)),Wr("design:type",Map)],Gr.prototype,"events",void 0);class Jr{constructor(e,t){this.tabEvents=e,this.usage=t}}Yr([Cr((()=>Gr)),Wr("design:type",Map)],Jr.prototype,"tabEvents",void 0);class Hr{constructor(e){this.events=e}}Yr([Cr((()=>Jr)),Wr("design:type",Map)],Hr.prototype,"events",void 0);class zr extends Ir{constructor(e,t,n=t,r=new Map){super(),this.version=e,this.startTimestamp=t,this.endTimestamp=n,this.timeToLiveInMilliseconds=wr,this.experimental=new Map,this.activities=r,this.extensionsInfo=[]}serialize(){return JSON.stringify(Mr(this))}deserialize(e){return jr(zr,JSON.parse(e))}isEmpty(){for(const e of this.activities.values())for(const t of e.events.values())if(t.tabEvents.size>0||t.usage)return!1;return!0}addEvents(e,t,n){const r=n.filter((e=>A.includes(e.entryType)));0!==r.length&&(this.hasApplication(e)||this.newApplication(e),zr.groupByKeyPageId(r).events.forEach(((n,r)=>{this.createOrMergeKeyPage(e,r,t,n)})))}addUsage(e){var t,n,r,o,i;(null===(t=e.errors)||void 0===t?void 0:t.length)&&e.errors.forEach((e=>this.appendExperimental("Usage.Error",JSON.stringify(e))));for(const[t,s]of Object.entries(e.data)){let e=this.activities.get(t);if(e||(e=new Hr(new Map),this.activities.set(t,e)),Object.keys(s.app).length>0){let t=null===(n=null==e?void 0:e.events)||void 0===n?void 0:n.get("undefined");t||(t={tabEvents:new Map},null===(r=null==e?void 0:e.events)||void 0===r||r.set("undefined",t)),t.usage=ne.resolve(qr).sum(t.usage,s.app)}if(s.keyPages)for(const[t,n]of Object.entries(s.keyPages))if(Object.keys(n).length>0){let r=null===(o=null==e?void 0:e.events)||void 0===o?void 0:o.get(t);r||(r={tabEvents:new Map},null===(i=null==e?void 0:e.events)||void 0===i||i.set(t,r)),r.usage=ne.resolve(qr).sum(r.usage,n)}}}createOrMergeKeyPage(e,t,n,r){this.hasKeyPage(e,t)?this.mergeKeyPage(e,t,n,r):this.newKeyPage(e,t,n,r)}newKeyPage(e,t,n,r){var o,i;null===(i=null===(o=this.activities.get(e))||void 0===o?void 0:o.events)||void 0===i||i.set(t,new Jr(new Map)),this.addNewTabEvents(e,t,n,r)}mergeKeyPage(e,t,n,r){return this.createOrMergeTab(e,t,n,r)}createOrMergeTab(e,t,n,r){this.hasTab(e,t,n)?this.mergeTabEvents(e,t,n,r):this.addNewTabEvents(e,t,n,r)}sortBackgroundEvents(e,t){return e.extensionTime>t.extensionTime?1:e.extensionTime<t.extensionTime?-1:0}getTabEvents(e,t,n){var r,o,i;return null===(i=null===(o=null===(r=this.getApplication(e))||void 0===r?void 0:r.events)||void 0===o?void 0:o.get(t))||void 0===i?void 0:i.tabEvents.get(n.toString())}addNewTabEvents(e,t,n,r){var o;r.sort(this.sortBackgroundEvents);const i=zr.groupByNavigation(r);null===(o=this.getKeyPage(e,t))||void 0===o||o.tabEvents.set(n.toString(),i)}mergeTabEvents(e,t,n,r){var o;const i=this.getTabEvents(e,t,n),s=zr.groupByNavigation(r),a=new Gr(new Map([...i.events.entries()]));s.events.forEach(((e,t)=>{var n;a.events.set(t,[...null!==(n=i.events.get(t))&&void 0!==n?n:[],...e])})),a.events.forEach((e=>{e.sort(this.sortBackgroundEvents)})),null===(o=this.getKeyPage(e,t))||void 0===o||o.tabEvents.set(n.toString(),a)}hasTab(e,t,n){var r,o,i;return!!(null===(i=null===(o=null===(r=this.activities.get(e))||void 0===r?void 0:r.events)||void 0===o?void 0:o.get(t))||void 0===i?void 0:i.tabEvents.has(n.toString()))}hasApplication(e){return this.activities.has(e)}newApplication(e){this.activities.set(e,new Hr(new Map))}getApplication(e){return this.activities.get(e)}hasKeyPage(e,t){var n,r;return!!(null===(r=null===(n=this.activities.get(e))||void 0===n?void 0:n.events)||void 0===r?void 0:r.has(t))}getKeyPage(e,t){var n,r;return null===(r=null===(n=this.activities.get(e))||void 0===n?void 0:n.events)||void 0===r?void 0:r.get(t)}static groupByNavigation(e){return new Gr(this.groupBy(e,(e=>{var t,n;return null!==(n=null===(t=e.navigationRef)||void 0===t?void 0:t.navigationUrl)&&void 0!==n?n:"undefined"})))}static groupByKeyPageId(e){return new Gr(this.groupBy(e,(e=>{var t,n;return null!==(n=null===(t=e.navigationRef)||void 0===t?void 0:t.keyPageId)&&void 0!==n?n:"undefined"})))}static groupBy(e,t){return e.reduce(((e,n)=>{var r;const o=t(n);return e.has(o)?null===(r=e.get(o))||void 0===r||r.push(n):e.set(o,[n]),e}),new Map)}appendExperimental(e,t){var n;this.experimental.has(e)?null===(n=this.experimental.get(e))||void 0===n||n.push(t):this.experimental.set(e,[t])}setExperimental(e,t){this.experimental.set(e,t)}}Yr([Cr((()=>String)),Wr("design:type",Map)],zr.prototype,"experimental",void 0),Yr([Cr((()=>Hr)),Wr("design:type",Map)],zr.prototype,"activities",void 0);const $r=S.Extension.Config.Config.create({revision:"0.0.0",enabled:!0,feedbackEnabled:!1,beaconFrequencySeconds:60,appsConfig:{defaults:{navigationRequestStatus:!0,statusCodeThreshold:400,resourceRequestStatus:!1,navigationTiming:!0,mutations:!1,resourceTiming:!0,longTasks:!1,stableDomDebounceSeconds:.01,transactionTimeoutSeconds:600,errorExclusionList:{error:["net::ERR_ABORTED","601"]},maxFrameDepth:1},apps:[]},urlSanitizer:{defaults:{pathDepth:10,pathLength:120,anchorLength:120,tokenFilters:[]},rules:[]}});class Kr{constructor(e,t,n,r=1e3*$r.beaconFrequencySeconds,o=!1,i=(0,a.j)("BeaconManager","UsageDebug")){this.version=e,this.collector=t,this.beaconSanityChecker=n,this.beaconFrequencyMs=r,this.devMode=o,this.logger=i,this.subscriptions=[{type:["Time.Tick"],priority:hr.StandardSync}],this.active=!1,this.beaconDeadline=0,this.disableUsageMonitoring=!1,this.usageCounter=ne.resolve(qr),this.beacon=new kr(vr.BeaconManager.Beacon,new zr(this.version,c.X.now()-c.X.origin))}updateConfig({protoConfig:e}){var t,n,r;this.disableUsageMonitoring=null!==(r=null===(n=null===(t=e.appsConfig)||void 0===t?void 0:t.defaults)||void 0===n?void 0:n.disableUsageMonitoring)&&void 0!==r&&r,this.beaconFrequencyMs=1e3*e.beaconFrequencySeconds,this.beaconDeadline=0}getBeacon(){return this.beacon.get()}addEvents(e,t,n){const r=c.X.now(),o=this.beacon.get();if(o.addEvents(e,t,n),o.endTimestamp=r-c.X.origin,!this.disableUsageMonitoring){const e=this.usageCounter.pop(r);o.addUsage(e)}this.storeBeacon(o)}appendExperimental(e,t){const n=this.beacon.get();n.appendExperimental(e,t),this.storeBeacon(n)}setExperimental(e,t){const n=this.beacon.get();n.setExperimental(e,t),this.storeBeacon(n)}storeBeacon(e){this.beacon.set(e).catch((e=>{this.logger.error("Failed to store beacon",e)}))}sendBeacon(e=c.X.now()){const{beacon:t}=this;if(!this.disableUsageMonitoring){const n=this.usageCounter.pop(e);t.get().addUsage(n)}if(!t.get().isEmpty()){t.get().endTimestamp=e-c.X.origin,this.beaconSanityChecker.sanitize(t.get()),this.collector.postBeacon(t.get());const n=new zr(this.version,e-c.X.origin);this.logger.debug("Beacon sent",t.get(),"New Beacon created",n),this.storeBeacon(n)}}sendBeaconAtStartup(){const{beacon:e}=this;e.get().isEmpty()||(this.beaconSanityChecker.sanitize(e.get()),this.collector.postBeacon(e.get()));const t=new zr(this.version,c.X.now()-c.X.origin);this.logger.debug("Beacon sent",e.get(),"New Beacon created after beacon sent at startup",t),this.storeBeacon(t)}async*consume(e){this.active&&e.timestamp>=this.beaconDeadline&&(this.sendBeacon(e.timestamp),this.beaconDeadline=e.timestamp+this.beaconFrequencyMs)}activate(){this.active||(this.active=!0)}deactivate(){this.active&&(this.sendBeacon(),this.active=!1)}inspect(){return{type:"BeaconManager",active:this.active}}}class Xr{constructor(e){this.pattern=e,e.match(/^[\w\*]+:\/\//)&&(e=e.slice(e.indexOf("://")+3));const t=e.indexOf("/");let n,r;t<0?(Xr.logger.warn(`Invalid match pattern: ${e}, Missing path.`),n=e,r=""):(n=e.slice(0,t),r=e.slice(t));let o=!0;"*"===n[0]?1===n.length?(this.hostSuffix="",this.hostWildcard=!0):"."===n[1]?(this.hostSuffix=n.slice(2),this.hostWildcard=!0):(Xr.logger.warn(`Invalid hostname in match pattern: ${e}`),o=!1,this.pathPrefix="",this.hostSuffix="",this.hostWildcard=!1):(this.hostSuffix=n,this.hostWildcard=!1),this.pathPrefix=o?r.endsWith("*")?r.slice(0,r.length-1):r:"%INVALID%"}get urlFilter(){const{hostSuffix:e,pathPrefix:t}=this;return{hostSuffix:e,pathPrefix:t}}matchesUrl(e){if(!e)return!1;const{hostname:t,pathname:n}=new URL(e);return this.matches(t,n)}matches(e,t){return t.startsWith(this.pathPrefix)&&(""===this.hostSuffix||e.endsWith(this.hostSuffix)&&(e.length===this.hostSuffix.length||this.hostWildcard&&"."===e[e.length-this.hostSuffix.length-1]))}}function Qr(e,t,n=!1){var r;if(0===e.length)return{};const o={};n&&(o[void 0]=[]);for(let i=0;i<e.length;i++){const s=e[i],a=s[t];a?(0===(null!==(r=o[a])&&void 0!==r?r:[]).length&&(o[a]=[]),o[a].push(s)):n&&o[void 0].push(s)}return o}function Zr(){return crypto.randomUUID()}Xr.any=new Xr("*://*/*"),Xr.logger=(0,a.j)("UrlMatchPattern");const eo=e=>{let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol};function to(e){return no(e)}function no(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return e.map(no);const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n.replace(/([A-Z])/g,((e,t)=>`_${t.toLowerCase()}`))]=no(e[n]));return t}function ro(e){if("object"!=typeof e||null===e)return e;if(Array.isArray(e))return e.map(ro);const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n.replace(/_([a-z])/g,((e,t)=>t.toUpperCase()))]=ro(e[n]));return t}function oo(e){return void 0===e&&(e={}),function(t,n){Pr.addExcludeMetadata({target:t instanceof Function?t:t.constructor,propertyName:n,options:e})}}var io=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},so=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const ao=2592e6;class co extends Ir{constructor(e){super(),this.timeToLiveInMilliseconds=ao,this.memo={},this.json=e,this.init()}init(){this.json&&(this.config=S.Extension.Config.Config.fromObject(JSON.parse(this.json)))}setTimeToLive(e){this.setTimeToLiveInMs(e)}isEmpty(){return void 0===this.config}serialize(){return JSON.stringify(Mr(this))}deserialize(e){const t=jr(co,JSON.parse(e));return Array.isArray(t)||t.init(),t}get protoConfig(){if(void 0===this.config)throw new Error("Empty config");return this.config}get rawJson(){if(void 0===this.json)throw new Error("Empty config");return this.json}get revision(){return this.protoConfig.revision}get keepAliveFrequencySeconds(){return this.protoConfig.keepAliveFrequencySeconds>0?this.protoConfig.keepAliveFrequencySeconds:600}get defaultThresholdInfo(){return this.protoConfig.defaultThresholdInfo}get urlSanitizer(){return this.protoConfig.urlSanitizer}get apps(){return this.memo.apps||(this.memo.apps=this.makeAppsMap((e=>e))),this.memo.apps}get appConfigs(){var e,t,n,r;return this.memo.appConfigs||(this.memo.appConfigs=null!==(r=null===(n=null===(t=null===(e=this.protoConfig.appsConfig)||void 0===e?void 0:e.apps)||void 0===t?void 0:t.filter((e=>{var t;return null===(t=e.rules)||void 0===t?void 0:t.length})))||void 0===n?void 0:n.map((e=>co.normalizeAppConfig(e,this.defaultAppOptions))))&&void 0!==r?r:[]),this.memo.appConfigs}get defaultAppOptions(){var e,t,n,r;return this.memo.defaultAppOptions||(co.removeUndefinedOrNullProperties(null!==(t=null===(e=this.protoConfig.appsConfig)||void 0===e?void 0:e.defaults)&&void 0!==t?t:{}),this.memo.defaultAppOptions={...null===(n=null==$r?void 0:$r.appsConfig)||void 0===n?void 0:n.defaults,...null===(r=this.protoConfig.appsConfig)||void 0===r?void 0:r.defaults}),this.memo.defaultAppOptions}get appUrlPatterns(){return this.memo.appUrlPatterns||(this.memo.appUrlPatterns=this.appConfigs.flatMap((({rules:e})=>e.flatMap((({urlPatterns:e})=>null!=e?e:[]))))),this.memo.appUrlPatterns}get appNames(){var e;return this.memo.appNames||(this.memo.appNames=this.appConfigs.flatMap((({name:e})=>null!=e?e:[]))),null===(e=[...this.memo.appNames])||void 0===e?void 0:e.sort(((e,t)=>e.toLowerCase()>t.toLowerCase()?1:-1))}get appUrlMatchPatterns(){return this.memo.appUrlMatchPatterns||(this.memo.appUrlMatchPatterns=this.makeAppsMap(co.getUrlMatchPatterns)),this.memo.appUrlMatchPatterns}static getUrlMatchPatterns(e){return e.rules.map((({urlPatterns:e})=>{var t;return null!==(t=null==e?void 0:e.map((e=>new Xr(e))))&&void 0!==t?t:[]}))}static buildRequestFilter(e){const t=[];return e.rules.forEach((e=>{var n;null===(n=e.urlPatterns)||void 0===n||n.forEach((e=>{const n=e.split("://");if(2!==n.length)return;const r=n[0],o=n[1];"*"===r?(t.push(`https://${o}`),t.push(`http://${o}`)):t.push(`${r}://${o}`)}))})),{urls:t}}get urlMatchPatterns(){return Array.from(this.appUrlMatchPatterns.values()).flat(2)}makeAppsMap(e){return this.appConfigs.reduce(((t,n)=>(t.set(null==n?void 0:n.appId,e(n)),t)),new Map)}lookupAppName(e){var t;return null===(t=this.apps.get(e))||void 0===t?void 0:t.name}lookupKeyPageName(e,t){var n,r,o;return null!==(o=null===(r=null===(n=this.apps.get(e))||void 0===n?void 0:n.keyPages.find((({keyPageId:e})=>e===t)))||void 0===r?void 0:r.name)&&void 0!==o?o:void 0}lookupMaxFrameDepth(e){var t,n,r;return null!==(r=null===(n=null===(t=this.apps.get(e))||void 0===t?void 0:t.options)||void 0===n?void 0:n.maxFrameDepth)&&void 0!==r?r:1}getAppIdFromUrl(e){let t,n;try{({hostname:t,pathname:n}=new URL(e))}catch(t){return void co.logger.warn("Error parsing url to retrieve the linked appId",e)}const r=Array.from(this.appUrlMatchPatterns.entries()).filter((e=>{const[,r]=e;return r.some((e=>e.some((e=>e.matches(t,n)))))})).map((e=>{const[t]=e;return t}));return r.length>1&&co.logger.error("Url matches to multiple appIds",e,r.join()),0!==r.length?r[0]:void 0}validate(){var e,t,n;const{protoConfig:r,rawJson:o}=this;try{if(!r||0===Object.keys(r).length)throw new Error("Empty config object loaded, likely corrupted config data");let i;if((null===(e=r.urlSanitizer)||void 0===e?void 0:e.defaults)?(null===(n="captureParams"in(null===(t=r.urlSanitizer)||void 0===t?void 0:t.defaults))||void 0===n||n)&&(i="UrlSanitizer default configuration cannot specify capture params"):i="UrlSanitizer default configuration is missing",i)return{okay:!1,config:this,invalidLoadingStatus:S.Extension.Config.ConfigLoadingStatus.create({configRevision:r.revision,code:S.Extension.Config.ConfigLoadingCode.CONFIG_LOADING_CODE_INVALID,message:"URL anonymization filter config is invalid",details:[i.toString(),o]})}}catch(e){if((e=>"toString"in e)(e))return co.logger.error("Generic config validation error",e),{okay:!1,config:this,invalidLoadingStatus:S.Extension.Config.ConfigLoadingStatus.create({configRevision:void 0,code:S.Extension.Config.ConfigLoadingCode.CONFIG_LOADING_CODE_CORRUPTED,message:"Could not parse config object. Corrupted or non well-formed config.",details:[e.toString(),o]})}}return{okay:!0,config:this,invalidLoadingStatus:void 0}}static removeUndefinedOrNullProperties(e){Object.keys(e).forEach((t=>{var n;const r=t;null!==(n=e[r])&&void 0!==n||delete e[r]}))}static normalizeAppConfig({appId:e,name:t,options:n={},rules:r=[],keyPages:o=[],thresholdInfo:i={},transactions:s=[],customErrors:a=[],enableSoftNavs:c=!1,showUrlTable:l=!0},u={}){return this.removeUndefinedOrNullProperties(null!=n?n:{}),new S.Extension.Config.AppConfig({appId:e,name:t,options:{...u,...n},rules:r,keyPages:o,transactions:s,thresholdInfo:i,customErrors:a,enableSoftNavs:c,showUrlTable:l})}}co.logger=(0,a.j)("ExtensionConfig"),co.defaultConfig=new co(JSON.stringify($r)),io([Cr((()=>String)),so("design:type",String)],co.prototype,"json",void 0),io([oo(),so("design:type",S.Extension.Config.Config)],co.prototype,"config",void 0),io([oo(),so("design:type",Object)],co.prototype,"memo",void 0),io([oo(),so("design:type",Object)],co,"logger",void 0),io([oo(),so("design:type",Object)],co,"defaultConfig",void 0);const lo=["*"];class uo{constructor(){this.index={type:new Map,appId:new Map,tabId:new Map},this.indexEntries=Object.entries(this.index)}insert(e){e.subscriptions.forEach((t=>{var n,r,o,i;const s={priority:null!==(n=t.priority)&&void 0!==n?n:100,type:null!==(r=t.type)&&void 0!==r?r:lo,tabId:null!==(o=t.tabId)&&void 0!==o?o:lo,appId:null!==(i=t.appId)&&void 0!==i?i:lo},a={priority:s.priority,subscription:s,subscriber:e};this.indexEntries.forEach((([e,t])=>{this.insertIntoIndex(t,s[e],a)}))}))}lookup(e,t=0){const n=[];this.indexEntries.forEach((([t,r])=>{void 0!==e[t]&&n.push(this.lookupValueInIndex(e[t],r))}));let r=Array.from(n[0]||[]);return n.slice(1).forEach((e=>{const t=new Set(e);r=r.filter((e=>t.has(e)))})),t<0?r=r.filter((({priority:e})=>e<0)):t>0&&(r=r.filter((({priority:e})=>e>=0))),[...r].sort(((e,t)=>e.priority-t.priority)).map((({subscriber:e})=>e))}delete(e){e.subscriptions.forEach((t=>{this.indexEntries.forEach((([n,r])=>{var o;this.deleteFromIndex(r,null!==(o=t[n])&&void 0!==o?o:lo,e)}))}))}insertIntoIndex(e,t,n){t.forEach((t=>{var r;e.has(t)?null===(r=e.get(t))||void 0===r||r.push(n):e.set(t,[n])}))}lookupValueInIndex(e,t){return(t.get(e)||[]).concat(t.get("*")||[])}deleteFromIndex(e,t,n){t.forEach((t=>{var r;e.has(t)&&e.set(t,(null!==(r=e.get(t))&&void 0!==r?r:[]).filter((e=>e.subscriber!==n)))}))}}var po=__webpack_require__(5717),fo=function(e,t){return function(n,r){t(n,r,e)}};let go=class{constructor(e,t,n){this.maxAgeMs=e,this.maxLength=t,this.logger=n,this.buffer=[],this.subscriptions=new uo,this.flush=async()=>{var e;const t=this.popNextEvent();t?(await this.distributeEvent(t),null===(e=this.flushAlarm)||void 0===e||e.stop(),this.flushAlarm=new po.j("event-bus-flusher",this.flush,{delayInMs:0}),this.flushAlarm.start()):this.flushWhenReady()}}publish(e){this.distributeEvent(e,!0);const{buffer:t}=this;if(!t.length||t[t.length-1].timestamp<e.timestamp)t.push(e);else{let n;for(n=t.length-1;n>=0&&!(t[n].timestamp<=e.timestamp);n--);t.splice(n+1,0,e)}this.flushWhenReady()}subscribe(e){this.subscriptions.insert(e)}unsubscribe(e){this.subscriptions.delete(e)}async distributeEvent(e,t=!1){var n,r;t||((null!==(r=null===(n=this.latestFlushedEvent)||void 0===n?void 0:n.timestamp)&&void 0!==r?r:0)>e.timestamp?this.logger.warn("Distributing out of order event",{event:e,previousEvent:this.latestFlushedEvent}):this.latestFlushedEvent=e);const o=this.subscriptions.lookup(e,t?-1:1);for(const t of o){const n=t.consume(e);for(;;){let r,o;try{if(({value:r,done:o}=await n.next()),o)break}catch(n){this.logger.error("Consumer failed to process event.",n,{event:e,consumer:t.constructor.name});break}r&&this.publish(r)}}}popNextEvent(){if(!this.buffer.length)return;const e=this.buffer[0];return(null==e?void 0:e.timestamp)&&(null==e?void 0:e.timestamp)<c.X.now()-this.maxAgeMs||this.buffer.length>this.maxLength?(this.buffer.shift(),e):void 0}flushWhenReady(){var e;null===(e=this.flushAlarm)||void 0===e||e.stop();const t=this.buffer[0];(null==t?void 0:t.timestamp)&&(this.flushAlarm=new po.j("event-bus-flusher",this.flush,{delayInMs:Math.max(0,this.maxAgeMs-(c.X.now()-(null==t?void 0:t.timestamp)))}),this.flushAlarm.start())}};go=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"EventBusMaxAgeMs",useValue:1e3},{token:"EventBusMaxLength",useValue:500},{token:"EventBusLogger",useFactory:()=>(0,a.j)("EventBus")}]),fo(0,oe("EventBusMaxAgeMs")),fo(1,oe("EventBusMaxLength")),fo(2,oe("EventBusLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Number,Number,Object])],go);const ho=go;var vo=function(e,t){return function(n,r){t(n,r,e)}};let mo=class{constructor(e,t){this.eventBus=e,this.logger=t,this.consumers=new Set,this.broadcastFrom=e=>{for(const t of e)t&&this.eventBus.publish(t)}}register(e){var t;this.consumers.has(e)||(this.consumers.add(e),this.eventBus.subscribe(e),null===(t=e.activate)||void 0===t||t.call(e))}unregister(e){var t;this.consumers.has(e)&&(this.consumers.delete(e),this.eventBus.unsubscribe(e),null===(t=e.deactivate)||void 0===t||t.call(e))}broadcast(e){this.eventBus.publish(e)}inspect(){return{eventBus:this.eventBus,consumers:Array.from(this.consumers)}}};mo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"EventManagerLogger",useFactory:()=>(0,a.j)("EventManager")}]),vo(0,oe(ho)),vo(1,oe("EventManagerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[ho,Object])],mo);class bo{static generateTokenExpressions(e){const t=new Array;return e&&e.forEach((({subst:e,regex:n})=>{if(!n)throw new Error("Missing regex pattern in URL token filter config");try{const r=new RegExp(n,"gi"),o=null!=e?e:bo.DEFAULT_PLACEHOLDER;t.push({regexp:r,placeholder:o})}catch(t){if(!(t instanceof Error&&"SyntaxError"===t.name))throw t;bo.logger.warn(`Unable to initialize URL filter token '${e}' with expression '${n}'`)}})),t}constructor(e){this.filter=e=>{var t;return null===(t=this.tokenExpressions)||void 0===t||t.forEach((({regexp:t,placeholder:n})=>{e=e.replace(t,n)})),e},e.tokenFilters&&(this.tokenExpressions=bo.generateTokenExpressions(e.tokenFilters))}}bo.DEFAULT_PLACEHOLDER="[…]",bo.logger=(0,a.j)("UrlTokensFilter");class yo{constructor(e){if(this.config=e,this.sanitizeAnchor=e=>{const{fragmentAsAnchor:t,anchorLength:n}=this.config;return t?n&&e.length>n+1?e.slice(0,n+1)+yo.CUT_PLACEHOLDER:e:""},e.fragmentAsAnchor&&e.fragmentAsPath||e.fragmentAsQuery&&e.fragmentAsPath||e.fragmentAsAnchor&&e.fragmentAsQuery)throw new Error("Only one usage for fragment is allowed.");this.captureParams=new Set(e.captureParams),this.tokensFilter=new bo(e)}sanitizeString(e,t){return this.sanitize(new URL(e),t)}sanitize(e,t){let n=e.pathname,r=e.search;if(e.hash)if(this.config.fragmentAsPath){const t=e.hash.split("?",2);n+=t[0],t.length>1&&!r&&(r=`?${t[1]}`)}else!r&&this.config.fragmentAsQuery&&(r=e.hash);n=this.sanitizePath(n,t),r=this.sanitizeQuery(r);const o=this.sanitizeAnchor(e.hash),i=e.origin+n+r+o;return this.tokensFilter.filter(i)}sanitizePath(e,t){if(!t)return e;const{pathLength:n,pathDepth:r}=this.config;if(n&&e.length>n&&(e=e.slice(0,n)+yo.CUT_PLACEHOLDER),r){const t=e.split("/");t.length>r+1&&(e=t.slice(0,r+1).join("/")+yo.PATH_CUT_PLACEHOLDER)}return e}sanitizeQuery(e){const t=e[0],n=new URLSearchParams(e.substring(1)),r=[];return n.forEach(((e,t)=>{this.captureParams.has(t)?r.push(e?`${t}=${e}`:`${t}`):r.push(`[${t}]`)})),r.length>0?t+r.join("&"):""}}yo.CUT_PLACEHOLDER="…",yo.PATH_CUT_PLACEHOLDER=`/${yo.CUT_PLACEHOLDER}`;class Eo{constructor(){this.listeners=[],this.onUpdate={addListener:e=>{this.listeners.push(e),this.isDataAvailable()&&e()},removeListener:e=>{const t=this.listeners.indexOf(e);t>-1&&this.listeners.splice(t,1)}}}notifyUpdate(){this.listeners.forEach((e=>e()))}}var So=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},To=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class _o{constructor(){this.id=void 0,this.revision=void 0,this.name="",this.thresholds=void 0,this.rules=[],this.keyPages=[],this.transactions=[],this.collectUrls=!0,this.softNavigationsEnabled=!1}}class xo{constructor(){this.maxFrameDepth=3,this.revision=void 0,this.beaconFrequency=void 0,this.keepAliveFrequency=void 0,this.installedExtensionFrequency=void 0,this.transactionTimeout=void 0,this.disableUsageMonitoring=!1,this.statusCodeThreshold=400,this.thresholds=void 0,this.extensionBranding=void 0,this.urlSanitization=void 0,this.featureFlags={}}}class Oo extends Ir{constructor(){super(),this.timeToLiveInMilliseconds=ao,this._applications=new Map,this._settings=new xo,this._applicationRevisions=new Map}get applications(){return this._applications}get settings(){return this._settings}get applicationRevisions(){return this._applicationRevisions}isValid(){return void 0!==this.settings.revision}update(e){return this.handleConfigEnvelope(e),this}setTimeToLive(e){this.setTimeToLiveInMs(e)}handleConfigEnvelope(e){this.updateAppRevisions(e),this.handleConfigChanges(e)}handleConfigChanges(e){e.configChanges.forEach((e=>{var t,n,r,o,i,s,a;switch(null===(t=e.value)||void 0===t?void 0:t.$case){case"webApplicationUpdate":{const t=e.value.webApplicationUpdate;this._applications.set(null!==(r=null===(n=t.id)||void 0===n?void 0:n.value)&&void 0!==r?r:"",t);break}case"webApplicationDeletion":this._applications.delete(null!==(s=null===(i=null===(o=e.value)||void 0===o?void 0:o.webApplicationDeletion.id)||void 0===i?void 0:i.value)&&void 0!==s?s:"");break;case"extensionConfigUpdate":{const t=null===(a=e.value)||void 0===a?void 0:a.extensionConfigUpdate;this._settings=t}}}))}updateAppRevisions(e){this._applicationRevisions=new Map(Array.from(new Map(Object.entries(e.applicationRevisions))).map((e=>[e[0],e[1].value])))}deserialize(e){return jr(Oo,JSON.parse(e))}serialize(){return JSON.stringify(Mr(this))}}So([Cr((()=>_o)),To("design:type",Map)],Oo.prototype,"_applications",void 0),So([Cr((()=>xo)),To("design:type",Object)],Oo.prototype,"_settings",void 0),So([Cr((()=>String)),To("design:type",Map)],Oo.prototype,"_applicationRevisions",void 0);class wo{constructor(e){this.configV2=e}toV1(){var e,t;if(!this.configV2.isValid())throw new Error("Cannot convert a empty or incomplete config");const n=this.createDefaultV1Config();return(null===(e=this.configV2.settings)||void 0===e?void 0:e.featureFlags)&&Object.keys(this.configV2.settings.featureFlags).forEach((e=>{var t;const r=null===(t=this.configV2.settings)||void 0===t?void 0:t.featureFlags[e].value;"booleanValue"===(null==r?void 0:r.$case)&&(n.featureFlags[e]={enabled:r.booleanValue})})),null===(t=this.configV2.applications)||void 0===t||t.forEach((e=>{var t,r;const o=this.createAppV1Config(e);null===(r=null===(t=n.appsConfig)||void 0===t?void 0:t.apps)||void 0===r||r.push(o)})),new co(JSON.stringify(n))}createDefaultV1Config(){var e,t,n,r,o,i,s,a,c,l,u,d,p,f,g,h,v,m,b,y,E,T,_,x,O,w,I,k,R,P,C,N,A,D,L,U,M,j,F,B,V,q,Y,W,G,J,H;return S.Extension.Config.Config.create({enabled:!0,beaconFrequencySeconds:(null===(e=this.configV2.settings)||void 0===e?void 0:e.beaconFrequency)?this.protoDurationToSeconds(this.configV2.settings.beaconFrequency):void 0,appsConfig:{defaults:{disableUsageMonitoring:null===(t=this.configV2.settings)||void 0===t?void 0:t.disableUsageMonitoring,maxFrameDepth:null===(n=this.configV2.settings)||void 0===n?void 0:n.maxFrameDepth,transactionTimeoutSeconds:(null===(r=this.configV2.settings)||void 0===r?void 0:r.transactionTimeout)?this.protoDurationToSeconds(this.configV2.settings.transactionTimeout):void 0},apps:[]},defaultThresholdInfo:(null===(o=this.configV2.settings)||void 0===o?void 0:o.thresholds)?{pageLoadTimeSec:(null===(s=null===(i=this.configV2.settings)||void 0===i?void 0:i.thresholds)||void 0===s?void 0:s.pageLoad)?{average:(null===(l=null===(c=null===(a=this.configV2.settings)||void 0===a?void 0:a.thresholds)||void 0===c?void 0:c.pageLoad)||void 0===l?void 0:l.average)?this.protoDurationToSeconds(this.configV2.settings.thresholds.pageLoad.average):void 0,frustrating:(null===(p=null===(d=null===(u=this.configV2.settings)||void 0===u?void 0:u.thresholds)||void 0===d?void 0:d.pageLoad)||void 0===p?void 0:p.frustrating)?this.protoDurationToSeconds(null===(h=null===(g=null===(f=this.configV2.settings)||void 0===f?void 0:f.thresholds)||void 0===g?void 0:g.pageLoad)||void 0===h?void 0:h.frustrating):void 0}:void 0,transactionDurationSec:(null===(m=null===(v=this.configV2.settings)||void 0===v?void 0:v.thresholds)||void 0===m?void 0:m.transaction)?{average:(null===(E=null===(y=null===(b=this.configV2.settings)||void 0===b?void 0:b.thresholds)||void 0===y?void 0:y.transaction)||void 0===E?void 0:E.average)?this.protoDurationToSeconds(null===(x=null===(_=null===(T=this.configV2.settings)||void 0===T?void 0:T.thresholds)||void 0===_?void 0:_.transaction)||void 0===x?void 0:x.average):void 0,frustrating:(null===(I=null===(w=null===(O=this.configV2.settings)||void 0===O?void 0:O.thresholds)||void 0===w?void 0:w.transaction)||void 0===I?void 0:I.frustrating)?this.protoDurationToSeconds(null===(P=null===(R=null===(k=this.configV2.settings)||void 0===k?void 0:k.thresholds)||void 0===R?void 0:R.transaction)||void 0===P?void 0:P.frustrating):void 0}:void 0}:void 0,keepAliveFrequencySeconds:(null===(C=this.configV2.settings)||void 0===C?void 0:C.keepAliveFrequency)?this.protoDurationToSeconds(this.configV2.settings.keepAliveFrequency):void 0,extBrandingConfig:null===(N=this.configV2.settings)||void 0===N?void 0:N.extensionBranding,minExtensionVersion:"1.0.0",urlSanitizer:{defaults:{pathDepth:null===(L=null===(D=null===(A=this.configV2.settings)||void 0===A?void 0:A.urlSanitization)||void 0===D?void 0:D.defaultRule)||void 0===L?void 0:L.pathDepth,pathLength:null===(j=null===(M=null===(U=this.configV2.settings)||void 0===U?void 0:U.urlSanitization)||void 0===M?void 0:M.defaultRule)||void 0===j?void 0:j.pathLength,anchorLength:null===(V=null===(B=null===(F=this.configV2.settings)||void 0===F?void 0:F.urlSanitization)||void 0===B?void 0:B.defaultRule)||void 0===V?void 0:V.anchorLength,tokenFilters:(null!==(G=null===(W=null===(Y=null===(q=this.configV2.settings)||void 0===q?void 0:q.urlSanitization)||void 0===Y?void 0:Y.defaultRule)||void 0===W?void 0:W.tokenFilters)&&void 0!==G?G:[]).map((e=>({regex:e.regex,subst:e.substitute})))},rules:null===(H=null===(J=this.configV2.settings)||void 0===J?void 0:J.urlSanitization)||void 0===H?void 0:H.hostSpecificRules.map((e=>{var t,n,r,o,i,s,a,c,l,u,d,p;return{hosts:e.hosts,pathDepth:null===(t=e.tokenRule)||void 0===t?void 0:t.pathLength,pathLength:null===(n=e.tokenRule)||void 0===n?void 0:n.pathLength,anchorLength:null===(r=e.tokenRule)||void 0===r?void 0:r.anchorLength,captureParams:null===(o=e.tokenRule)||void 0===o?void 0:o.captureParams,fragmentAsPath:"fragmentAsPath"===(null===(s=null===(i=e.tokenRule)||void 0===i?void 0:i.fragmentHandling)||void 0===s?void 0:s.$case),fragmentAsQuery:"fragmentAsQuery"===(null===(c=null===(a=e.tokenRule)||void 0===a?void 0:a.fragmentHandling)||void 0===c?void 0:c.$case),fragmentAsAnchor:"fragmentAsAnchor"===(null===(u=null===(l=e.tokenRule)||void 0===l?void 0:l.fragmentHandling)||void 0===u?void 0:u.$case),tokenFilters:(null!==(p=null===(d=e.tokenRule)||void 0===d?void 0:d.tokenFilters)&&void 0!==p?p:[]).map((e=>({regex:e.regex,subst:e.substitute})))}}))}})}createAppV1Config(e){var t,n,r,o,i,s,a,c,l,u,d;return S.Extension.Config.AppConfig.create({appId:null===(t=e.id)||void 0===t?void 0:t.value,name:e.name,options:void 0,rules:e.rules.map((e=>{var t;return{appRuleId:null===(t=e.id)||void 0===t?void 0:t.value,name:e.name,urlPatterns:[e.urlPattern]}})),keyPages:e.keyPages.map((e=>{var t,n,r;return{keyPageId:null===(t=e.id)||void 0===t?void 0:t.value,name:e.name,rules:[{appRules:null===(n=e.rule)||void 0===n?void 0:n.appRuleIds.map((e=>e.value)),pathPatterns:[{expression:null===(r=e.rule)||void 0===r?void 0:r.expression}]}]}})),transactions:e.transactions.map((e=>this.transactionV2toV1(e))),customErrors:void 0,showUrlTable:e.collectUrls,campaignId:void 0,licenseInfo:void 0,thresholdInfo:(null==e?void 0:e.thresholds)?{pageLoadTimeSec:(null===(n=null==e?void 0:e.thresholds)||void 0===n?void 0:n.pageLoad)?{average:(null===(o=null===(r=null==e?void 0:e.thresholds)||void 0===r?void 0:r.pageLoad)||void 0===o?void 0:o.average)?this.protoDurationToSeconds(e.thresholds.pageLoad.average):void 0,frustrating:(null===(s=null===(i=null==e?void 0:e.thresholds)||void 0===i?void 0:i.pageLoad)||void 0===s?void 0:s.frustrating)?this.protoDurationToSeconds(e.thresholds.pageLoad.frustrating):void 0}:void 0,transactionDurationSec:(null===(a=null==e?void 0:e.thresholds)||void 0===a?void 0:a.transaction)?{average:(null===(l=null===(c=null==e?void 0:e.thresholds)||void 0===c?void 0:c.transaction)||void 0===l?void 0:l.average)?this.protoDurationToSeconds(e.thresholds.transaction.average):void 0,frustrating:(null===(d=null===(u=null==e?void 0:e.thresholds)||void 0===u?void 0:u.transaction)||void 0===d?void 0:d.frustrating)?this.protoDurationToSeconds(e.thresholds.transaction.frustrating):void 0}:void 0}:void 0,enableSoftNavs:e.softNavigationsEnabled,desktopAppConfigDefinition:void 0,category:void 0,builtinContentMetadata:void 0})}protoDurationToSeconds(e){return e.seconds+e.nanos/1e9}transactionV2toV1(e){var t;return{name:e.name,monitorId:null===(t=e.id)||void 0===t?void 0:t.value,startTriggers:e.startTriggers.map((e=>this.startTriggerV2toV1(e))),endTriggers:e.endTriggers.map((e=>this.endTriggerV2toV1(e))),endOnStartTriggerReset:void 0,errorTriggers:void 0,ignoreUserInput:void 0,isMultiPage:void 0,isNavigationEvent:void 0,timeoutSeconds:void 0}}startTriggerV2toV1(e){var t,n,r,o,i,s,a;return{monitorId:null===(t=e.id)||void 0===t?void 0:t.value,name:e.name,keyPages:void 0,element:e.element?{cssSelector:null===(n=e.element)||void 0===n?void 0:n.cssSelector,innerTextPatterns:(null===(r=e.element)||void 0===r?void 0:r.innerTextPattern)?[{expression:null===(o=e.element)||void 0===o?void 0:o.innerTextPattern}]:void 0,selectAll:null===(i=e.element)||void 0===i?void 0:i.selectAll,waitForNew:void 0}:void 0,event:e.mechanism?{name:"event"===(null===(s=e.mechanism)||void 0===s?void 0:s.$case)?"click":"keyboard-shortcut",keyboardShortcut:"keyboardShortcut"===(null===(a=e.mechanism)||void 0===a?void 0:a.$case)?e.mechanism.keyboardShortcut:void 0}:void 0}}endTriggerV2toV1(e){var t,n,r,o,i,s,a;return{monitorId:null===(t=e.id)||void 0===t?void 0:t.value,name:e.name,keyPages:void 0,element:e.element?{cssSelector:null===(n=e.element)||void 0===n?void 0:n.cssSelector,innerTextPatterns:(null===(r=e.element)||void 0===r?void 0:r.innerTextPattern)?[{expression:null===(o=e.element)||void 0===o?void 0:o.innerTextPattern}]:void 0,selectAll:null===(i=e.element)||void 0===i?void 0:i.selectAll,waitForNew:e.waitForNew}:void 0,visibility:"visibility"===(null===(s=e.mechanism)||void 0===s?void 0:s.$case)?{triggerOnHidden:e.mechanism.visibility.triggerOnHidden}:void 0,presence:void 0,event:void 0,class:"className"===(null===(a=e.mechanism)||void 0===a?void 0:a.$case)?{name:e.mechanism.className.name,triggerOnRemoved:e.mechanism.className.triggerOnRemoved}:void 0}}}let Io=class extends Eo{constructor(e){super(),this.logger=e,this.latestConfig=new kr(vr.ConfigManager.LatestConfig,new co,xr.Persistent),this.latestConfigV2=new kr(vr.ConfigManager.LatestConfigV2,new Oo,xr.Persistent)}async setConfigV1(e){await this.latestConfig.set(e),await this.resetConfigV2(),this.notifyUpdate()}async updateConfigV2(e){if(this.latestConfigV2.get().update(e),!this.latestConfigV2.get().isValid())return void this.logger.error("Invalid or incomplete config received",e,this.latestConfigV2.get().applications,this.latestConfigV2.get().settings,this.latestConfigV2.get().applicationRevisions);await this.latestConfigV2.set(this.latestConfigV2.get());const t=new wo(this.latestConfigV2.get()).toV1();this.logger.debug("Converted v2 config to v1",e,t),await this.latestConfig.set(t),this.notifyUpdate()}getLatestConfig(){return this.latestConfig.get().isEmpty()?void 0:this.latestConfig.get()}getLatestConfigV2(){return this.latestConfigV2.get().isValid()?this.latestConfigV2.get():void 0}async setConfigTimeToLive(e){this.logger.info("Setting config time to live to",e),this.latestConfig.get().setTimeToLiveInMs(e),await this.latestConfig.set(this.latestConfig.get()),this.latestConfigV2.get().setTimeToLiveInMs(e),await this.latestConfigV2.set(this.latestConfigV2.get())}getErrorStatusThreshold(e){var t,n,r,o,i,s,a;const c=null===(n=null===(t=$r.appsConfig)||void 0===t?void 0:t.defaults)||void 0===n?void 0:n.statusCodeThreshold;return null!==(a=null===(s=null===(i=null===(o=null===(r=this.getLatestConfig())||void 0===r?void 0:r.apps)||void 0===o?void 0:o.get(e))||void 0===i?void 0:i.options)||void 0===s?void 0:s.statusCodeThreshold)&&void 0!==a?a:c}shouldCollectNavigationStatus(e){var t,n,r,o,i,s,a,c;const l=null!==(r=null===(n=null===(t=null==$r?void 0:$r.appsConfig)||void 0===t?void 0:t.defaults)||void 0===n?void 0:n.navigationRequestStatus)&&void 0!==r&&r;return null!==(c=null===(a=null===(s=null===(i=null===(o=this.getLatestConfig())||void 0===o?void 0:o.apps)||void 0===i?void 0:i.get(e))||void 0===s?void 0:s.options)||void 0===a?void 0:a.navigationRequestStatus)&&void 0!==c?c:l}isAutoEndTransaction(e,t){var n,r,o,i,s;const a=null===(s=null===(i=null===(o=null===(r=null===(n=this.latestConfig)||void 0===n?void 0:n.get())||void 0===r?void 0:r.apps)||void 0===o?void 0:o.get(e))||void 0===i?void 0:i.transactions.find((e=>e.monitorId===t)))||void 0===s?void 0:s.endTriggers;return!a||0===a.length}areSoftNavigationsEnabled(e){var t,n,r,o;return null!==(o=null===(r=null===(n=null===(t=this.getLatestConfig())||void 0===t?void 0:t.apps)||void 0===n?void 0:n.get(e))||void 0===r?void 0:r.enableSoftNavs)&&void 0!==o&&o}shouldCollectResourceStatus(e){var t,n,r,o,i,s,a,c;const l=null!==(r=null===(n=null===(t=null==$r?void 0:$r.appsConfig)||void 0===t?void 0:t.defaults)||void 0===n?void 0:n.resourceRequestStatus)&&void 0!==r&&r;return null!==(c=null===(a=null===(s=null===(i=null===(o=this.getLatestConfig())||void 0===o?void 0:o.apps)||void 0===i?void 0:i.get(e))||void 0===s?void 0:s.options)||void 0===a?void 0:a.resourceRequestStatus)&&void 0!==c?c:l}shouldDisableUrlReporting(e){var t,n,r;const o=this.getLatestConfig();return!(null===(r=null===(n=null===(t=null==o?void 0:o.apps)||void 0===t?void 0:t.get(e))||void 0===n?void 0:n.showUrlTable)||void 0===r||r)}getErrorExclusionList(e){var t,n,r,o,i,s,a,c,l,u;const d=null!==(o=null===(r=null===(n=null===(t=null==$r?void 0:$r.appsConfig)||void 0===t?void 0:t.defaults)||void 0===n?void 0:n.errorExclusionList)||void 0===r?void 0:r.error)&&void 0!==o?o:[];return(null!==(u=null===(l=null===(c=null===(a=null===(s=null===(i=this.getLatestConfig())||void 0===i?void 0:i.apps)||void 0===s?void 0:s.get(e))||void 0===a?void 0:a.options)||void 0===c?void 0:c.errorExclusionList)||void 0===l?void 0:l.error)&&void 0!==u?u:d).map((e=>e.toLowerCase()))}async resetConfigV2(){await this.latestConfigV2.set(new Oo)}isDataAvailable(){return void 0!==this.getLatestConfig()}};Io=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"ConfigManagerLogger",useFactory:()=>(0,a.j)("ConfigManager")}]),function(e,t){return function(n,r){t(n,r,e)}}(0,oe("ConfigManagerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Io);const ko=Io;var Ro=function(e,t){return function(n,r){t(n,r,e)}};let Po=class{constructor(e,t){this.configManager=e,this.logger=t,this.hostSanitizers=new Map,this.onConfigUpdate=()=>{const e=this.configManager.getLatestConfig();if(!e)return;const{defaults:t,rules:n}=e.urlSanitizer;if(this.hostSanitizers.clear(),null==n||n.forEach((e=>{if(!e.hosts||0===e.hosts.length)throw new Error("All rule must specify a list of hosts");const n=S.Extension.Config.UrlSanitizerConfig.create({...t,...e});e.tokenFilters&&(null==t?void 0:t.tokenFilters)&&(n.tokenFilters=[...e.tokenFilters,...t.tokenFilters]),n.hosts.forEach((e=>{this.addSanitizer(e,new yo(n))}))})),!this.hostSanitizers.has("*")){const e=new yo(null!=t?t:{});this.hostSanitizers.set("*",e)}},this.configManager.onUpdate.addListener(this.onConfigUpdate)}addSanitizer(e,t){const n=e.split(".").reverse(),r=n.pop();if(!r)throw new Error(`Invalid fqdn: ${e}`);let o=this.hostSanitizers;for(const t of n){const n=o.get(t);if(n instanceof yo)throw new Error(`Subdomain ${t} of ${e} conflicts with existing sanitizer`);if(n instanceof Map)o=n;else{const e=new Map;o.set(t,e),o=e}}if(o.has(r))throw new Error(`There is already a sanitizer for host ${e}`);o.set(r,t)}getSanitizer(e){const t=e.split(".").reverse();let n=this.hostSanitizers;const r=[n];for(const e of t){const t=n.get(e);if(t instanceof yo)return t;if(!(t instanceof Map))break;n=t,r.push(t)}do{const e=n.get("*");if(e instanceof yo)return e;n=r.pop()}while(n)}sanitizeUrl(e,t=!0){let n;try{n=new URL(e)}catch(t){return this.logger.warn("Failed to parse URL",e,t),e}const r=n.hostname,o=this.getSanitizer(r);return o?o.sanitize(n,t):(this.logger.error("No sanitizer found for URL",e),e)}};Po=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"UrlSanitizationManagerLogger",useFactory:()=>(0,a.j)("UrlSanitizationManager")}]),Ro(0,oe(ko)),Ro(1,oe("UrlSanitizationManagerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[ko,Object])],Po);const Co={name:"*"};class No{constructor(e,t=(0,a.j)(`KeyPageService-${e.name}`)){this.appConfig=e,this.logger=t,this.regexMap=new Map,this.appUrlMatchPatterns=co.getUrlMatchPatterns(e),this.prepareKeyPageMatchMap()}static getAppKeyPageServices(e){return e.makeAppsMap((e=>new No(e)))}getKeyPageForUrl(e){var t,n,r,o,i;const{hostname:s,pathname:a}=new URL(e),c=this.appUrlMatchPatterns.findIndex((e=>e.some((e=>e.matches(s,a)))));if(c>=0){const s=null===(n=null===(t=this.appConfig)||void 0===t?void 0:t.rules)||void 0===n?void 0:n[c];if(s){const t=(e=>{const{protocol:t,hostname:n,port:r}=new URL(e),o=`${t}://${n}${""!==r?`:${r}`:""}`,i=e.slice(o.length-1);return i.length>0?i:"/"})(e),n=[...null!==(r=this.regexMap.get(Co))&&void 0!==r?r:[],...null!==(o=this.regexMap.get(s))&&void 0!==o?o:[]],a=null==n?void 0:n.find((({regExps:e})=>e.some((e=>e.test(t)))));return null!==(i=null==a?void 0:a.keyPageId)&&void 0!==i?i:void 0}}}prepareKeyPageMatchMap(){var e,t;null===(t=null===(e=this.appConfig)||void 0===e?void 0:e.keyPages)||void 0===t||t.forEach((e=>{var t;null===(t=null==e?void 0:e.rules)||void 0===t||t.forEach((t=>{var n,r,o,i;const s=null!==(n=t.appRules)&&void 0!==n?n:[];if(0===s.length){const n=null!==(r=this.regexMap.get(Co))&&void 0!==r?r:[];null===(i=null===(o=this.appConfig)||void 0===o?void 0:o.rules)||void 0===i||i.forEach((r=>{n.push(...this.registerKeyPageRegexesForAppRule(r,t,e))})),this.regexMap.set(Co,n)}else s.forEach((n=>{var r,o;const i=null===(o=null===(r=this.appConfig)||void 0===r?void 0:r.rules)||void 0===o?void 0:o.find((e=>e.appRuleId===n));if(i){const n=this.registerKeyPageRegexesForAppRule(i,t,e);this.regexMap.set(i,n)}}))}))}))}registerKeyPageRegexesForAppRule(e,t,n){var r,o;const i=null!==(r=this.regexMap.get(e))&&void 0!==r?r:[];return null===(o=e.urlPatterns)||void 0===o||o.forEach((e=>{i.push(this.keyPageRuleToPossibleMatch(e,t,n))})),i}keyPageRuleToPossibleMatch(e,t,n){var r,o,i;const s=null===(r=e.match(/^(?:[\*\w]+:\/\/)?(.*)/))||void 0===r?void 0:r[1],a=s.indexOf("/"),c=s.slice(a).slice(0,-1),l=null!==(i=null===(o=null==t?void 0:t.pathPatterns)||void 0===o?void 0:o.map((e=>((e,t)=>{var n;let r="";return(null===(n=t.expression)||void 0===n?void 0:n.trim())&&(r=t.expression),r=r.trim().replace(/[.+?^${}()|[\]\\]/g,"\\$&"),t.isRegex||(r=r.replace(/\*/g,".*")),r=`^${e}${r}$`,"/"===e&&(r=r.replace("^/.*/","[/.*/|/?]")),new RegExp(r,t.caseInsensitive?"i":void 0)})(c,e))))&&void 0!==i?i:[];return{keyPageId:null==n?void 0:n.keyPageId,regExps:l}}}var Ao,Do,Lo=function(e,t){return function(n,r){t(n,r,e)}};!function(e){e.Updated="Updated",e.Unknown="Unknown"}(Ao||(Ao={})),function(e){e.Connected="Connected",e.Disconnected="Disconnected"}(Do||(Do={}));let Uo=class{get active(){return this._active}get state(){return this.tabs}constructor(e,t){this.configManager=e,this.logger=t,this.subscriptions=[{priority:hr.HighSync,type:["Config.UpdateStarted"]},{priority:1,type:["Tab.MainWebRequest","Tab.Watched","Tab.Navigated","Tab.Unwatched","Tab.ConfigInjectionCompleted","Tab.ConnectionFailed"]}],this._active=!1,this.tabs=new Map}async*consume(e){switch(e.type){case"Tab.MainWebRequest":{const{tabId:t,appId:n,details:{url:r}}=e;let o=this.tabs.get(t);if(o&&r===o.url)break;const i=null==o?void 0:o.keyPageId;o=this.initTabState(t,n,r,!0),yield*this.updateKeyPage(o,e.timestamp,i,!0);break}case"Tab.Watched":{const{tabId:t,appId:n,details:{url:r,newPageLoad:o}}=e;let i=this.tabs.get(t);if((null==i?void 0:i.setupFromEarlyWebRequest)&&(null==i?void 0:i.url)===r)break;const s=null==i?void 0:i.keyPageId;i=this.initTabState(t,n,r),yield*this.updateKeyPage(i,e.timestamp,s,o);break}case"Tab.Navigated":{const{tabId:t,details:{url:n,hard:r}}=e,o=this.tabs.get(t);if(!o){this.logger.warn("Tab.Navigated event for unknown tab:",e);break}if(o.setupFromEarlyWebRequest&&o.url===n)break;const i=null==o?void 0:o.keyPageId;o.url=n,o.sanitizedUrl=ne.resolve(Po).sanitizeUrl(n),yield*this.updateKeyPage(o,e.timestamp,i,r),r&&(o.connected=Do.Disconnected,o.injectedCodeStatus=Ao.Unknown);break}case"Tab.ConfigInjectionCompleted":{const{appId:t,tabId:n}=e,r=this.tabs.get(n);if(r){r.connected=Do.Connected,r.injectedCodeStatus=Ao.Updated;const e={type:"Tab.ConfigUpdateCompleted",timestamp:c.X.now(),tabId:n,appId:t,details:{}};yield e}break}case"Tab.ConnectionFailed":{const{appId:t,tabId:n}=e,r=this.tabs.get(n);if(r){r.connected=Do.Disconnected,r.injectedCodeStatus=Ao.Unknown;const e={type:"Tab.BackgroundDisconnected",timestamp:c.X.now(),tabId:n,appId:t,details:{}};yield e}break}case"Tab.Unwatched":{const{tabId:t}=e;this.tabs.delete(t);break}}}*updateKeyPage(e,t,n,r=!1){const{tabId:o,appId:i,url:s}=e,a=this.configManager.getLatestConfig();if(!a)return;const c=No.getAppKeyPageServices(a).get(i);if(!c)return void this.logger.warn("No KeyPageService found for appId",i);const l=c.getKeyPageForUrl(s);e.keyPageId=l,!r&&n===l||!n&&!l||(yield{type:"KeyPage.Updated",timestamp:t,tabId:o,appId:i,details:{enteredKeyPageId:l,exitedKeyPageId:n}})}initTabState(e,t,n,r=!1){const o={tabId:e,appId:t,url:n,sanitizedUrl:ne.resolve(Po).sanitizeUrl(n),connected:Do.Disconnected,injectedCodeStatus:Ao.Unknown,setupFromEarlyWebRequest:r};return this.tabs.set(e,o),o}activate(){this._active=!0}deactivate(){this.tabs.clear(),this._active=!1}start(){return this.activate(),this}stop(){return this.deactivate(),this}inspect(){return{name:"TabStateSourcer",active:this._active,tabs:Object.fromEntries(this.tabs)}}};Uo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"TabStateSourcerLogger",useFactory:()=>(0,a.j)("TabStateSourcer")}]),Lo(0,oe(ko)),Lo(1,oe("TabStateSourcerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[ko,Object])],Uo);const Mo=Uo;var jo;!function(e){let t;e.CompleteEvent=class{constructor(e,t,n,r,o){this.timestamp=e,this.transactionDetails=t,this.openTabCount=n,this.navigationRef=r,this.networkInformation=o,this.entryType="transaction-complete",this.extensionTime=e-c.X.origin,this.transactionDetails.startTimestamp=t.startTimestamp-c.X.origin}},function(e){let t;!function(e){e.Setup="transaction-trigger-configuration-setup",e.Clear="transaction-trigger-configuration-clear"}(t=e.Type||(e.Type={}))}(t=e.TriggerConfiguration||(e.TriggerConfiguration={}))}(jo||(jo={}));let Fo=class{constructor(e){this.configManager=e}get appThresholdInfo(){const e=this.configManager.getLatestConfig();return e?new Map(Array.from(e.apps,(([t,n])=>{var r,o,i,s;return[t,{transactionDurationSec:(null===(r=n.thresholdInfo)||void 0===r?void 0:r.transactionDurationSec)||(null===(o=null==e?void 0:e.defaultThresholdInfo)||void 0===o?void 0:o.transactionDurationSec),pageLoadTimeSec:(null===(i=n.thresholdInfo)||void 0===i?void 0:i.pageLoadTimeSec)||(null===(s=null==e?void 0:e.defaultThresholdInfo)||void 0===s?void 0:s.pageLoadTimeSec)}]}))):new Map}computePerceivedExperiencePageLoadTime(e,t){var n;const r=null===(n=this.appThresholdInfo.get(e))||void 0===n?void 0:n.pageLoadTimeSec;if(!t||!r)return x.PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED;const{average:o,frustrating:i}=r;return this.computePerceivedExperience(t,o,i)}computePerceivedExperienceTransactionDuration(e,t){var n;const r=null===(n=this.appThresholdInfo.get(e))||void 0===n?void 0:n.transactionDurationSec;if(!t||!r)return x.PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED;const{average:o,frustrating:i}=r;return this.computePerceivedExperience(t,o,i)}computePerceivedExperience(e,t,n){return e<=t?x.PERCEIVED_EXPERIENCE_LEVEL_GOOD:e>t&&e<=n?x.PERCEIVED_EXPERIENCE_LEVEL_AVERAGE:e>n?x.PERCEIVED_EXPERIENCE_LEVEL_FRUSTRATING:x.PERCEIVED_EXPERIENCE_LEVEL_UNSPECIFIED}};Fo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),function(e,t){return function(n,r){t(n,r,e)}}(0,oe(ko)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[ko])],Fo);const Bo=Fo;var Vo=__webpack_require__(6893);function qo(e,t,n){return{type:gr.BsmMessage.Inbound.NETWORK_INTERFACE_IDENTIFIER,timestamp:c.X.now(),details:{messageId:e,extensionTime:c.X.now()-c.X.origin,interfaceIdentifier:t,error:n}}}function Yo(e){return e.port?+e.port:"https:"===e.protocol?443:80}function Wo(e){switch(e){case Xn.LOG_LEVEL_DEBUG:return Vo.in.DEBUG;case Xn.LOG_LEVEL_TRACE:return Vo.in.TRACE;case Xn.LOG_LEVEL_INFO:return Vo.in.INFO;case Xn.LOG_LEVEL_WARNING:return Vo.in.WARN;case Xn.LOG_LEVEL_ERROR:return Vo.in.ERROR;case Xn.LOG_LEVEL_UNSPECIFIED:default:return Vo.in.NONE}}function Go(e){switch(e){case Qn.COMPONENT_NXTHOSTAPP:return"NxtHostApp";case Qn.COMPONENT_NXTBSM:return"NxtBsm";case Qn.COMPONENT_NXTCOORDINATOR:return"NxtCoordinator";case Qn.COMPONENT_UNSPECIFIED:default:return"Unknown"}}class Jo{constructor(e,t,n,r){this.beaconManager=e,this.sessionManager=t,this.extensionConnectionStatusManager=n,this.logger=r,this.subscriptions=[{type:[gr.BsmMessage.Inbound.NETWORK_INTERFACE_IDENTIFIER]}],this.events=new Map,this.registerAdditionalSubscriptions()}async*consume(e){e.type!==gr.BsmMessage.Inbound.NETWORK_INTERFACE_IDENTIFIER?yield*this.consumeAdditionalSubscription(e):this.processNetworkInterfaceResponse(e)}*requestNetworkInterfaceInfo(e,t,n,r){const o=function(e){return{type:gr.BsmMessage.Outbound.NETWORK_INTERFACE_IDENTIFIER,timestamp:c.X.now(),details:{messageId:Zr(),hostname:e.hostname,port:Yo(e),cacheKey:`${e.hostname}:${Yo(e)}`}}}(new URL(r));this.checkRequirementsBeforeSendingRequest(o)?(this.events.set(o.details.messageId,{appId:e,tabId:t,event:n}),yield o):this.beaconManager.addEvents(e,t,[n])}checkRequirementsBeforeSendingRequest(e){var t;return this.isBsmCompatible()?!(!this.extensionConnectionStatusManager.isNxtHostAppConnected()||!this.extensionConnectionStatusManager.isNxtBsmConnected())||(this.logger.warn("Collector not connected. Failing BsmMessage.Outbound.NetworkInterfaceIdentifier",JSON.stringify(e)),!1):(this.logger.warn("BSM doesn't support Network Interface querying.",null===(t=this.sessionManager.getLatestSession())||void 0===t?void 0:t.collectorVersion),!1)}isBsmCompatible(){var e;const t=null===(e=this.sessionManager.getLatestSession())||void 0===e?void 0:e.collectorVersion;return!!t&&(null==t?void 0:t.localeCompare("21.7.0.0",void 0,{numeric:!0}))>=0}processNetworkInterfaceResponse(e){const t=this.events.get(e.details.messageId);if(!t)return;const{appId:n,tabId:r,event:o}=t;if(e.details.error)this.logger.error(`Error reported by BSM requesting for network interface - ${e.details.error}`,e,t);else if(e.details.interfaceIdentifier&&e.details.extensionTime){const{extensionTime:t,interfaceIdentifier:n}=e.details;o.networkInformation={extensionTime:t,interfaceIdentifier:n}}else this.logger.error("Invalid empty network interface received by BSM",e.details,t);this.beaconManager.addEvents(n,r,[o]),this.events.delete(e.details.messageId)}}class Ho extends Jo{constructor(e,t,n,r,o,i,s=(0,a.j)("TransactionReporter")){super(r,o,i,s),this.keyPageSourcer=e,this.configManager=t,this.browserTab=n,this.perceivedExperienceConsumer=ne.resolve(Bo)}generateNavRef(e,t){if(e)return{navigationUrl:ne.resolve(Po).sanitizeUrl(e),sanitized:!0,keyPageId:t}}async*consumeAdditionalSubscription(e){switch(e.type){case gr.Transaction.COMPLETED:{const{timestamp:t,tabId:n,appId:r,details:o}=e;if(!this.isCorrectAppId(r,e.details.monitorId))return void this.logger.error("Invalid transaction appId",e);let i;r&&o.url&&(i=this.keyPageSourcer.getKeyPage(r,o.url)),o.perceivedExperienceLevel=this.perceivedExperienceConsumer.computePerceivedExperienceTransactionDuration(r,o.durationSeconds);const s=new jo.CompleteEvent(t,o,(await this.browserTab.getTabsInMemory()).length,this.generateNavRef(o.url,i));if(!o.url)return void this.beaconManager.addEvents(r,n,[s]);this.logger.debug("Requesting network information for transaction",s),yield*this.requestNetworkInterfaceInfo(r,n,s,o.url);break}}}inspect(){return{name:"TransactionReporter"}}registerAdditionalSubscriptions(){this.subscriptions.push({type:[gr.Transaction.COMPLETED]})}isCorrectAppId(e,t){const n=this.configManager.getLatestConfig();if(!n)return this.logger.error("Empty config"),!1;const r=null==n?void 0:n.appConfigs.find((t=>t.appId===e));return void 0!==(null==r?void 0:r.transactions.find((e=>e.monitorId===t)))}}let zo=class{constructor(e){this.logger=e}async get(e){try{return await(0,ce.q)().tabs.get(e)}catch(e){return void this.logger.warn("Failed to get tab",e)}}async getAll(e){try{return await(0,ce.q)().tabs.query(null!=e?e:{})}catch(e){return this.logger.error("Failed to get tabs",e),[]}}async getTabsInMemory(){try{return(await(0,ce.q)().tabs.query({discarded:!1})).filter((e=>"unloaded"!==e.status))}catch(e){return this.logger.error("Failed to get tabs",e),[]}}};zo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([se([{token:"BrowserTabLogger",useFactory:()=>(0,a.j)("BrowserTab")}]),ae(),function(e,t){return function(n,r){t(n,r,e)}}(0,oe("BrowserTabLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],zo);var $o=function(e,t){return function(n,r){t(n,r,e)}};const Ko=gr.Tab.UnwatchCause;let Xo=class{constructor(e,t,n,r,o){this.eventManager=e,this.configManager=t,this.browserTab=n,this.browser=r,this.logger=o,this.subscriptions=[{priority:hr.StandardSync,type:[gr.WebNavigation.Monitored.COMMITTED,gr.WebNavigation.Unmonitored.COMMITTED,gr.WebNavigation.Monitored.HISTORY_STATE_UPDATED,gr.WebNavigation.Unmonitored.HISTORY_STATE_UPDATED,gr.WebNavigation.Monitored.REFERENCE_FRAGMENT_UPDATED,gr.WebNavigation.Unmonitored.REFERENCE_FRAGMENT_UPDATED]},{type:["Tab.Activated","Tab.Removed"]}],this.watchedTabs=new Map,this.onConfigUpdated=async()=>{try{const e=await this.browserTab.getTabsInMemory();this.eventManager.broadcastFrom(this.notifyTabsConfigUpdated(e))}catch(e){e instanceof Error&&this.logger.warn("Encountered error handling config update:",null==e?void 0:e.message)}},this.configManager.onUpdate.addListener(this.onConfigUpdated)}get apps(){const e=this.configManager.getLatestConfig();if(!e)return new Map;const{appUrlMatchPatterns:t}=e;return e.makeAppsMap((e=>{var n;return{appId:e.appId,config:e,urlPatterns:(null!==(n=t.get(e.appId))&&void 0!==n?n:[]).flat()}}))}async*consume(e){const{type:t,timestamp:n}=e;switch(t){case"Tab.Activated":{const{tabId:t}=e,n=await this.browserTab.get(t);n&&this.eventManager.broadcastFrom(this.updateWatchingStatusForTab(n));break}case"Tab.Removed":{const{tabId:t}=e;this.watchedTabs.has(t.toString())&&(yield*this.unwatchTab(t,Ko.Removed,n));break}case gr.WebNavigation.Unmonitored.COMMITTED:case gr.WebNavigation.Unmonitored.HISTORY_STATE_UPDATED:case gr.WebNavigation.Unmonitored.REFERENCE_FRAGMENT_UPDATED:{const{tabId:r}=e,o=this.watchedTabs.get(r.toString()),i=t===gr.WebNavigation.Unmonitored.COMMITTED;o&&(yield*this.unwatchTab(r,i?Ko.HardNav:Ko.SoftNav,n));break}case gr.WebNavigation.Monitored.COMMITTED:case gr.WebNavigation.Monitored.HISTORY_STATE_UPDATED:case gr.WebNavigation.Monitored.REFERENCE_FRAGMENT_UPDATED:{const{appId:r,tabId:o,details:{url:i}}=e,s=this.watchedTabs.get(o.toString());if(!await this.browserTab.get(o)){this.logger.debug(`TabId ${o} not existing. Ignoring event.`,e);break}const a=t===gr.WebNavigation.Monitored.COMMITTED,c=!0;if(s){if(s===r){if(eo(null!=i?i:""))return void(yield{type:"Tab.Navigated",timestamp:n,tabId:o,appId:r,details:{url:i,watcherId:`${o}-${r}`,hard:a}});this.logger.debug("Discarding WebNavigation events with invalid url for watched app id",i,s,e)}yield*this.unwatchTab(o,a?Ko.HardNav:Ko.SoftNav,n)}const l=this.apps.get(r);!this.watchedTabs.has(o.toString())&&eo(null!=i?i:"")&&l&&(yield*this.watchTab(o,i,l,n,a,c));break}}}activate(){}deactivate(){for(const e of this.watchedTabs.keys())this.eventManager.broadcastFrom(this.unwatchTab(Number.parseInt(e),Ko.Canceled));this.configManager.onUpdate.removeListener(this.onConfigUpdated)}inspect(){return{name:"TabManager",apps:Object.fromEntries(this.apps),tabWatchers:Object.fromEntries(this.watchedTabs)}}*notifyTabsConfigUpdated(e){for(const t of e)yield*this.updateWatchingStatusForTab(t)}*updateWatchingStatusForTab({id:e,url:t=""}){if(!e)return;const n=this.watchedTabs.get(e.toString());try{const r=this.findAppForUrl(t);n&&n!==(null==r?void 0:r.appId)&&(yield*this.unwatchTab(e,Ko.Canceled)),!this.watchedTabs.has(e.toString())&&eo(t)&&r&&(yield*this.watchTab(e,t,r))}catch(e){this.logger.error("Error updateWatchingStatusForTab",e)}}findAppForUrl(e){let t;try{t=new URL(e)}catch{return}const{hostname:n,pathname:r}=t;return Array.from(this.apps.values()).find((({urlPatterns:e})=>e.some((e=>e.matches(n,r)))))}*watchTab(e,t,n,r=void 0,o=!1,i=!1){const s=n.config.appId;this.watchedTabs.set(e.toString(),s),yield{type:"Tab.Watched",timestamp:null!=r?r:c.X.now(),tabId:e,appId:s,details:{url:t,watcherId:`${e}-${s}`,newPageLoad:o,historyChanged:i}}}*unwatchTab(e,t,n=void 0){const r=this.watchedTabs.get(e.toString());r&&(this.watchedTabs.delete(e.toString()),yield{type:"Tab.Unwatched",timestamp:null!=n?n:c.X.now(),tabId:e,appId:r,details:{watcherId:`${e}-${r}`,cause:t}})}};Xo=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"TabManagerLogger",useFactory:()=>(0,a.j)("TabManager")}]),$o(0,oe(mo)),$o(1,oe(ko)),$o(2,oe(zo)),$o(3,oe("Browser")),$o(4,oe("TabManagerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[mo,ko,zo,Object,Object])],Xo);const Qo=Xo;function Zo(e){return new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e)}function ei(e,t=!1){const n=e.getTime()/1e3,r=Math.round(n%60*1e3)/1e3;let o=`${r.toFixed(t?0:3)} s`;const i=Math.round(n-r)/60;if(i){const e=i%60;o=`${e} min ${o}`;const t=(i-e)/60;if(t){const e=t%24;o=`${e} h ${o}`;const n=(t-e)/24;n&&(o=(n>1?`${n} days `:"1 day ")+o)}}return o}function ti(e){switch(e){case 1:return"Good";case 2:return"Average";case 3:return"Frustrating";default:return"Unspecified"}}function ni(e){switch(e){case 1:return"Completed";case 2:return"Failed";case 3:return"Timeout";case 4:return"Aborted: page unloaded";case 5:return"Aborted: new transaction detected";case 6:return"Aborted: user input caught";default:return"Unspecified"}}class ri{constructor(e,t=(0,a.j)("TimeWatcher")){this.eventManager=e,this.logger=t,this.intervalMs=1e3,this.sleepThresholdMs=5e3,this.lastTick=0,this.emitTick=()=>{const e=c.X.now();this.checkSleep(e),this.eventManager.broadcast({type:"Time.Tick",timestamp:e})}}checkSleep(e){const t=e-this.lastTick;this.lastTick=e,t>this.sleepThresholdMs&&(this.logger.info(`device slept for ${ei(new Date(t))}`),this.eventManager.broadcast({type:"Time.Sleep",timestamp:e,details:{duration:t}}))}start(){return this.lastTick=c.X.now(),this.intervalAlarm=new po.j("time-watcher",this.emitTick,{intervalInMs:this.intervalMs}),this.intervalAlarm.start(),this}stop(){var e;return null===(e=this.intervalAlarm)||void 0===e||e.stop(),this}inspect(){return{name:"TimeWatcher",intervalMs:this.intervalMs}}}const oi=e=>{var t;return{name:e.name.slice(0,300),message:e.message.slice(0,300),stack:null===(t=e.stack)||void 0===t?void 0:t.slice(0,3e3)}},ii=(0,a.j)("CollectorReportHelpers");class si{constructor(e,t,n,r,o,i,s,a,c,l,u,d){this.extensionTime=e,this.timestamp=t,this.navigationRef=n,this.frameId=r,this.navigationType=o,this.transitionType=i,this.transitionQualifiers=s,this.perceivedExperienceLevel=a,this.readinessTiming=c,this.openTabCount=l,this.waterfallData=u,this.networkInformation=d,this.entryType="soft-navigation"}}function ai(e,t,...n){if(!(Math.max(...n)>e||e>t))return(t-e)/1e3}function ci(e,t,...n){if(e!==t)return ai(e,t,...n)}const li={beacon:S.Extension.Config.ResourceType.RESOURCE_TYPE_BEACON,csp_report:S.Extension.Config.ResourceType.RESOURCE_TYPE_CSP_REPORT,font:S.Extension.Config.ResourceType.RESOURCE_TYPE_FONT,image:S.Extension.Config.ResourceType.RESOURCE_TYPE_IMAGE,imageset:S.Extension.Config.ResourceType.RESOURCE_TYPE_IMAGE_SET,main_frame:S.Extension.Config.ResourceType.RESOURCE_TYPE_MAIN_FRAME,media:S.Extension.Config.ResourceType.RESOURCE_TYPE_MEDIA,object:S.Extension.Config.ResourceType.RESOURCE_TYPE_OBJECT,object_subrequest:S.Extension.Config.ResourceType.RESOURCE_TYPE_OBJECT_SUBREQUEST,ping:S.Extension.Config.ResourceType.RESOURCE_TYPE_PING,script:S.Extension.Config.ResourceType.RESOURCE_TYPE_SCRIPT,speculative:S.Extension.Config.ResourceType.RESOURCE_TYPE_SPECULATIVE,stylesheet:S.Extension.Config.ResourceType.RESOURCE_TYPE_STYLESHEET,sub_frame:S.Extension.Config.ResourceType.RESOURCE_TYPE_SUBFRAME,web_manifest:S.Extension.Config.ResourceType.RESOURCE_TYPE_WEB_MANIFEST,websocket:S.Extension.Config.ResourceType.RESOURCE_TYPE_WEB_SOCKET,xbl:S.Extension.Config.ResourceType.RESOURCE_TYPE_XBL,xml_dtd:S.Extension.Config.ResourceType.RESOURCE_TYPE_XML_DTD,xmlhttprequest:S.Extension.Config.ResourceType.RESOURCE_TYPE_XML_HTTP_REQUEST,xslt:S.Extension.Config.ResourceType.RESOURCE_TYPE_XSLT,other:S.Extension.Config.ResourceType.RESOURCE_TYPE_UNSPECIFIED};class ui{constructor(e){this.durationSeconds=e.duration/1e3,this.transferBytes=e.transferSize,this.redirectSeconds=ci(e.redirectStart,e.redirectEnd,e.startTime),this.domainLookupSeconds=ci(e.domainLookupStart,e.domainLookupEnd,e.startTime),this.connectSeconds=ci(e.connectStart,e.connectEnd,e.startTime),this.secureConnectionSeconds=ci(e.secureConnectionStart,e.connectEnd,e.startTime,e.connectStart),this.requestSeconds=ai(e.requestStart,e.responseStart,e.startTime),this.responseSeconds=ai(e.responseStart,e.responseEnd,e.startTime,e.requestStart),this.initiatorType=e.initiatorType}}class di extends ui{constructor(e){if(super(e),this.redirectCount=e.redirectCount,this.unloadEventSeconds=ci(e.unloadEventStart,e.unloadEventEnd),this.domProcessingSeconds=ai(e.domInteractive,e.domComplete,e.startTime),this.domContentLoadedEventSeconds=ai(e.domContentLoadedEventStart,e.domContentLoadedEventEnd,e.startTime),this.loadEventSeconds=ai(e.loadEventStart,e.loadEventEnd,e.startTime),!(e.duration>0))throw new Error(`unexpected nt duration: ${e.duration}`);this.durationSeconds=e.duration/1e3}}class pi extends w{constructor(e,t,n,r,o,i,s,a,c,l){super("navigation",t,e,n),this.extensionTime=e,this.timestamp=t,this.navigationRef=n,this.perceivedExperienceLevel=r,this.openTabCount=o,this.timing=i,this.rawTiming=s,this.readinessTiming=a,this.waterfallData=c,this.networkInformation=l,this.entryType="navigation"}static fromRawTiming(e,t,n,r,o){const i={navigationUrl:e,isSoftNavigation:!1,navigationId:Zr()};try{const e=new di(r);return new pi(t,n,i,o,1,e,r,void 0,void 0,void 0)}catch(s){return pi.logger.warn("Discarding invalid navigation timing",{err:s,rawTiming:r,navigationUrl:e}),new pi(t,n,i,o,1,void 0,r,void 0,void 0,void 0)}}}pi.logger=(0,a.j)("NavigationEvent");var fi;class gi extends Ir{constructor(e=new Map){super(),this.timeToLiveInMilliseconds=wr,this.lastSentNavigations=e}serialize(){return JSON.stringify(Mr(this))}deserialize(e){return jr(gi,JSON.parse(e))}}!function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);i>3&&s&&Object.defineProperty(t,n,s)}([Cr((()=>String)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type",Map)],gi.prototype,"lastSentNavigations",void 0);class hi extends Jo{constructor(e,t,n,r,o,i,s=(0,a.j)("NavigationDurationReporter")){super(r,o,i,s),this.keyPageSourcer=e,this.configManager=t,this.browserTab=n,this.perceivedExperience=ne.resolve(Bo),this.data=new kr(vr.NavigationDurationReporter.Data,new gi)}async*consumeAdditionalSubscription(e){switch(e.type){case"NavigationDuration.WebNavigation":{if(await this.hasEventAlreadyBeenReported(e))return;if(!e.details.shouldBeReported)return void this.logger.debug("Dropping navigation event",e);const t=this.getAppIdForUrl(e.details.url);if(!t)return void this.logger.error("Navigation event url does not match any app id",e.details.url,t);t!==e.appId&&(this.logger.error("Event contains wrong appId for url",e.appId,t),e.appId=t);const n=await this.createNavigationEvent(e);if(!n)return;return this.logger.debug("Requesting network information for hard navigation event",n),void(yield*this.requestNetworkInterfaceInfo(e.appId,e.tabId,n,e.details.url))}case"NavigationDuration.SoftNavigation":{const t=this.getAppIdForUrl(e.details.url);if(!t)return;if(!this.configManager.areSoftNavigationsEnabled(t))return void this.logger.warn("Soft navigations are disabled for app. Dropping detection.",t);t!==e.appId&&(this.logger.error("Event contains wrong appId for url",e.appId,t),e.appId=t);const n=await this.createSoftNavigationEvent(e);if(!n)return;return this.logger.debug("Requesting network information for soft navigation event",n),void(yield*this.requestNetworkInterfaceInfo(e.appId,e.tabId,n,e.details.url))}}}inspect(){return{name:"NavigationDurationReporter"}}registerAdditionalSubscriptions(){this.subscriptions.push({type:["NavigationDuration.SoftNavigation","NavigationDuration.WebNavigation"]})}sanitizeWaterfallData(e){return{...e,longestResource:e.longestResource?{...e.longestResource,url:ne.resolve(Po).sanitizeUrl(e.longestResource.url)}:void 0,largestResource:e.largestResource?{...e.largestResource,url:ne.resolve(Po).sanitizeUrl(e.largestResource.url)}:void 0}}async createNavigationEvent(e){const{appId:t}=e,{url:n,rawTiming:r,extensionTime:o,waterfallData:i}=e.details,s={navigationUrl:ne.resolve(Po).sanitizeUrl(n),isSoftNavigation:!1,keyPageId:this.keyPageSourcer.getKeyPage(t,n),originalNavigationUrl:n,sanitized:!0},a=new di(r);return new pi(o,e.timestamp,s,this.perceivedExperience.computePerceivedExperiencePageLoadTime(t,a.durationSeconds),(await this.browserTab.getTabsInMemory()).length,a,r,void 0,this.sanitizeWaterfallData(i),void 0)}async hasEventAlreadyBeenReported(e){var t;const n=await async function(e){const t=(new TextEncoder).encode(JSON.stringify(e)),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(e.details.rawTiming),r=this.data.get();return(null===(t=r.lastSentNavigations)||void 0===t?void 0:t.get(e.tabId.toString()))===n||(r.lastSentNavigations.set(e.tabId.toString(),n),await this.data.set(r),!1)}getAppIdForUrl(e){var t,n;return null!==(n=null===(t=this.configManager.getLatestConfig())||void 0===t?void 0:t.getAppIdFromUrl(e))&&void 0!==n?n:""}async createSoftNavigationEvent(e){const{appId:t,details:{url:n}}=e,r=this.keyPageSourcer.getKeyPage(t,n),{extensionTime:o,frameId:i,readinessTiming:s,navigationType:a,transitionType:c,transitionQualifiers:l,waterfallData:u}=e.details;return new si(o,e.timestamp,{navigationUrl:ne.resolve(Po).sanitizeUrl(n),isSoftNavigation:!0,keyPageId:r,originalNavigationUrl:n,sanitized:!0},i,a,c,l,this.perceivedExperience.computePerceivedExperiencePageLoadTime(t,e.details.readinessTiming.stableDomSeconds),s,(await this.browserTab.getTabsInMemory()).length,this.sanitizeWaterfallData(u),void 0)}}!function(e){e.chrome="chrome",e.firefox="firefox",e.edge="edge",e.safari="safari"}(fi||(fi={}));const vi=()=>{const e="chrome".toLowerCase();return mi(e)?fi[e]:fi.chrome},mi=e=>e in fi;var bi;!function(e){e.official="official",e.beta="beta"}(bi||(bi={}));var yi=function(e,t){return function(n,r){t(n,r,e)}};class Ei extends Ir{constructor(e=Zr()){super(),this.extensionInstanceId=e,this.timeToLiveInMilliseconds=wr}serialize(){return JSON.stringify(Mr(this))}deserialize(e){return jr(Ei,JSON.parse(e))}}let Si=class{constructor(e,t){this.browser=e,this.logger=t,this.data=new kr(vr.ExtensionInfo.Data,new Ei,xr.Lifetime)}get info(){if(!this.extensionInfo)throw new Error("Extension info not initialized.");return this.extensionInfo}async init(){var e;if(!this.extensionInfo){await this.data.set(this.data.get());const t=await(null===(e=this.browser.management)||void 0===e?void 0:e.getSelf());this.extensionInfo=t?{id:t.id,extensionInstanceId:this.data.get().extensionInstanceId,version:t.version,devMode:this.isDevMode(t.installType),isBeta:this.isBeta(),targetBrowser:vi(),browserFamily:this.getBrowserFamily(),browserVersion:this.getBrowserVersion()}:{id:"test-extension-id",extensionInstanceId:"test-extension-instance-id",version:"4.0.0",devMode:!1,isBeta:!1,targetBrowser:vi(),browserFamily:"Google Chrome",browserVersion:"66.0.3359.181"}}this.logger.info("ExtensionInfo",this.info)}isBeta(){return(()=>{const e="official".toLowerCase();return e in bi?bi[e]:bi.official})()===bi.beta}isDevMode(e){return"development"===e}getBrowserFamily(){const e=navigator.userAgent;return e.indexOf("Firefox")>-1?ce.Y.Firefox:e.indexOf("Edg")>-1?ce.Y.Edge:e.indexOf("Chrome")>-1?ce.Y.Chrome:e.indexOf("Safari")>-1?ce.Y.Safari:ce.Y.Unknown}getBrowserVersion(){var e,t,n,r;const o=navigator.userAgent;return o.indexOf("Firefox")>-1?null===(e=o.match(/Firefox\/([\d+.]+)/))||void 0===e?void 0:e[1]:o.indexOf("Edg")>-1?null===(t=o.match(/Edg\/([\d+.]+)/))||void 0===t?void 0:t[1]:o.indexOf("Chrome")>-1?null===(n=o.match(/Chrome\/([\d+.]+)/))||void 0===n?void 0:n[1]:o.indexOf("Safari")>-1?null===(r=o.match(/Version\/([\d+.]+)/))||void 0===r?void 0:r[1]:void 0}};Si=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"ExtensionLogger",useFactory:()=>(0,a.j)("Extension")}]),yi(0,oe("Browser")),yi(1,oe("ExtensionLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object])],Si);class Ti{constructor(e,t){this.timeoutInMs=e,this.callback=t,this.startTimestamp=0}start(e){this.restart(e)}restart(e){this.startTimestamp=e}stop(){this.startTimestamp=0}isStarted(){return 0!==this.startTimestamp}update(e){0!==this.startTimestamp&&this.startTimestamp+this.timeoutInMs<e&&this.callback()}}class _i extends EventTarget{constructor(e,t){super(),this.sequenceTimeoutInMs=e,this.endlessSequenceTimeoutInMs=t,this.sequenceTimer=new Ti(this.sequenceTimeoutInMs,(()=>{this.stopTimers(),this.notifySequenceEnd(!1)})),this.startTimestamp=0,this.lastTimestamp=0,this.endlessSequenceTimeoutInMs&&(this.endlessSequenceTimer=new Ti(this.endlessSequenceTimeoutInMs,(()=>{this.stopTimers(),this.notifyEndlessSequence()})))}start(e){var t;this.startTimestamp=e,this.lastTimestamp=0,null===(t=this.endlessSequenceTimer)||void 0===t||t.start(e),this.sequenceTimer.start(e)}setNewItem(e){this.sequenceTimer.isStarted()&&(e<this.lastTimestamp||(this.lastTimestamp=e,this.sequenceTimer.restart(e)))}updateTimers(e){var t;this.sequenceTimer.isStarted()&&(null===(t=this.endlessSequenceTimer)||void 0===t||t.update(e),this.sequenceTimer.update(e))}isStarted(){var e,t;return this.sequenceTimer.isStarted()&&(null===(t=null===(e=this.endlessSequenceTimer)||void 0===e?void 0:e.isStarted())||void 0===t||t)}stop(e,t){this.sequenceTimer.isStarted()&&(this.lastTimestamp=t,this.stopTimers(),this.notifySequenceEnd(e),this.lastTimestamp=0)}stopTimers(){var e;this.sequenceTimer.stop(),null===(e=this.endlessSequenceTimer)||void 0===e||e.stop()}notifySequenceEnd(e){this.dispatchEvent(new CustomEvent("sequenceEnd",{detail:{wasInterrupted:e,wereItemsDetected:0!==this.lastTimestamp&&this.startTimestamp!==this.lastTimestamp,startTimestamp:this.startTimestamp,endTimestamp:this.lastTimestamp}}))}notifyEndlessSequence(){this.dispatchEvent(new CustomEvent("endlessSequence",{detail:{startTimestamp:this.startTimestamp}}))}}let xi=class{constructor(e){this.logger=e}shouldExclude(e){return!this.isMainFrameRequest(e)&&(this.isAcceptHeadersImageOrEventStream(e)||this.isContentTypeImg(e)||this.isQueryParametersContainingPolling(e))}isMainFrameRequest(e){return"main_frame"===e.type}isAcceptHeadersImageOrEventStream(e){var t;const n=null===(t=e.requestHeaders)||void 0===t?void 0:t.find((e=>"accept"===e.name.toLowerCase()));if(!n)return!1;const r=["image/","/event-stream"].some((e=>{var t;return null===(t=n.value)||void 0===t?void 0:t.toLowerCase().includes(e)}));return r&&this.logger.debug("Xhr has accept header image or event-stream",e),r}isContentTypeImg(e){var t,n,r;const o=null===(t=null==e?void 0:e.requestHeaders)||void 0===t?void 0:t.find((e=>"CONTENT-TYPE"===e.name.toUpperCase())),i=null!==(r=null===(n=null==o?void 0:o.value)||void 0===n?void 0:n.toUpperCase().includes("IMAGE"))&&void 0!==r&&r;return i&&this.logger.debug("Xhr has content-type header image",e),i}isQueryParametersContainingPolling(e){try{const t=new URL(e.url),n=Array.from(t.searchParams.values()).includes("polling");return n&&this.logger.debug("Xhr contains 'polling' as query parameter",e),n}catch(t){return this.logger.warn("Xhr received with invalid URL",e),!1}}};xi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"WebRequestFilterLogger",useFactory:()=>(0,a.j)("WebRequestFilter")}]),function(e,t){return function(n,r){t(n,r,e)}}(0,oe("WebRequestFilterLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],xi);var Oi=function(e,t){return function(n,r){t(n,r,e)}};let wi=class{constructor(e,t){this.webRequestFilter=e,this.logger=t,this.xhrs=new Map,this.resourceTimings=[]}updateXhrSequence(e){var t;this.xhrs.has(e.details.requestId)||this.logger.debug("Xhr sequence included",e);const n=null!==(t=this.xhrs.get(e.details.requestId))&&void 0!==t?t:{};switch(n.eventId=e.details.requestId,n.type=e.details.type,e.type){case gr.WebRequest.BEFORE_REQUEST:n.beforeRequestTimestamp=e.timestamp,e.details.url&&(n.url=e.details.url);break;case gr.WebRequest.HEADERS_RECEIVED:n.headersReceivedDetails=e.details;break;case gr.WebRequest.SEND_HEADERS:n.requestHeadersDetails=e.details,this.webRequestFilter.shouldExclude(e.details)&&(this.logger.debug("Excluding request from detection sequence",e),n.completedTimestamp=e.timestamp,n.excluded=!0);break;case gr.WebRequest.COMPLETED:case gr.WebRequest.ERROR_OCCURRED:e.type===gr.WebRequest.COMPLETED&&(n.completedDetails=e.details),e.type===gr.WebRequest.ERROR_OCCURRED&&(n.errorOccurredDetails=e.details),n.completedTimestamp=e.timestamp,e.details.url&&(n.url=e.details.url);break;default:return void this.logger.warn("Invalid web request event received.",e)}this.xhrs.set(e.details.requestId,n)}updateResourceTimings(e){this.resourceTimings.push(e)}getIncompleteXhrs(){return Array.from(this.xhrs.values()).filter((e=>!e.completedTimestamp)).filter((e=>!e.excluded)).filter((e=>"xmlhttprequest"===e.type||"main_frame"===e.type))}getTimings(e,t){const n=[...this.getResourceTimings(e,t)].sort(((e,t)=>t.duration-e.duration)),r=Array.from(this.xhrs.values()).sort(((e,t)=>{var n,r;return(null!==(n=this.computeDurationXhr(t))&&void 0!==n?n:0)-(null!==(r=this.computeDurationXhr(e))&&void 0!==r?r:0)})).reduce(((e,t)=>{var n;return e.has(t.url)||e.set(t.url,[]),null===(n=e.get(t.url))||void 0===n||n.push(t),e}),new Map);return[...this.combineResourceAndXhrTimings(n,r)]}combineResourceAndXhrTimings(e,t){const n=e.reduce(((e,n)=>{var r;const o=null===(r=t.get(n.name))||void 0===r?void 0:r.shift(),i={timing:n,requestHeadersDetails:null==o?void 0:o.requestHeadersDetails,headersReceivedDetails:null==o?void 0:o.headersReceivedDetails,completedDetails:null==o?void 0:o.completedDetails,errorOccurredDetails:null==o?void 0:o.errorOccurredDetails};return e.push(i),e}),[]),r=Array.from(t.values()).reduce(((e,t)=>e+t.length),0);return r>0&&this.logger.warn("Unmatched XHRs",r),n}getResourceTimings(e,t){const n=[];try{this.resourceTimings.forEach((r=>{this.isResourceTimingsWithinDetectionThreshold(r,e,t)&&n.push(r.timing)}))}catch(e){this.logger.error("Failed to get timings",e)}return n}isResourceTimingsWithinDetectionThreshold(e,t,n){const r=t<=e.timestamp&&e.timestamp<=n,o=e.timestamp-e.timing.duration>=t;return r&&!o&&this.logger.warn("Resource timings outside detection boundaries",e,t,n),r&&o}computeDurationXhr(e){if(e.beforeRequestTimestamp&&e.completedTimestamp)return e.completedTimestamp-e.beforeRequestTimestamp}clear(){this.logger.debug("Clearing Xhr sequence",c.X.now()),this.xhrs.clear(),this.resourceTimings=[]}};wi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"WebRequestManagerLogger",useFactory:()=>(0,a.j)("WebRequestManager")}]),Oi(0,oe(xi)),Oi(1,oe("WebRequestManagerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[xi,Object])],wi);class Ii{constructor(){this.wasInterrupted=!1,this.startTimestamp=0,this.durationInSeconds=0,this.resources=[],this.historyChanges=[],this.userInteractions=[],this.domMutationDetected=!1}isDone(){return 0!==this.startTimestamp&&(this.wasInterrupted||void 0!==this.endTimestamp)}isValid(){return this.isDone()&&this.endTimestamp&&this.startTimestamp<this.endTimestamp}getResourceErrorsCount(e){return this.resources.filter((t=>{var n,r;return t.errorOccurredDetails||(null!==(r=null===(n=t.completedDetails)||void 0===n?void 0:n.statusCode)&&void 0!==r?r:0)>=e})).length}getLongestResource(){return[...this.resources].sort(((e,t)=>t.timing.duration-e.timing.duration)).at(0)}getLargestResource(){return[...this.resources].sort(((e,t)=>t.timing.transferSize-e.timing.transferSize)).at(0)}getLargeResourcesCount(){return this.resources.filter((e=>e.timing.transferSize>102400)).length}getCachedResourcesCount(){return this.resources.filter((e=>0===e.timing.transferSize&&e.timing.decodedBodySize>0)).length}getDomainsContacted(){return new Set(this.resources.map((e=>eo(e.timing.name)?new URL(e.timing.name).hostname:e.timing.name))).size}}var ki=function(e,t){return function(n,r){t(n,r,e)}};let Ri=class{constructor(e,t){this.logger=e,this.webRequestManager=t,this.sequenceDetector=new _i(1200,6e4),this.initSequenceDetector(),this.pageReadiness=new Ii}initSequenceDetector(){this.sequenceDetector.addEventListener("sequenceEnd",(e=>this.handleSequenceEnd(e))),this.sequenceDetector.addEventListener("endlessSequence",(e=>this.handleEndlessSequence(e)))}start(e){this.pageReadiness.startTimestamp=e,this.sequenceDetector.start(e)}get currentDetection(){return this.pageReadiness}updateResourceSequence(e){this.webRequestManager.updateXhrSequence(e),"xmlhttprequest"!==e.details.type&&"main_frame"!==e.details.type||this.updateSequence(e.timestamp)}updateNavigationTiming(e){this.logger.debug("Navigation timings",e),this.pageReadiness.navigationTiming=e.timing,this.updateSequence(e.timestamp)}updateResourceTimings(e){this.logger.debug("Resource timings",e),this.webRequestManager.updateResourceTimings(e),this.updateSequence(e.timestamp)}updateUserInteractions(e){this.pageReadiness.userInteractions.push(e),this.updateSequence(e.timestamp)}updateHistoryChanges(e){this.pageReadiness.historyChanges.push(e),this.updateTimers(e.timestamp)}updateTransactionTrigger(e){this.pageReadiness.transactionTrigger=e,this.updateSequence(e.timestamp)}updateDomMutations(e){this.pageReadiness.domMutationDetected=!0,this.updateSequence(e.timestamp)}stop(e){this.sequenceDetector.isStarted()&&(this.pageReadiness.wasInterrupted=!0,this.pageReadiness.endTimestamp=e,this.sequenceDetector.stop(!0,e))}updateTimers(e){this.sequenceDetector.updateTimers(e)}updateSequence(e){this.sequenceDetector.setNewItem(e)}getCompletedDetection(){return this.pageReadiness.isDone()?this.pageReadiness:void 0}handleSequenceEnd(e){var t;const n=this.webRequestManager.getIncompleteXhrs();return e.detail.wasInterrupted||0===n.length?e.detail.wereItemsDetected?(this.adjustStartDetectionToFirstInteraction(),this.pageReadiness.endTimestamp=e.detail.endTimestamp,this.pageReadiness.resources.push(...this.webRequestManager.getTimings(e.detail.startTimestamp,null!==(t=e.detail.endTimestamp)&&void 0!==t?t:c.X.now())),this.pageReadiness.durationInSeconds=(this.pageReadiness.endTimestamp-this.pageReadiness.startTimestamp)/1e3,void(this.pageReadiness.durationInSeconds=Math.round(1e3*this.pageReadiness.durationInSeconds)/1e3)):(this.logger.debug("Detect Sequence no XHR or DOM Mutations.Continuing the detection..."),void this.continueDetection(e.detail.startTimestamp)):(this.logger.debug("Not all XHR completed. Continuing the detection...",n),void this.continueDetection(e.detail.startTimestamp))}adjustStartDetectionToFirstInteraction(){if(0===this.pageReadiness.userInteractions.length)return;const e=[...this.pageReadiness.userInteractions].sort((e=>e.timestamp))[0];e.timestamp<this.pageReadiness.startTimestamp&&(this.pageReadiness.startTimestamp=e.timestamp)}handleEndlessSequence(e){this.logger.error("Detected endless XHR sequence started at ",e.detail.startTimestamp,this.webRequestManager.getIncompleteXhrs()),this.pageReadiness.wasInterrupted=!0,this.adjustStartDetectionToFirstInteraction()}continueDetection(e){this.sequenceDetector.start(e)}};Ri=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"PageReadinessDetectorLogger",useFactory:()=>(0,a.j)("PageReadinessDetector")}]),ki(0,oe("PageReadinessDetectorLogger")),ki(1,oe(wi)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,wi])],Ri);let Pi=class{constructor(e){this.logger=e,this.webRequestTimings=[]}setWebRequestTiming(e){this.webRequestTimings=e}getBreakdownDurationInSeconds(e){return this.computeIntervalsDuration(this.getSortedBackendIntervalBoundaries(),this.getSortedNetworkIntervalBoundaries(),e)}getOverlappedTimestamp(e,t,n){return this.isTimestampInsideInterval(e[n],t)?e[n]:this.isTimestampInsideInterval(t[n],e)?t[n]:void 0}getOverlappedStartTimestamp(e,t){return this.getOverlappedTimestamp(e,t,"startTimestamp")}getOverlappedEndTimestamp(e,t){return this.getOverlappedTimestamp(e,t,"endTimestamp")}getOverlappedIntervals(e,t){if(!e.length||!t.length)return[];const n=[];let r=0,o=0;for(;r<e.length&&o<t.length;){const i=this.getOverlappedStartTimestamp(e[r],t[o]),s=this.getOverlappedEndTimestamp(e[r],t[o]);i&&s&&n.push({startTimestamp:i,endTimestamp:s}),e[r].endTimestamp>=t[o].endTimestamp?o++:r++}return n}isTimestampInsideInterval(e,t){return e>=t.startTimestamp&&e<=t.endTimestamp}computeIntervalsDuration(e,t,n){const r=this.mergeIntervals(e),o=this.mergeIntervals(t),i=this.getOverlappedIntervals(r,o),s=this.sumIntervalsDurationInSec(i)/2,a=this.sumIntervalsDurationInSec(r)-s,c=this.sumIntervalsDurationInSec(o)-s,l=Math.round(1e3*a)/1e3,u=Math.round(1e3*c)/1e3,d={backendTimingsInSec:l,networkTimingsInSec:u,clientTimingsInSec:Math.round(1e3*(n-u-l))/1e3};return d.clientTimingsInSec<0&&(this.logger.error("Invalid Breakdown Timings",d,n),d.clientTimingsInSec=0),d}sumIntervalsDurationInSec(e){let t=0;return e.forEach((e=>{t+=e.endTimestamp-e.startTimestamp})),t/1e3}mergeIntervals(e){if(0===this.webRequestTimings.length)return[];let t={},n=0;const r=[];for(const o of e){if(t.startTimestamp||(t.startTimestamp=o.timestamp),n+=o.isEnd?-1:1,n<0)throw this.logger.error("Invalid sequence of interval boundaries",e),Error("Invalid sequence of interval boundaries");o.isEnd&&0===n&&(t.endTimestamp=o.timestamp,r.push(t),t={})}return r}getSortedNetworkIntervalBoundaries(){return[...new Array(...this.webRequestTimings).filter((e=>e.redirectStart&&e.redirectEnd&&e.redirectStart<=e.redirectEnd)).flatMap((e=>[{timestamp:e.redirectStart,isEnd:!1},{timestamp:e.redirectEnd,isEnd:!0}])),...new Array(...this.webRequestTimings).filter((e=>e.domainLookupStart&&e.domainLookupEnd&&e.domainLookupStart<=e.domainLookupEnd)).flatMap((e=>[{timestamp:e.domainLookupStart,isEnd:!1},{timestamp:e.domainLookupEnd,isEnd:!0}])),...new Array(...this.webRequestTimings).filter((e=>e.connectStart&&e.connectEnd&&e.connectStart<=e.connectEnd)).flatMap((e=>[{timestamp:e.connectStart,isEnd:!1},{timestamp:e.connectEnd,isEnd:!0}])),...new Array(...this.webRequestTimings).filter((e=>e.responseStart&&e.responseEnd&&e.responseStart<=e.responseEnd)).flatMap((e=>[{timestamp:e.responseStart,isEnd:!1},{timestamp:e.responseEnd,isEnd:!0}]))].sort(((e,t)=>this.compareIntervals(e,t)))}compareIntervals(e,t){return e.timestamp===t.timestamp?e.isEnd?1:-1:e.timestamp>t.timestamp?1:-1}getSortedBackendIntervalBoundaries(){return new Array(...this.webRequestTimings).filter((e=>e.requestStart&&e.responseStart&&e.requestStart<=e.responseStart)).flatMap((e=>[{timestamp:e.requestStart,isEnd:!1},{timestamp:e.responseStart,isEnd:!0}])).sort(((e,t)=>this.compareIntervals(e,t)))}};Pi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"WebRequestBreakdownTimingsComputerLogger",useFactory:()=>(0,a.j)("WebRequestBreakdownTimingsComputer")}]),function(e,t){return function(n,r){t(n,r,e)}}(0,oe("WebRequestBreakdownTimingsComputerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Pi);class Ci{constructor(e){this.logger=e,this.subscriptions=[],this.appId="",this.tabId=0}register(e,t){this.appId=e,this.tabId=t,this.subscriptions=[{priority:hr.StandardAsync,type:["Content.Event",gr.WebRequest.BEFORE_REQUEST,gr.WebRequest.COMPLETED,gr.WebRequest.ERROR_OCCURRED,gr.WebRequest.SEND_HEADERS],tabId:[t]},{type:["Time.Sleep","Time.Tick","Idle.Locked"]}],this.registerAdditionalSubscriptions(t)}async*consume(e){var t,n;switch(null===(t=this.pageReadinessDetector)||void 0===t||t.updateTimers(e.timestamp),e.type){case gr.WebRequest.BEFORE_REQUEST:case gr.WebRequest.HEADERS_RECEIVED:case gr.WebRequest.COMPLETED:case gr.WebRequest.ERROR_OCCURRED:case gr.WebRequest.SEND_HEADERS:this.handleWebRequests(e);break;case"Content.Event":this.handleContentEvent(e),this.handleGenericContentEvent(e);break;case"Time.Tick":break;case"Time.Sleep":case"Idle.Locked":this.stopDetector(e.timestamp);break;default:yield*this.handleNonGenericSubscriptions(e)}const r=null===(n=this.pageReadinessDetector)||void 0===n?void 0:n.getCompletedDetection();r&&(r.readinessTiming=this.computeReadinessTiming(r),yield this.produceEvent(r),delete this.pageReadinessDetector)}handleGenericContentEvent(e){var t,n,r,o;const{details:i}=e;switch(i.entryType){case"mutation":null===(t=this.pageReadinessDetector)||void 0===t||t.updateDomMutations(i);break;case"navigation":null===(n=this.pageReadinessDetector)||void 0===n||n.updateNavigationTiming(i);break;case"resource":null===(r=this.pageReadinessDetector)||void 0===r||r.updateResourceTimings(i);break;case"interaction":null===(o=this.pageReadinessDetector)||void 0===o||o.updateUserInteractions(i)}}handleWebRequests(e){var t;null===(t=this.pageReadinessDetector)||void 0===t||t.updateResourceSequence(e)}cleanup(e){var t;this.stopDetector(e);const n=null===(t=this.pageReadinessDetector)||void 0===t?void 0:t.getCompletedDetection();if(!n)return;n.readinessTiming=this.computeReadinessTiming(n);const r=this.produceEvent(n);r&&ne.resolve(mo).broadcast(r)}computeReadinessTiming(e){if(e.wasInterrupted||!e.isValid())return;const t=this.computeBreakdownTimings(e);return{clientDurationSeconds:t.clientTimingsInSec,networkDurationSeconds:t.networkTimingsInSec,backendDurationSeconds:t.backendTimingsInSec,stableDomSeconds:this.adjustDetectionDurationToBreakdownTimings(e.durationInSeconds,t)}}computeBreakdownTimings(e){const t=ne.resolve(Pi);return t.setWebRequestTiming(e.resources.map((e=>e.timing))),t.getBreakdownDurationInSeconds(e.durationInSeconds)}adjustDetectionDurationToBreakdownTimings(e,t){let n=t.backendTimingsInSec+t.networkTimingsInSec+t.clientTimingsInSec;return n=Math.round(1e3*n)/1e3,e!==n?(this.logger.warn("Detection duration is not equal to sum of breakdown timings",e,n),n):e}startDetector(e){this.pageReadinessDetector||(this.logger.debug("Starting page readiness detector",e,this.tabId,this.appId),this.pageReadinessDetector=ne.resolve(Ri),this.pageReadinessDetector.start(e))}stopDetector(e){var t;this.isDetectorStarted()||this.logger.debug("Stopping page readiness detector",e,this.tabId,this.appId),null===(t=this.pageReadinessDetector)||void 0===t||t.stop(e)}isDetectorStarted(){return void 0!==this.pageReadinessDetector}}var Ni=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},Ai=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class Di{serialize(){return JSON.stringify(to(Mr(this,{exposeUnsetFields:!1})))}}Ni([oo(),Ai("design:type",String)],Di.prototype,"name",void 0),Ni([oo(),Ai("design:type",Number)],Di.prototype,"version",void 0),Ni([oo(),Ai("design:type",Boolean)],Di.prototype,"containsPii",void 0);var Li=function(e,t){return function(n,r){t(n,r,e)}};let Ui=class{constructor(e,t){this.logger=e,this.urlSanitizer=t}sanitize(e){var t,n;let r={...e};if("documentUrl"in e&&e.documentUrl){const t=e.documentUrl;r={...r,documentUrl:this.urlSanitizer.sanitizeUrl(t)}}if("originUrl"in e&&e.originUrl){const t=e.originUrl;r={...r,originUrl:this.urlSanitizer.sanitizeUrl(t)}}if("url"in e&&e.url){const t=e.url;r={...r,url:this.urlSanitizer.sanitizeUrl(t)}}if("responseHeaders"in r&&(null===(t=r.responseHeaders)||void 0===t||t.forEach((e=>{e.value=void 0}))),"requestHeaders"in r&&(null===(n=r.requestHeaders)||void 0===n||n.forEach((e=>{e.value=void 0}))),"name"in e&&e.name){const t=null==e?void 0:e.name;r={...r,name:this.urlSanitizer.sanitizeUrl(t)}}return r}};Ui=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"WaterfallSanitizerLogger",useFactory:()=>(0,a.j)("WaterfallSanitizer")}]),Li(0,oe("WaterfallSanitizerLogger")),Li(1,oe(Po)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Po])],Ui);class Mi extends Di{constructor(e){super(),this.containsPii=!1,this.name="waterfall_metric",this.version=1,this.startTimestamp=e.startTimestamp,this.endTimestamp=e.endTimestamp,this.durationInSeconds=e.durationInSeconds,this.navigationTiming=e.navigationTiming,this.transactionTrigger=e.transactionTrigger,this.domMutationDetected=e.domMutationDetected,this.historyChanges=e.historyChanges,this.userInteractions=e.userInteractions,this.readinessTiming=e.readinessTiming,this.resourceTimings=this.sanitizeResources(e.resources),this.sizeInBytes=this.getSizeByte()}sanitizeResources(e){const t=ne.resolve(Ui);return e.map((e=>({timing:t.sanitize(e.timing),completedDetails:e.completedDetails?t.sanitize(e.completedDetails):void 0,errorOccurredDetails:e.errorOccurredDetails?t.sanitize(e.errorOccurredDetails):void 0,headersReceivedDetails:e.headersReceivedDetails?t.sanitize(e.headersReceivedDetails):void 0,requestHeadersDetails:e.requestHeadersDetails?t.sanitize(e.requestHeadersDetails):void 0})))}getSizeByte(){return(new TextEncoder).encode(JSON.stringify(Mr(this,{exposeUnsetFields:!1}))).length}}var ji,Fi=function(e,t){return function(n,r){t(n,r,e)}};let Bi=ji=class extends Ci{constructor(e,t,n){super(n),this.eventManager=e,this.configManager=t}clone(e){this.stopDetector(e);const t=ne.resolve(ji);return t.appId=this.appId,t}produceEvent(e){return this.logger.info("Page readiness detected",e),this.isHardNavigation(e)?this.createHardNavigationEvent(e):this.isSoftNavigation(e)?this.createSoftNavigationEvent(e):void(!e.wasInterrupted&&e.isValid()&&this.logger.error("Page readiness detected but no navigation timing or history changes",e))}shouldAbortDetectionBecauseOfInteraction(e){return!!this.pageReadinessDetector&&(this.pageReadinessDetector.currentDetection.userInteractions.length>0||this.pageReadinessDetector.currentDetection.startTimestamp+100<=e)}handleContentEvent(e){var t;const{details:n,timestamp:r}=e;"interaction"===n.entryType&&this.shouldAbortDetectionBecauseOfInteraction(r)&&(this.logger.debug("Aborting detection because of user interaction",e),null===(t=this.pageReadinessDetector)||void 0===t||t.stop(r))}registerAdditionalSubscriptions(e){this.subscriptions=[...this.subscriptions,{priority:hr.StandardAsync,type:[gr.WebNavigation.Monitored.COMMITTED,gr.WebNavigation.Monitored.HISTORY_STATE_UPDATED,gr.WebNavigation.Monitored.REFERENCE_FRAGMENT_UPDATED,gr.Error.NAVIGATION_RESPONSE],tabId:[e]}]}onNavigated(e,t,n){this.isDetectorStarted()?n?(this.logger.debug("Stopping current detection because of a navigation",t,n),this.broadcastStoppedDetection(e),delete this.pageReadinessDetector,this.startDetector(e)):this.logger.debug("Soft navigation detected, continuing detection",t):this.startDetector(e)}broadcastStoppedDetection(e){var t,n;null===(t=this.pageReadinessDetector)||void 0===t||t.stop(e);const r=null===(n=this.pageReadinessDetector)||void 0===n?void 0:n.getCompletedDetection();if(r&&this.isHardNavigation(r)){this.logger.info("Page load detected, stopping the previous detection",r);const e=this.createHardNavigationEvent(r);this.eventManager.broadcast(e)}}async*handleNonGenericSubscriptions(e){var t;switch(e.type){case gr.WebNavigation.Monitored.HISTORY_STATE_UPDATED:case gr.WebNavigation.Monitored.REFERENCE_FRAGMENT_UPDATED:this.startDetector(e.timestamp),null===(t=this.pageReadinessDetector)||void 0===t||t.updateHistoryChanges(e);break;case gr.Error.NAVIGATION_RESPONSE:this.lastErrorNavigationDetected=e}}createSoftNavigationEvent(e){var t;if(this.logger.info("Soft Navigation Detection",e),e.wasInterrupted)return void this.logger.debug("Dropping interrupted Soft Navigation",e);if(0===e.durationInSeconds)return void this.logger.debug("Dropping empty Soft Navigation detection",e);if(!e.isValid())return void this.logger.warn("Dropping invalid soft navigation detection",e);const n=e.historyChanges.at(-1);if(!n)return void this.logger.error("No history change found for Soft Navigation",e);const{type:r,details:o}=n,{frameId:i,url:s}=o,a={[gr.WebNavigation.Monitored.HISTORY_STATE_UPDATED]:"historyStateUpdate",[gr.WebNavigation.Monitored.REFERENCE_FRAGMENT_UPDATED]:"fragmentUpdate"}[r],l=c.X.now(),u=l-c.X.origin,d={type:"NavigationDuration.SoftNavigation",timestamp:l,appId:this.appId,tabId:this.tabId,details:{url:s,extensionTime:u,frameId:i,readinessTiming:e.readinessTiming,navigationType:a,transitionType:o.transitionType,transitionQualifiers:null!==(t=o.transitionQualifiers)&&void 0!==t?t:[],waterfallData:this.computeWaterfallDataMetrics(e)}};return this.logger.info("Soft Navigation",d),this.sendExperimentalEvent(e),d}createHardNavigationEvent(e){var t;const n=(null===(t=this.lastErrorNavigationDetected)||void 0===t?void 0:t.details.url)!==e.navigationTiming.name,{name:r}=e.navigationTiming,o=c.X.now(),i=o-c.X.origin,s={type:"NavigationDuration.WebNavigation",timestamp:o,appId:this.appId,tabId:this.tabId,details:{url:r,extensionTime:i,rawTiming:e.navigationTiming,readinessTiming:e.readinessTiming,shouldBeReported:n,waterfallData:this.computeWaterfallDataMetrics(e)}};return this.logger.info("Hard Navigation",s),this.sendExperimentalEvent(e),s}createWaterfallResource(e){var t,n,r;return{url:e.timing.name,transferSize:e.timing.transferSize,duration:{seconds:e.timing.duration/1e3,nanos:e.timing.duration%1e3*1e6},type:null!==(n=null===(t=e.completedDetails)||void 0===t?void 0:t.type)&&void 0!==n?n:null===(r=e.headersReceivedDetails)||void 0===r?void 0:r.type}}computeWaterfallDataMetrics(e){const t=e.getLongestResource(),n=e.getLargestResource();return{resourcesCount:e.resources.length,resourceErrorsCount:e.getResourceErrorsCount(this.configManager.getErrorStatusThreshold(this.appId)),largeResourcesCount:e.getLargeResourcesCount(),longestResource:t?this.createWaterfallResource(t):void 0,largestResource:n?this.createWaterfallResource(n):void 0,cacheRatio:e.resources.length?e.getCachedResourcesCount()/e.resources.length:0,domainsContacted:e.getDomainsContacted()}}sendExperimentalEvent(e){const t=new Mi(e);this.eventManager.broadcast({type:"Experimental.Metric",timestamp:c.X.now(),appId:this.appId,tabId:this.tabId,details:{metric:t}})}isHardNavigation(e){return void 0!==e.navigationTiming}isSoftNavigation(e){return e.historyChanges.length>0&&void 0!==e.readinessTiming}};Bi=ji=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"NavigationDurationAnalyzerLogger",useFactory:()=>(0,a.j)("NavigationDurationAnalyzer")}]),Fi(0,oe(mo)),Fi(1,oe(ko)),Fi(2,oe("NavigationDurationAnalyzerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[mo,ko,Object])],Bi);const Vi=Bi;var qi,Yi=function(e,t){return function(n,r){t(n,r,e)}};let Wi=qi=class{constructor(e,t,n){this.eventManager=e,this.configManager=t,this.logger=n,this.subscriptions=[],this.appId="",this.tabId=0,this.onConfigUpdate=()=>{0!==this.appId.length?this.getAppConfig()?(this.logger.trace("Config updated",this.configManager.getLatestConfig()),this.clearAllTriggers(c.X.now()),this.setupAllTriggers(c.X.now())):this.logger.info("Current appId is not monitored anymore in the new config. Awaiting cleanup.",this.appId):this.logger.debug("Not initialized during config update")},this.configManager.onUpdate.addListener(this.onConfigUpdate)}register(e,t){this.appId=e,this.tabId=t,this.logger.debug("Registering transaction monitors manager",this.appId,this.tabId),this.subscriptions=[{priority:hr.StandardSync,type:[gr.Transaction.Trigger.SET,"Frame.Loaded"],tabId:[t]}],this.setupAllTriggers(c.X.now())}onNavigated(e,t,n){var r;if(!n)return;this.setupAllTriggers(e);const o=null!==(r=this.getTransactionsWithNavigationAsStartTrigger())&&void 0!==r?r:[];o.length&&(this.logger.debug("Starting the following transactions on navigation",o),this.eventManager.broadcastFrom(this.createTransactionStartedEvent(o,e,t)))}cleanup(e){this.logger.debug("Cleanup. Clearing all triggers",this.appId,this.tabId),this.clearAllTriggers(e),this.configManager.onUpdate.removeListener(this.onConfigUpdate)}clone(e){const t=ne.resolve(qi);return t.appId=this.appId,t}async*consume(e){switch(e.type){case gr.Transaction.Trigger.SET:{this.logger.debug("Trigger Set",e);const t=this.getTriggerInformation(e.details.transactionMonitorId,e.details.triggerMonitorId);t&&(yield this.setupTrigger(t,c.X.now()));const n=this.getStoppedTransaction(e.details.transactionMonitorId,e.details.triggerMonitorId);if(n)return void(yield*this.createTransactionStoppedEvent(e,[n]));const r=this.getStartedTransaction(e.details.transactionMonitorId,e.details.triggerMonitorId);if(!r)return;yield*this.createTransactionStartedEvent([r],e.timestamp,e.details.url,e.details.triggerMonitorId,e.details.sourceEntryType);break}case"Frame.Loaded":this.setupAllTriggers(e.timestamp)}}setupAllTriggers(e){const t=this.getAllTriggers();this.logger.debug("Setting all triggers for tabId",this.tabId,t),t.forEach((t=>this.eventManager.broadcast(this.setupTrigger(t,e))))}getTransactionsWithNavigationAsStartTrigger(){var e,t;return null!==(t=null===(e=this.getTransactions())||void 0===e?void 0:e.filter((e=>{var t;return!(null===(t=e.startTriggers)||void 0===t?void 0:t.length)&&e.monitorId})))&&void 0!==t?t:[]}*createTransactionStartedEvent(e,t,n,r,o){for(const i of e)yield{type:gr.Transaction.Trigger.STARTED,timestamp:t,appId:this.appId,tabId:this.tabId,details:{monitorId:i.monitorId,name:i.name,appId:this.appId,triggerId:r,keyboardShortcut:o?"keyboard-shortcut"===o:void 0,url:n}}}*createTransactionStoppedEvent(e,t){for(const n of t)yield{type:"Transaction.Trigger.Stopped",timestamp:e.timestamp,appId:e.appId,tabId:e.tabId,details:{monitorId:n.monitorId,name:n.name,appId:e.appId,endMonitorId:e.details.triggerMonitorId,url:e.details.url}}}getStartedTransaction(e,t){var n;return null===(n=this.getTransactions())||void 0===n?void 0:n.find((n=>{var r;return n.monitorId===e&&(null===(r=n.startTriggers)||void 0===r?void 0:r.find((e=>e.monitorId===t)))}))}getStoppedTransaction(e,t){var n;return null===(n=this.getTransactions())||void 0===n?void 0:n.find((n=>{var r;return n.monitorId===e&&(null===(r=n.endTriggers)||void 0===r?void 0:r.find((e=>e.monitorId===t)))}))}getTransactions(){const e=this.getAppConfig();if(e)return e.transactions;this.logger.error("No app config found",this.appId)}getAppConfig(){const e=this.configManager.getLatestConfig();if(e)return null==e?void 0:e.appConfigs.find((e=>e.appId===this.appId));this.logger.error("Empty config")}getAllTriggers(){var e,t;return null!==(t=(null!==(e=this.getTransactions())&&void 0!==e?e:[]).flatMap((e=>{var t,n;if(!e.monitorId)return[];const r=[...null!==(t=e.startTriggers)&&void 0!==t?t:[],...null!==(n=e.endTriggers)&&void 0!==n?n:[]];return[{transactionId:e.monitorId,triggersConfig:r}]})))&&void 0!==t?t:[]}getTriggerInformation(e,t){var n,r,o;const i=(null!==(n=this.getTransactions())&&void 0!==n?n:[]).find((t=>t.monitorId===e)),s=[...null!==(r=null==i?void 0:i.startTriggers)&&void 0!==r?r:[],...null!==(o=null==i?void 0:i.endTriggers)&&void 0!==o?o:[]].find((e=>e.monitorId===t));return s?{transactionId:e,triggersConfig:[s]}:void 0}setupTrigger(e,t){return{type:gr.Transaction.Trigger.Configure.SETUP,appId:this.appId,tabId:this.tabId,timestamp:t,details:{transactionId:e.transactionId,triggerConfig:e.triggersConfig}}}clearAllTriggers(e){this.eventManager.broadcast(this.clearTrigger("*",e))}clearTrigger(e,t){return{type:"Transaction.Trigger.Configure.Clear",appId:this.appId,tabId:this.tabId,timestamp:t,details:{monitorId:e}}}};Wi=qi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"TransactionTriggerManagerLogger",useFactory:()=>(0,a.j)("TransactionTriggerManager")}]),Yi(0,oe(mo)),Yi(1,oe(ko)),Yi(2,oe("TransactionTriggerManagerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[mo,ko,Object])],Wi);const Gi=Wi;var Ji,Hi=function(e,t){return function(n,r){t(n,r,e)}};class zi{constructor(e,t,n){this.monitorId=e,this.startTrigger=t,this.expireTimeoutInMs=n,this.expireTimer=new Ti(this.expireTimeoutInMs,(()=>{this.isExpired=!0})),this.isExpired=!1,this.expireTimer.start(t.timestamp)}updateTimeoutTimer(e){this.expireTimer.update(e)}}let $i=Ji=class{constructor(e,t,n){this.eventManager=e,this.configManager=t,this.logger=n,this.subscriptions=[],this.appId="",this.tabId=0,this.activeManualTransactions=new Map}register(e,t){this.appId=e,this.tabId=t,this.subscriptions=[{priority:hr.StandardSync,type:[gr.Transaction.Trigger.STARTED,gr.Transaction.Trigger.STOPPED,"Content.Event"],tabId:[t]},{type:["Time.Tick"],tabId:[t]}]}cleanup(e){this.logger.info("Cleanup. Aborting active manual transactions.",this.activeManualTransactions),this.abortActiveTransactionsBeforeUnloading(),this.activeManualTransactions.clear()}clone(e){const t=ne.resolve(Ji);return t.appId=this.appId,Array.from(this.activeManualTransactions.entries()).forEach((e=>t.activeManualTransactions.set(e[0],e[1]))),this.logger.info(`Cloning ${this.activeManualTransactions.size} active transactions`,this.activeManualTransactions),this.activeManualTransactions.clear(),t}onNavigated(e,t){}async*consume(e){var t,n,r;switch(this.updateExpireTimeForActiveTransactions(e.timestamp),e.type){case gr.Transaction.Trigger.STARTED:{if(this.configManager.isAutoEndTransaction(e.appId,e.details.monitorId))break;if(this.activeManualTransactions.has(e.details.monitorId)){this.logger.info("Transaction already started. Aborting exiting one.",this.activeManualTransactions.get(e.details.monitorId),e);const t=this.createTransactionCompleted(this.createTransactionStopEvent(e),gr.Transaction.Status.TRANSACTION_STATUS_ABORTED_NEW);t&&(yield t),this.activeManualTransactions.delete(e.details.monitorId)}const o=new zi(e.details.monitorId,e,1e3*(null!==(r=null===(n=null===(t=this.configManager.getLatestConfig())||void 0===t?void 0:t.defaultAppOptions)||void 0===n?void 0:n.transactionTimeoutSeconds)&&void 0!==r?r:60));this.logger.info("Transaction started",o),this.activeManualTransactions.set(e.details.monitorId,o);break}case"Transaction.Trigger.Stopped":{const t=this.createTransactionCompleted(e,gr.Transaction.Status.TRANSACTION_STATUS_COMPLETED);t&&(this.logger.info("Transaction stopped. Duration:",null==t?void 0:t.details.durationSeconds,t,e),yield t),this.activeManualTransactions.delete(e.details.monitorId);break}case"Content.Event":{const{details:t}=e;if("interaction"===t.entryType){if(0===this.activeManualTransactions.size)return;this.logger.debug("Interaction detected. Stopping active transactions",e,this.activeManualTransactions);for(const e of this.activeManualTransactions.values())yield this.completeUnsuccessfulTransactions(e.startTrigger,gr.Transaction.Status.TRANSACTION_STATUS_ABORTED_INPUT),this.activeManualTransactions.delete(null==e?void 0:e.monitorId)}}}yield*this.completeExpiredTransactions()}*completeExpiredTransactions(){for(const e of this.activeManualTransactions.values()){if(!e.isExpired)return;yield this.completeUnsuccessfulTransactions(e.startTrigger,gr.Transaction.Status.TRANSACTION_STATUS_TIME_OUT),this.activeManualTransactions.delete(null==e?void 0:e.monitorId)}}completeUnsuccessfulTransactions(e,t,n=void 0){const r=this.createTransactionCompleted(this.createTransactionStopEvent(e),t,n);if(r)return this.logger.warn("Unsuccessful Transaction. Status:",t,r),r}abortActiveTransactionsBeforeUnloading(){Array.from(this.activeManualTransactions.values()).forEach((e=>{const t=this.completeUnsuccessfulTransactions(e.startTrigger,gr.Transaction.Status.TRANSACTION_STATUS_ABORTED_UNLOAD);t&&this.eventManager.broadcast(t)}))}updateExpireTimeForActiveTransactions(e){this.activeManualTransactions.forEach((t=>t.updateTimeoutTimer(e)))}createTransactionStopEvent(e){return{type:"Transaction.Trigger.Stopped",timestamp:e.timestamp,appId:e.appId,tabId:e.tabId,details:{monitorId:e.details.monitorId,name:e.details.name,appId:e.appId,url:e.details.url}}}createTransactionCompleted(e,t,n=void 0){var r;const o=null===(r=this.activeManualTransactions.get(e.details.monitorId))||void 0===r?void 0:r.startTrigger;if(!o)return void this.logger.debug("Start trigger not found",e,t);let i=.001;if(!(t===gr.Transaction.Status.TRANSACTION_STATUS_COMPLETED&&(i=(e.timestamp-o.timestamp)/1e3,i<=0)))return{type:gr.Transaction.COMPLETED,timestamp:e.timestamp,tabId:this.tabId,appId:o.appId,details:{startTimestamp:o.timestamp,monitorId:o.details.monitorId,name:o.details.name,status:t,triggerId:o.details.triggerId,keyboardShortcut:o.details.keyboardShortcut,endMonitorId:e.details.endMonitorId,durationSeconds:i,url:o.details.url,endErrorCode:n,isAutoTransaction:!1}};this.logger.error("Invalid transaction duration",o,e)}};$i=Ji=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"TransactionAnalyzerLogger",useFactory:()=>(0,a.j)("TransactionAnalyzer")}]),Hi(0,oe(mo)),Hi(1,oe(ko)),Hi(2,oe("TransactionAnalyzerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[mo,ko,Object])],$i);const Ki=$i;var Xi,Qi=function(e,t){return function(n,r){t(n,r,e)}};let Zi=Xi=class extends Ci{constructor(e,t){super(t),this.configManager=e}clone(e){const t=ne.resolve(Xi);return t.appId=this.appId,t.pageReadinessDetector=this.pageReadinessDetector,this.pageReadinessDetector=ne.resolve(Ri),t}onNavigated(e,t){}registerAdditionalSubscriptions(e){this.subscriptions=[...this.subscriptions,{priority:hr.StandardAsync,type:[gr.Transaction.Trigger.STARTED],tabId:[e]}]}handleContentEvent(e){e.details.entryType}async*handleNonGenericSubscriptions(e){var t,n;if(e.type===gr.Transaction.Trigger.STARTED&&this.configManager.isAutoEndTransaction(e.appId,e.details.monitorId)){if(this.isDetectorStarted()){this.stopDetector(e.timestamp);const n=null===(t=this.pageReadinessDetector)||void 0===t?void 0:t.getCompletedDetection();delete this.pageReadinessDetector,n&&(this.logger.info("Auto Transaction already started. Aborting current detection.",n),yield this.produceEvent(n))}this.logger.info("Auto Transaction Started. Triggering detection.",e),this.startDetector(e.timestamp),null===(n=this.pageReadinessDetector)||void 0===n||n.updateTransactionTrigger(e)}}produceEvent(e){var t,n;if(!this.isValidAutoEndTransaction(e))return void this.logger.error("No transaction trigger found. Aborting.",e);if(!e.endTimestamp)return void this.logger.warn("Endless transaction detected. Aborting.",e);if(!e.isValid())return void this.logger.error("Discarding invalid auto transaction.",e);const{appId:r,tabId:o}=e.transactionTrigger;return{type:gr.Transaction.COMPLETED,timestamp:c.X.now(),appId:r,tabId:o,details:{startTimestamp:e.transactionTrigger.timestamp,monitorId:e.transactionTrigger.details.monitorId,name:e.transactionTrigger.details.name,status:e.wasInterrupted?gr.Transaction.Status.TRANSACTION_STATUS_ABORTED_INPUT:gr.Transaction.Status.TRANSACTION_STATUS_COMPLETED,triggerId:e.transactionTrigger.details.triggerId,keyboardShortcut:e.transactionTrigger.details.keyboardShortcut,durationSeconds:e.wasInterrupted?.001:null!==(n=null===(t=e.readinessTiming)||void 0===t?void 0:t.stableDomSeconds)&&void 0!==n?n:.001,readinessTiming:e.readinessTiming,url:e.transactionTrigger.details.url,isAutoTransaction:!0}}}isValidAutoEndTransaction(e){return void 0!==e.transactionTrigger}};Zi=Xi=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"TransactionAutoEndDetectorLogger",useFactory:()=>(0,a.j)("TransactionAutoEndDetector")}]),Qi(0,oe(ko)),Qi(1,oe("TransactionAutoEndDetectorLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[ko,Object])],Zi);const es=Zi;let ts=class{constructor(e){this.configManager=e}getKeyPage(e,t){var n;const r=this.configManager.getLatestConfig();return r?null===(n=No.getAppKeyPageServices(r).get(e))||void 0===n?void 0:n.getKeyPageForUrl(t):void 0}};ts=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),function(e,t){return function(n,r){t(n,r,e)}}(0,oe(ko)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[ko])],ts);const ns=ts;var rs,os=function(e,t){return function(n,r){t(n,r,e)}};let is=rs=class{constructor(e,t,n,r){this.adoptionCounter=e,this.keyPageSourcer=t,this.browserTab=n,this.logger=r,this.subscriptions=[],this.appId="",this.startTimestamp=0,this.tabId=-1,this.isExpired=!1}register(e,t){this.appId=e,this.tabId=t,this.subscriptions=[{priority:hr.StandardSync,type:["Content.Event","Tab.Watched","Tab.Unwatched","Tab.Hidden",gr.WebNavigation.Monitored.HISTORY_STATE_UPDATED,gr.WebNavigation.Monitored.REFERENCE_FRAGMENT_UPDATED],tabId:[t]},{priority:hr.StandardSync,type:["Tab.Activated","Window.Focus","Window.Blur","Time.Sleep","Time.Tick","Idle.Locked"]}]}async*consume(e){var t;switch(e.type){case"Content.Event":if("interaction"!==e.details.entryType)break;this.isCounterStarted()?this.updateCounter(e.timestamp):this.currentKeyPage&&this.startCounter(e.timestamp,e.type);break;case"Tab.Activated":{if(e.tabId!==this.tabId){this.stopCounter(e.timestamp,e.type);break}const n=null===(t=await this.browserTab.get(e.details.tabId))||void 0===t?void 0:t.url;this.refreshCounter(e.timestamp,n,e.type);break}case"Window.Focus":if(e.tabId!==this.tabId){this.stopCounter(e.timestamp,e.type);break}this.refreshCounter(e.timestamp,e.details.url,e.type);break;case"Tab.Watched":this.isExpired=!1;break;case"Tab.Unwatched":this.stopCounter(e.timestamp,e.type),this.isExpired=!0;break;case"Tab.Hidden":case"Window.Blur":this.stopCounter(e.timestamp,e.type);break;case"Time.Sleep":this.isCounterStarted()&&(this.logger.error("Time sleep received",e),this.stopCounter(e.timestamp,e.type),this.adoptionCounter.subtract(this.appId,e.details.duration/1e3,this.currentKeyPage));break;case"Time.Tick":this.isCounterStarted()&&this.updateCounter(e.timestamp);break;case"Idle.Locked":this.stopCounter(e.timestamp,e.type);break;case gr.WebNavigation.Monitored.HISTORY_STATE_UPDATED:case gr.WebNavigation.Monitored.REFERENCE_FRAGMENT_UPDATED:this.isCounterStarted()&&this.updateCounter(e.timestamp),this.updateKeyPage(e.details.url)}}isCounterStarted(){return 0!==this.startTimestamp}updateKeyPage(e){var t;const n=this.currentKeyPage;this.currentKeyPage=null!==(t=this.keyPageSourcer.getKeyPage(this.appId,e))&&void 0!==t?t:Fr,this.currentKeyPage!==n&&this.logger.debug("Key page id changed",this.currentKeyPage,n,this.tabId)}startCounter(e,t){this.isExpired?this.logger.warn("Usage analyzer expired, not counting usage"):(this.startTimestamp=e,this.logger.debug(`Count started at because of ${t}`,e,this.appId,this.tabId,this.currentKeyPage))}updateCounter(e){if(e<this.startTimestamp)return void this.logger.error("Timestamp is less than startTimestamp",e,this.startTimestamp);const t=this.calculateDurationInSec(e);this.adoptionCounter.add(this.appId,t,this.currentKeyPage),this.startTimestamp=e}refreshCounter(e,t,n){this.isCounterStarted()&&this.updateCounter(e),t&&(this.updateKeyPage(t),this.isCounterStarted()||this.startCounter(e,n))}stopCounter(e,t){if(0===this.startTimestamp)return;const n=this.calculateDurationInSec(e);this.adoptionCounter.add(this.appId,n,this.currentKeyPage),this.logger.debug(`Count stopped at because of ${t}. Duration: ${n}`,e,this.appId,this.tabId,this.currentKeyPage),this.startTimestamp=0}calculateDurationInSec(e){const t=(e-this.startTimestamp)/1e3;return t<0?(this.logger.warn("Calculated negative duration",t),0):t}onNavigated(e,t){this.logger.debug("Page navigated to",{url:t,timestamp:e,appId:this.appId,tabId:this.tabId,currentKeyPage:this.currentKeyPage}),this.isCounterStarted()&&this.updateCounter(e),this.updateKeyPage(t)}cleanup(e){this.logger.debug("Analyser cleanup",this.appId,this.tabId,this.currentKeyPage),this.stopCounter(e,"cleanup")}clone(e){return this.logger.debug("Analyser cloned",this.appId,this.tabId,this.currentKeyPage),this.stopCounter(e,"clone"),ne.resolve(rs)}};is=rs=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"UsageAnalyzerLogger",useFactory:()=>(0,a.j)("UsageAnalyzer",`${Zr()}`)}]),os(0,oe(qr)),os(1,oe(ns)),os(2,oe(zo)),os(3,oe("UsageAnalyzerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[qr,ns,zo,Object])],is);const ss=is;var as,cs=function(e,t){return function(n,r){t(n,r,e)}};let ls=as=class{constructor(e,t,n,r){this.configManager=e,this.eventManager=t,this.sequenceDetector=n,this.logger=r,this.appId="",this.subscriptions=[],this.errors=[],this.initSequenceDetector()}cleanup(e){this.errors=[],this.sequenceDetector.stop(!0,e)}clone(e){return ne.resolve(as)}onNavigated(e,t){}register(e,t){this.appId=e,this.subscriptions=[{priority:hr.StandardAsync,type:[gr.WebRequest.ERROR_OCCURRED,gr.Content.EVENT,gr.Time.TICK],tabId:[t]}]}async*consume(e){switch(this.sequenceDetector.updateTimers(e.timestamp),e.type){case gr.Time.TICK:break;case gr.Content.EVENT:this.sequenceDetector.stop(!0,e.timestamp),this.errors=[];break;case gr.WebRequest.ERROR_OCCURRED:if(!this.isValidRequestError(e))break;this.sequenceDetector.isStarted()||this.sequenceDetector.start(e.timestamp),this.sequenceDetector.setNewItem(e.timestamp),this.errors.push({type:gr.Error.NAVIGATION_REQUEST,timestamp:e.timestamp,appId:this.appId,tabId:e.tabId,details:{...e.details,extensionTime:e.timestamp-c.X.origin}})}}handleSequenceEnd(e){e.detail.wasInterrupted?this.errors=[]:this.eventManager.broadcastFrom(this.errors.splice(0))}isValidRequestError(e){return e.appId&&"main_frame"===e.details.type}initSequenceDetector(){this.sequenceDetector.addEventListener("sequenceEnd",(e=>this.handleSequenceEnd(e)))}};ls=as=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"NavigationRequestErrorAnalyzerLogger",useFactory:()=>(0,a.j)("NavigationRequestErrorAnalyzer")},{token:"RequestErrorSequenceDetector",useFactory:()=>new _i(5e3)}]),cs(0,oe(ko)),cs(1,oe(mo)),cs(2,oe("RequestErrorSequenceDetector")),cs(3,oe("NavigationRequestErrorAnalyzerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[ko,mo,_i,Object])],ls);var us,ds=function(e,t){return function(n,r){t(n,r,e)}};let ps=us=class{constructor(e,t){this.configManager=e,this.logger=t,this.appId="",this.subscriptions=[]}cleanup(e){}clone(e){return ne.resolve(us)}onNavigated(e,t){}register(e,t){this.appId=e,this.subscriptions=[{priority:hr.StandardAsync,type:[gr.WebRequest.COMPLETED],tabId:[t]}]}async*consume(e){e.appId&&this.isResponseError(e)&&(this.logger.debug("Reporting response navigation error",e),yield{type:gr.Error.NAVIGATION_RESPONSE,timestamp:e.timestamp,appId:this.appId,tabId:e.tabId,details:{...e.details,extensionTime:e.timestamp-c.X.origin}})}isResponseError({appId:e,details:{type:t,statusCode:n}}){return"main_frame"===t&&n>=this.configManager.getErrorStatusThreshold(e)}};ps=us=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"ResponseErrorAnalyzerLogger",useFactory:()=>(0,a.j)("ResponseErrorAnalyzer")}]),ds(0,oe(ko)),ds(1,oe("ResponseErrorAnalyzerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[ko,Object])],ps);var fs=function(e,t){return function(n,r){t(n,r,e)}};let gs=class{constructor(e,t,n,r){this.eventManager=e,this.browserTab=t,this.expireTimeoutInMs=n,this.logger=r,this.subscriptions=[{priority:hr.StandardSync,type:[gr.Tab.WATCHED,gr.Tab.UNWATCHED,gr.Tab.NAVIGATED,gr.Tab.UPDATED_CHANGE_INFO,gr.Tab.CREATED,gr.Tab.REMOVED]},{priority:hr.HighSync,type:["Config.UpdateStarted"]},{type:["Time.Tick"]}],this.analyzersInjectTokens=[],this.analyzers=new Map}async*consume(e){var t;switch(this.deleteExpiredAnalyzers(e.timestamp),e.type){case gr.Tab.CREATED:{const{appId:n,tabId:r,details:o}=e,i=this.analyzers.get(null!==(t=o.openerTabId)&&void 0!==t?t:-1);if(!i)return void this.logger.debug("Tab Created. No analyzers to clone");if(!n||n!==(null==i?void 0:i.appId))return void this.logger.debug(`Tab Created. Not cloning analyzers. Analyzers AppId: ${null==i?void 0:i.appId}, Event appId: ${n}`);const s=null==i?void 0:i.analyzers.map((t=>t.clone(e.timestamp)));this.saveAnalyzers(n,r,s,!0);break}case gr.Tab.NAVIGATED:case gr.Tab.WATCHED:{const t=this.analyzers.get(e.tabId);if(t){if(t.appId===e.appId){if(this.clearExpireTimestamp(e.tabId),t.mustBeActivated&&(this.logger.debug("Activating analyzers",t.analyzers.map((e=>e.constructor.name)),e),this.activateAnalyzers(e.appId,e.tabId,t.analyzers),t.mustBeActivated=!1),e.type===gr.Tab.WATCHED&&!e.details.historyChanged){this.logger.debug("Tab was already loaded. Not notifying navigated.",e);break}this.notifyTabNavigated(t.analyzers,e.details.url,e.type===gr.Tab.NAVIGATED?e.details.hard:e.details.newPageLoad,e.timestamp);break}this.logger.debug(`Tab ${e.tabId} navigated to different appId ${e.appId}. Old appId ${t.appId}. Deleting analyzers.`,e),this.deleteAnalyzers(e.tabId,e.timestamp)}this.setupNewAnalyzers(e);break}case gr.Tab.UNWATCHED:if(!this.analyzers.get(e.tabId))return;this.logger.debug(`Expiring Analyzer for tab ${e.tabId}`),this.setExpireTimestamp(e.tabId,e.timestamp);break;case gr.Tab.REMOVED:this.deleteAnalyzers(e.tabId,e.timestamp);break;case gr.Tab.UPDATED_CHANGE_INFO:{const{appId:t,tabId:n,details:{url:r}}=e;if(this.analyzers.has(n))return;this.logger.debug("Tab Updated. Setting up new analyzers",e);const o=this.analyzersInjectTokens.map((e=>ne.resolve(e)));o.forEach((e=>{this.logger.debug(`Create ${e.constructor.name} for appId ${e.appId} - tabId ${n} - url ${r} `)})),this.saveAnalyzers(t,n,o,!0);const i=o.filter((e=>e.constructor.name===ls.name));this.activateAnalyzers(t,n,i);break}case gr.Time.TICK:this.checkGhostAnalyzers(e.timestamp),this.checkDuplicateAnalyzers()}}async checkGhostAnalyzers(e){const t=(await this.browserTab.getAll()).map((e=>{var t;return null!==(t=e.id)&&void 0!==t?t:-1})).filter((e=>e>0)),n=Array.from(this.analyzers.keys()).filter((e=>!t.includes(e)));n.length&&(this.logger.error("Ghost analyzers found. Deleting analyzers.",{tabIds:n,timestamp:e}),n.forEach((t=>{this.deleteAnalyzers(t,e)})))}checkDuplicateAnalyzers(){Array.from(this.analyzers.values()).forEach((e=>{const t=e.analyzers.filter((t=>e.analyzers.some((e=>t!==e&&t.constructor.name===e.constructor.name))));t.length&&this.logger.error("Duplicate analyzers found",t.map((t=>`TabId: ${e.tabId}, AppId: ${e.appId}, AnalyzerAppId: ${t.appId}`)))}))}deleteExpiredAnalyzers(e){const t=this.getExpiredAnalyzers(e);Array.from(t).forEach((t=>{this.deleteAnalyzers(t,e)}))}registerAnalyzer(e){this.analyzersInjectTokens.push(e)}unregisterAnalyzer(e){this.analyzersInjectTokens=this.analyzersInjectTokens.filter((t=>t!==e))}setExpireTimestamp(e,t){const n=this.analyzers.get(e);n&&(n.expireTimestamp=t)}clearExpireTimestamp(e){this.setExpireTimestamp(e,0)}getExpiredAnalyzers(e){const t=[];for(const[n,r]of this.analyzers.entries())0!==r.expireTimestamp&&r.expireTimestamp+this.expireTimeoutInMs<e&&(this.logger.debug(`Analyzers for appId ${r.appId} have expired. Current timestamp: ${e}`),t.push(n));return t}deleteAnalyzers(e,t){const n=this.analyzers.get(e);n&&(this.logger.debug(`Deleting Analyzers for tab ${e}`),n.analyzers.forEach((e=>{this.eventManager.unregister(e),e.cleanup(t)})),this.analyzers.delete(e))}createAnalyzers(){return this.analyzersInjectTokens.map((e=>ne.resolve(e)))}activateAnalyzers(e,t,n){n.forEach((n=>{n.register(e,t),this.eventManager.register(n)}))}saveAnalyzers(e,t,n,r=!1){this.analyzers.set(t,{appId:e,tabId:t,mustBeActivated:r,expireTimestamp:0,analyzers:n})}setupNewAnalyzers(e){const{appId:t,tabId:n,details:{url:r}}=e,o=this.createAnalyzers();if(o.forEach((e=>{this.logger.debug(`Create ${e.constructor.name} for appId ${e.appId} - tabId ${n} - url ${r} `)})),this.saveAnalyzers(t,n,o),this.activateAnalyzers(t,n,o),e.type===gr.Tab.WATCHED&&e.details.historyChanged||e.type===gr.Tab.NAVIGATED){const t=e.type===gr.Tab.NAVIGATED&&e.details.hard||e.type===gr.Tab.WATCHED&&e.details.newPageLoad;this.notifyTabNavigated(o,r,t,e.timestamp)}}notifyTabNavigated(e,t,n,r=c.X.now()){e.forEach((e=>{e.onNavigated(r,t,n)}))}};gs=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:Vi.name,useClass:Vi},{token:Gi.name,useClass:Gi},{token:Ki.name,useClass:Ki},{token:es.name,useClass:es},{token:ss.name,useClass:ss},{token:ls.name,useClass:ls},{token:ps.name,useClass:ps},{token:"AnalyzersTabManagerLogger",useFactory:()=>(0,a.j)("AnalyzersTabManager")},{token:"ExpireTimeoutInMs",useValue:5e3}]),fs(0,oe(mo)),fs(1,oe(zo)),fs(2,oe("ExpireTimeoutInMs")),fs(3,oe("AnalyzersTabManagerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[mo,zo,Number,Object])],gs);const hs=gs;var vs=function(e,t){return function(n,r){t(n,r,e)}};let ms=class{constructor(e,t,n,r){this.eventManager=e,this.configManager=t,this.browser=n,this.logger=r,this.initialized=!1,this.unknownNewChildTabs=new Map,this.handleTabCreated=e=>{var t,n;const r=null!==(t=e.url)&&void 0!==t?t:e.pendingUrl;eo(null!=r?r:"")?this.eventManager.broadcast({type:"Tab.Created",appId:null===(n=this.configManager.getLatestConfig())||void 0===n?void 0:n.getAppIdFromUrl(null!=r?r:""),timestamp:c.X.now(),tabId:e.id,details:e}):e.openerTabId?this.storeUnknownChildTab(e):this.logger.debug("Discarding Tab created for invalid url",r,e)},this.handleTabAttached=(e,t)=>{this.eventManager.broadcast({type:"Tab.Attached",timestamp:c.X.now(),tabId:e,details:t})},this.handleTabDetached=(e,t)=>{this.eventManager.broadcast({type:"Tab.Detached",timestamp:c.X.now(),tabId:e,details:t})},this.handleTabRemoved=(e,t)=>{this.unknownNewChildTabs.has(e)&&(this.logger.debug("Tab removed. Deleting unknown child tab",e),this.unknownNewChildTabs.delete(e)),this.eventManager.broadcast({type:"Tab.Removed",timestamp:c.X.now(),tabId:e,details:t})},this.handleTabActivated=e=>{this.eventManager.broadcast({type:"Tab.Activated",timestamp:c.X.now(),tabId:e.tabId,details:e})},this.handleTabUpdated=(e,t)=>{var n;if(void 0===t.url)return;const r=null===(n=this.configManager.getLatestConfig())||void 0===n?void 0:n.getAppIdFromUrl(t.url);if(!r)return void this.logger.warn("Nav before navigate no app id",t);this.notifyTabCreateIfUnknownChildTabsFound(e,r,t.url);const o={type:"Tab.UpdatedChangeInfo",timestamp:c.X.now(),appId:r,tabId:e,details:t};this.eventManager.broadcast(o)},this.handleWebNavCommitted=e=>{var t;if(0!==e.frameId)return;const n={type:gr.WebNavigation.Unmonitored.COMMITTED,timestamp:c.X.now(),tabId:e.tabId,details:e},r=null===(t=this.configManager.getLatestConfig())||void 0===t?void 0:t.getAppIdFromUrl(e.url);r?(this.notifyTabCreateIfUnknownChildTabsFound(e.tabId,r,e.url),this.eventManager.broadcast({...n,type:gr.WebNavigation.Monitored.COMMITTED,appId:r})):this.eventManager.broadcast(n)},this.handleWebNavTargetHistoryStateUpdated=e=>{var t;if(0!==e.frameId)return;const n={type:gr.WebNavigation.Unmonitored.HISTORY_STATE_UPDATED,timestamp:c.X.now(),tabId:e.tabId,details:e},r=null===(t=this.configManager.getLatestConfig())||void 0===t?void 0:t.getAppIdFromUrl(e.url);r?(this.notifyTabCreateIfUnknownChildTabsFound(e.tabId,r,e.url),this.eventManager.broadcast({...n,type:gr.WebNavigation.Monitored.HISTORY_STATE_UPDATED,appId:r})):this.eventManager.broadcast(n)},this.handleWebNavReferenceFragmentUpdated=e=>{var t;if(0!==e.frameId)return;const n={type:gr.WebNavigation.Unmonitored.REFERENCE_FRAGMENT_UPDATED,timestamp:c.X.now(),tabId:e.tabId,details:e},r=null===(t=this.configManager.getLatestConfig())||void 0===t?void 0:t.getAppIdFromUrl(e.url);r?(this.notifyTabCreateIfUnknownChildTabsFound(e.tabId,r,e.url),this.eventManager.broadcast({...n,type:gr.WebNavigation.Monitored.REFERENCE_FRAGMENT_UPDATED,appId:r})):this.eventManager.broadcast(n)},this.handleWebNavErrorOccurred=e=>{var t;if(0===e.frameId){const n={type:gr.WebNavigation.Unmonitored.ERROR_OCCURRED,timestamp:c.X.now(),tabId:e.tabId,details:e},r=null===(t=this.configManager.getLatestConfig())||void 0===t?void 0:t.getAppIdFromUrl(e.url);if(!r)return void this.eventManager.broadcast(n);this.eventManager.broadcast({...n,type:gr.WebNavigation.Monitored.ERROR_OCCURRED,appId:r})}}}start(){if(this.initialized)return;this.logger.info("Starting browser watcher");const{webNavigation:e,tabs:t}=this.browser;t.onCreated.addListener(this.handleTabCreated),t.onAttached.addListener(this.handleTabAttached),t.onDetached.addListener(this.handleTabDetached),t.onRemoved.addListener(this.handleTabRemoved),t.onActivated.addListener(this.handleTabActivated),t.onUpdated.addListener(this.handleTabUpdated),e.onCommitted.addListener(this.handleWebNavCommitted),e.onHistoryStateUpdated.addListener(this.handleWebNavTargetHistoryStateUpdated),e.onReferenceFragmentUpdated.addListener(this.handleWebNavReferenceFragmentUpdated),e.onErrorOccurred.addListener(this.handleWebNavErrorOccurred),this.initialized=!0}stop(){if(!this.initialized)return;this.logger.info("Stopping browser watcher");const{webNavigation:e,tabs:t}=this.browser;t.onCreated.removeListener(this.handleTabCreated),t.onAttached.removeListener(this.handleTabAttached),t.onDetached.removeListener(this.handleTabDetached),t.onRemoved.removeListener(this.handleTabRemoved),t.onActivated.removeListener(this.handleTabActivated),t.onUpdated.removeListener(this.handleTabUpdated),e.onCommitted.removeListener(this.handleWebNavCommitted),e.onHistoryStateUpdated.removeListener(this.handleWebNavTargetHistoryStateUpdated),e.onReferenceFragmentUpdated.removeListener(this.handleWebNavReferenceFragmentUpdated),e.onErrorOccurred.removeListener(this.handleWebNavErrorOccurred),this.initialized=!1}storeUnknownChildTab(e){e.id?(this.logger.debug("Storing unknown child tab",e.id,e.openerTabId),this.unknownNewChildTabs.set(e.id,{timestamp:c.X.now(),details:e})):this.logger.warn("Dropping Tab Create with no tab id",e)}notifyTabCreateIfUnknownChildTabsFound(e,t,n){const r=this.unknownNewChildTabs.get(e);r&&(!(r.timestamp+500<c.X.now())&&r.details.id&&(this.logger.debug("Found unknown child tab",e,n),this.eventManager.broadcast({type:"Tab.Created",appId:t,timestamp:c.X.now(),tabId:r.details.id,details:{...r.details,url:n}})),this.logger.debug("Removing unknown child tab",e,n),this.unknownNewChildTabs.delete(e))}};var bs,ys,Es,Ss;ms=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"BrowserWatcherLogger",useFactory:()=>(0,a.j)("BrowserWatcher")}]),vs(0,oe(mo)),vs(1,oe(ko)),vs(2,oe("Browser")),vs(3,oe("BrowserWatcherLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[mo,ko,Object,Object])],ms),function(e){e[e.Events=0]="Events",e[e.Log=1]="Log"}(bs||(bs={})),function(e){let t;!function(e){e[e.Cleanup=0]="Cleanup",e[e.Start=1]="Start",e[e.SetupLog=2]="SetupLog",e[e.TransactionTriggersSetup=3]="TransactionTriggersSetup",e[e.TransactionTriggersClear=4]="TransactionTriggersClear"}(t=e.Type||(e.Type={}))}(ys||(ys={})),function(e){let t;!function(e){e[e.Injecting=0]="Injecting",e[e.Injected=1]="Injected",e[e.Connected=2]="Connected",e[e.Error=3]="Error",e[e.Disconnected=4]="Disconnected"}(t=e.FrameStatus||(e.FrameStatus={}))}(Es||(Es={})),function(e){let t;!function(e){e.Navigation="Navigation",e.Resource="Resource",e.PageCommand="PageCommand",e.Window="Window",e.Document="Document",e.PageMutation="PageMutation",e.Transaction="Transaction",e.TimeSync="TimeSync"}(t=e.MessageType||(e.MessageType={}))}(Ss||(Ss={}));class Ts{decode(e){return e.plainString?e.plainString:this.convertArrayBufferToString(e)}convertArrayBufferToString(e){const t="object"==typeof e.transferBuffer?this.reconstructBuffer(e):e.transferBuffer;return new TextDecoder("utf-8").decode(t)}reconstructBuffer(e){if(!e.transferBuffer)throw new Error("Invalid transfer buffer");return new Uint8Array(Object.values(e.transferBuffer))}}class _s{encode(e,t){return t?{transferBuffer:this.convertDataToArrayBuffer(e)}:{plainString:e}}convertDataToArrayBuffer(e){return(new TextEncoder).encode(e)}}class xs{constructor(){this.decoder=new Ts,this.encoder=new _s}wrap(e,t=!1){return{type:this.encoder.encode(e.type,t),jsonData:this.encoder.encode(e.jsonData,t)}}unwrap(e){return{type:this.decoder.decode(e.type),jsonData:this.decoder.decode(e.jsonData)}}}class Os{constructor(e,t,n,r=(0,a.j)("ContentInjector",`TabId: ${e} - FrameId: ${t} - Url: ${n}`)){this.tabId=e,this.frameId=t,this.url=n,this.logger=r}inject(){return this.logger.debug("Injecting content"),this.injectWithRetry()}async injectWithRetry(e=0){try{return this.logger.debug(`Injecting content after ${e} retries`),await this.executeContentInsideFrame(),Es.FrameStatus.Injected}catch(t){return e>=3?(this.logger.error("Error injecting content",t),Es.FrameStatus.Error):await this.isFrameStillPresent()?this.injectWithRetry(e+1):Es.FrameStatus.Error}}async isFrameStillPresent(){let e;try{e=await(0,ce.q)().webNavigation.getFrame({frameId:this.frameId,tabId:this.tabId})}catch(e){this.logger.warn("Frame not present anymore",this.frameId,this.tabId,e)}return e&&!e.errorOccurred}async executeContentInsideFrame(){var e,t,n;const r=(0,ce.q)();if(r.scripting){const o=await r.scripting.executeScript({files:["content/content.js"],target:{tabId:this.tabId,frameIds:[this.frameId]}});if(null===(e=null==o?void 0:o.at(0))||void 0===e?void 0:e.error)throw new Error(null===(n=null===(t=o.at(0))||void 0===t?void 0:t.error)||void 0===n?void 0:n.message)}else await r.tabs.executeScript(this.tabId,{file:"content/content.js",frameId:this.frameId,matchAboutBlank:!0})}}var ws=__webpack_require__(5891),Is=__webpack_require__(4738);class ks{constructor(e,t=(0,a.j)("ContentMessageHandler",`TabId: ${e.tabId} - FrameId: ${e.frameId} - Url: ${e.url}`)){this.logger=t,this.eventManager=ne.resolve(mo),this.configManager=ne.resolve(ko),this.handleContentMessage=e=>{switch(e.type){case bs.Events:this.handleContentEvents(e);break;case bs.Log:this.handleContentLog(e)}},this.handleContentEvents=e=>{if(!e.serializedEvents)return;const t=JSON.parse(e.serializedEvents),n=this.configManager.getLatestConfig();n&&(null==t||t.forEach((e=>{var t;const r=c.X.now()-(null!==(t=e.timestampOffsetToContentConnected)&&void 0!==t?t:0);switch(e.entryType){case"trigger-set":{const t=e;this.checkIfContentEventHasDifferentAppId(this.appId,t.appId),this.eventManager.broadcast({type:gr.Transaction.Trigger.SET,timestamp:r,appId:t.appId,tabId:this.tabId,details:{triggerMonitorId:t.monitorId,transactionMonitorId:t.transactionMonitorId,name:t.name,sourceEntryType:t.sourceEntryType,url:t.url}});break}case"visible":this.eventManager.broadcast({type:"Tab.Visible",timestamp:r,appId:this.appId,tabId:this.tabId,details:{url:e.url}});break;case"hidden":this.eventManager.broadcast({type:"Tab.Hidden",timestamp:r,appId:this.appId,tabId:this.tabId,details:{url:e.url}});break;case"navigation":{this.logger.debug("Navigation event",e);const t=e,o=n.getAppIdFromUrl(t.navigationUrl);if(!o)return void this.logger.error("Navigation url doesn't match any appId",t.navigationUrl,e);this.checkIfContentEventHasDifferentAppId(this.appId,o),this.eventManager.broadcast({type:"Content.Event",timestamp:r,appId:this.appId,tabId:this.tabId,details:t});break}default:this.eventManager.broadcast({type:"Content.Event",timestamp:r,appId:this.appId,tabId:this.tabId,details:{...e,timestamp:r}})}})))},this.appId=e.appId,this.tabId=e.tabId,this.frameId=e.frameId,this.url=e.url}checkIfContentEventHasDifferentAppId(e,t){e!==t&&this.logger.error("Content event has different appId as monitored tab appId",t,e)}handleContentLog(e){var t,n;"none"!==e.level&&this.logger[e.level](`${null!==(t=e.logInfo.correlationId)&&void 0!==t?t:""} ${e.logInfo.loggerName} ${e.logInfo.message}`,...null!==(n=e.logInfo.additional)&&void 0!==n?n:[])}}class Rs{constructor(e,t=(0,a.j)("ContentConnector",`TabId: ${e.tabId} - FrameId: ${e.frameId} - Url: ${e.url}`)){this.logger=t,this.queuedCommands=[],this.connectionStatus=Es.FrameStatus.Disconnected,this.queueExceedReported=!1,this.eventManager=ne.resolve(mo),this.extension=ne.resolve(Si),this.enveloper=ne.resolve(xs),this.setupConnection=e=>{var t,n,r;if(!this.isContentScriptConnection(e))return;const o=null===(t=e.sender)||void 0===t?void 0:t.frameId,i=null===(r=null===(n=e.sender)||void 0===n?void 0:n.tab)||void 0===r?void 0:r.id;if(o===this.frameId&&i===this.tabId){if(!this.isSecureConnection(e))return this.logger.error("Receiving an insecure connection request from the content"),e.disconnect(),void this.notifyMainFrameStatus(Es.FrameStatus.Error);for(this.port=e,this.setupCommunicationHandlers(),this.setupBackgroundLoggerForwarder(),this.sendStart();this.queuedCommands.length;)this.sendPageCommand(this.queuedCommands.shift())}},this.handleDisconnection=e=>{this.logger.debug("Port disconnect",e),this.cleanupListeners()},this.handleContentMessage=e=>{const t=this.enveloper.unwrap(e),n=JSON.parse(t.jsonData),r=this.contentHandler.handleContentMessage(n);r&&this.sendPageCommand(r)},this.appId=e.appId,this.tabId=e.tabId,this.frameId=e.frameId,this.url=e.url,this.contentHandler=new ks(e),this.injector=new Os(this.tabId,this.frameId,this.url)}async inject(){this.notifyMainFrameStatus(Es.FrameStatus.Injecting),(0,ce.q)().runtime.onConnect.addListener(this.setupConnection);const e=await this.injector.inject();this.connectionStatus===Es.FrameStatus.Injecting&&this.notifyMainFrameStatus(e)}isConnected(){return this.connectionStatus===Es.FrameStatus.Connected}isConnectionInProgress(){return this.connectionStatus===Es.FrameStatus.Injecting||this.connectionStatus===Es.FrameStatus.Injected}disconnect(){this.cleanupMonitorsOnFrame(),this.cleanupListeners()}isContentScriptConnection(e){return"content"===e.name}isSecureConnection(e){var t;const n=null===(t=e.sender)||void 0===t?void 0:t.id;return n&&(0,ce.q)().runtime.id===n||vi()===fi.safari}setupCommunicationHandlers(){var e,t;null===(e=this.port)||void 0===e||e.onMessage.addListener(this.handleContentMessage),null===(t=this.port)||void 0===t||t.onDisconnect.addListener(this.handleDisconnection)}sendStart(){const e={command:ys.Type.Start};this.logger.debug("Start content detection",c.X.now(),e),this.sendPageCommand(e),this.notifyMainFrameStatus(Es.FrameStatus.Connected)}cleanupMonitorsOnFrame(){var e,t;try{const n={command:ys.Type.Cleanup};null===(e=this.port)||void 0===e||e.onMessage.removeListener(this.handleContentMessage),this.sendPageCommand(n),null===(t=this.port)||void 0===t||t.disconnect()}catch(e){this.logger.warn("Error try to stop monitoring an existing page",e)}}sendCreateTrigger(e,t){this.sendPageCommand({command:ys.Type.TransactionTriggersSetup,appId:this.appId,transactionId:e,triggerConfig:t})}sendClearTrigger(e){this.sendPageCommand({command:ys.Type.TransactionTriggersClear,appId:this.appId,monitorId:e})}sendPageCommand(e){var t;if(this.isConnectionInProgress())this.queue(e);else try{null===(t=this.port)||void 0===t||t.postMessage(this.enveloper.wrap({type:Ss.MessageType.PageCommand,jsonData:JSON.stringify(e)}))}catch(t){this.cleanupListeners(),this.logger.warn("Error sending page command",t,e)}}queue(e){if(this.queuedCommands.length<100)return this.logger.debug("Queuing page command",e),void this.queuedCommands.push(e);this.queueExceedReported||(this.logger.error("Too many page commands queued",100,this.queuedCommands,this.frameId),this.queueExceedReported=!0)}setupBackgroundLoggerForwarder(){var e,t,n,r;let o=null!==(t=null===(e=ws.P.getSinkManager().getSink(Is.h.BsmLoggerForwarder))||void 0===e?void 0:e.logLevel)&&void 0!==t?t:Vo.in.NONE;o===Vo.in.NONE&&this.extension.info.isBeta&&(o=Vo.in.ERROR);const i=null!==(r=null===(n=ws.P.getSinkManager().getSink(Is.h.Console))||void 0===n?void 0:n.logLevel)&&void 0!==r?r:Vo.in.NONE,s={command:ys.Type.SetupLog,logLevel:o.level<i.level?o:i};this.sendPageCommand(s)}cleanupListeners(){var e,t,n;null===(e=this.port)||void 0===e||e.onMessage.removeListener(this.handleContentMessage),null===(t=this.port)||void 0===t||t.onDisconnect.removeListener(this.handleDisconnection),(0,ce.q)().runtime.onConnect.removeListener(this.setupConnection),this.notifyMainFrameStatus(Es.FrameStatus.Disconnected),delete this.port,null===(n=this.onDisconnect)||void 0===n||n.call(this)}notifyMainFrameStatus(e){if(this.connectionStatus=e,this.frameId!==Cs)return;let t;e===Es.FrameStatus.Connected&&(t="Tab.ConfigInjectionCompleted"),e!==Es.FrameStatus.Disconnected&&e!==Es.FrameStatus.Error||(t="Tab.ConnectionFailed"),t&&this.eventManager.broadcast({type:t,timestamp:c.X.now(),tabId:this.tabId,appId:this.appId,details:{}})}}let Ps=class{constructor(e){this.logger=e}async getAllFrames(e){var t;try{return null!==(t=await(0,ce.q)().webNavigation.getAllFrames({tabId:e}))&&void 0!==t?t:[]}catch{return[]}}hasTabCorrectlyBeenLoaded(e){if(e.discarded||"unloaded"===e.status)return this.logger.debug("Ignoring discarded/unloaded tab",e),!1;const{url:t}=e;return!!t||(this.logger.error("No url retrieved for the tab",e),!1)}isFrameValid(e,t,n){return!(!(null==e?void 0:e.url)||(null==e?void 0:e.errorOccurred)||this.isNestedIframeTooDeep(e,t,n))}isNestedIframeTooDeep(e,t,n){const r=this.computeDepthFrame(e,t,n);return r>n&&(this.logger.warn("Maximum frame depth reached",r,n,e.frameId,e.url),!0)}computeDepthFrame(e,t,n){let r=e,o=0;for(;-1!==r.parentFrameId&&o<=n;){if(r=t.find((e=>e.frameId===(null==r?void 0:r.parentFrameId))),void 0===r)return o;o++}return o}};Ps=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([se([{token:"FrameHandlerLogger",useFactory:()=>(0,a.j)("FrameHandler")}]),ae(),function(e,t){return function(n,r){t(n,r,e)}}(0,oe("FrameHandlerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Ps);const Cs=0;class Ns{constructor(e,t,n,r=(0,a.j)("ContentConnectorManager",`TabId: ${e}`)){this.tabId=e,this.appId=t,this.configManager=n,this.logger=r,this.connectors=new Map,this.frameHandler=ne.resolve(Ps),this.browserTab=ne.resolve(zo),this.subscriptions=[],this.subscriptions=[{type:["Transaction.Trigger.Configure.Clear",gr.Transaction.Trigger.Configure.SETUP,"Frame.Loaded"],tabId:[e],priority:hr.HighSync}]}async register(){var e,t,n;const r=await this.browserTab.get(this.tabId);if(!r)return;if(!this.frameHandler.hasTabCorrectlyBeenLoaded(r))return;const o=this.getAppIdFromUrl(null!==(e=null==r?void 0:r.url)&&void 0!==e?e:"");if(o!==this.appId)return void this.logger.debug("Wrong appId for the main frame. Skipping ContentConnector registration",o,this.appId);const i=await this.frameHandler.getAllFrames(this.tabId),s=null!==(n=null===(t=this.configManager.getLatestConfig())||void 0===t?void 0:t.lookupMaxFrameDepth(o))&&void 0!==n?n:1;await this.createConnectorsForValidFrames(i,s)}createConnectorsForValidFrames(e,t){return Promise.all(e.filter((n=>this.frameHandler.isFrameValid(n,e,t))).map((e=>this.createConnector(e.frameId,e.url))))}getAppIdFromUrl(e){var t;return null===(t=this.configManager.getLatestConfig())||void 0===t?void 0:t.getAppIdFromUrl(e)}async createConnector(e,t){if(this.connectors.has(e))return void this.logger.debug("Connector already exists",e);this.logger.debug(`New ContentConnector with frameId ${e}, url ${t}`);const n=new Rs({appId:this.appId,tabId:this.tabId,frameId:e,url:t});n.onDisconnect=()=>{this.logger.debug("Connector disconnected. Removing it.",e,this.tabId,this.appId),this.connectors.delete(e)},this.connectors.set(e,n),await n.inject()}unregister(){this.connectors.forEach((e=>e.disconnect())),this.connectors.clear()}async*consume(e){switch(e.type){case gr.Transaction.Trigger.Configure.SETUP:this.connectors.forEach((t=>t.sendCreateTrigger(e.details.transactionId,e.details.triggerConfig)));break;case"Transaction.Trigger.Configure.Clear":this.connectors.forEach((t=>t.sendClearTrigger(e.details.monitorId)));break;case"Frame.Loaded":await this.handleFrameLoaded(e.details.frameId,e.details.mainUrl)}}async handleFrameLoaded(e,t){const n=this.getAppIdFromUrl(null!=t?t:"");n===this.appId?await this.createConnector(e,t):this.logger.debug(`Wrong appId for the main frame. Skipping ContentConnector registration for frameId ${e}`,n,this.appId)}}var As=function(e,t){return function(n,r){t(n,r,e)}};let Ds=class{constructor(e,t,n){this.eventManager=e,this.configManager=t,this.logger=n,this.subscriptions=[{type:["Tab.Watched","Tab.Navigated","Tab.Unwatched"],priority:hr.HighSync}],this.contentConnectors=new Map}async*consume(e){const{tabId:t,appId:n}=e;switch(e.type){case"Tab.Watched":return e.details.newPageLoad&&this.unregisterConnector(t),void(this.contentConnectors.has(t)||await this.registerConnector(n,t));case"Tab.Navigated":return e.details.hard&&this.unregisterConnector(t),void(this.contentConnectors.has(t)||await this.registerConnector(n,t));case"Tab.Unwatched":return void this.unregisterConnector(t)}}async registerConnector(e,t){const n=new Ns(t,e,this.configManager);this.contentConnectors.set(t,n),this.eventManager.register(n),await n.register(),this.logger.debug(`Registering ContentConnectorManager for tabId: ${t}, appId: ${e}`)}unregisterConnector(e){const t=this.contentConnectors.get(e);t&&(null==t||t.unregister(),this.eventManager.unregister(t),this.contentConnectors.delete(e),this.logger.debug(`Deleting ContentConnectorManager for tabId: ${e}`))}};Ds=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"ContentTabManagerLogger",useFactory:()=>(0,a.j)("ContentTabManager")}]),As(0,oe(mo)),As(1,oe(ko)),As(2,oe("ContentTabManagerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[mo,ko,Object])],Ds);const Ls=Ds;var Us,Ms,js,Fs;!function(e){const t="Current navigation URL",n="Network interface",r="Page load time",o="Date",i="Perceived experience level",s="Backend time",a="Network time",c="Client time",l="(technical preview)";let u,d,p,f;!function(e){e.APP_NAME={id:"451eec20-a10f-4f45-8ebf-68bcce6717f0",label:"Application",format:e=>null!=e?e:js.NOT_FOUND},e.KEY_PAGE_NAME={id:"5b6602e1-30e4-4928-802a-fef72310fda4",label:"Key page",format:e=>null!=e?e:js.NOT_FOUND}}(u=e.General||(e.General={})),function(e){e.URL={id:"43989784-c9a8-4e8c-8ab5-a3a5df7269b7",label:t},e.PAGE_LOAD_TIME={id:"99cc1a5c-a072-4d41-b901-a34fc1c278b8",label:r,format:e=>ei(new Date(1e3*e))},e.DATE={id:"f75d3df8-cadc-4224-9728-b74f47a2d1c3",label:o,format:e=>Zo(new Date(e))},e.PERCEIVED_EXPERIENCE_LEVEL={id:"e61d3d7c-ad6b-47cb-868b-2316ac0d947b",label:i,format:ti},e.NETWORK_INTERFACE={id:"9f845b97-a089-487a-83e3-7d1a82a9b386",label:n}}(d=e.HardNavigation||(e.HardNavigation={})),function(e){e.URL={id:"4ac13aa7-5b52-43fe-8165-52b3e2d98d11",label:t},e.STABLE_DOM_TIME={id:"ddba3d23-5b85-463c-bac5-05ae730ad763",label:r,format:e=>ei(new Date(1e3*e))},e.BACKEND_DURATION_SECONDS={id:"41801fcc-6391-43fc-a13c-19f6ddebee4a",label:s,format:e=>ei(new Date(1e3*e))},e.CLIENT_DURATION_SECONDS={id:"0f0cd210-2ee5-4ae4-9f8c-2445d4a215b1",label:c,format:e=>ei(new Date(1e3*e))},e.NETWORK_DURATION_SECONDS={id:"db91691e-1d13-4697-ae02-ebf2659e8643",label:a,format:e=>ei(new Date(1e3*e))},e.DATE={id:"4efd9b96-906b-4f08-829d-d4bcbf3ab62b",label:r,format:e=>Zo(new Date(e))},e.PERCEIVED_EXPERIENCE_LEVEL={id:"0a12c092-1783-4d0c-bb69-2b21fe57ef6b",label:i,format:ti},e.NETWORK_INTERFACE={id:"03f82494-528b-4732-8af2-7b3c8002ca52",label:n}}(p=e.SoftNavigation||(e.SoftNavigation={})),function(e){e.URL={id:"1d110664-db71-48b4-875e-31ec338445b2",label:t},e.NAME={id:"f8e8a289-317e-41cf-a2ce-0aa9db60ab9d",label:"Name"},e.AUTO_END_DETECTED={id:"708e4349-f3d7-4041-96fa-a37abb1c234a",label:"Transaction auto end detected (technical preview)"},e.DURATION_SECONDS={id:"d99c86fb-f789-4649-ab71-894d0efe2dfa",label:"Transaction duration time",format:e=>ei(new Date(1e3*e))},e.BACKEND_DURATION_SECONDS={id:"4f7b30ff-fe06-4eb3-8209-04f9b1eb7ca0",label:`${s} ${l}`,format:e=>ei(new Date(1e3*e))},e.CLIENT_DURATION_SECONDS={id:"e28f8901-0025-4952-98c1-75660abd5379",label:`${c} ${l}`,format:e=>ei(new Date(1e3*e))},e.NETWORK_DURATION_SECONDS={id:"8f7b6a30-e501-4f8d-8a84-fb142cbd6868",label:`${a} ${l}`,format:e=>ei(new Date(1e3*e))},e.STATUS={id:"618ce48f-94af-404e-9ada-cffa80ed69c9",label:"Status",format:ni},e.DATE={id:"a84a6e3e-3808-4a39-a8e1-03a002993f35",label:o,format:e=>Zo(new Date(e))},e.PERCEIVED_EXPERIENCE_LEVEL={id:"f6aa8894-480f-42dc-b083-ed75591edb66",label:i,format:ti},e.NETWORK_INTERFACE={id:"829df4a0-b8f7-467a-ba21-c8023b7d5941",label:n}}(f=e.Transaction||(e.Transaction={}))}(Us||(Us={})),function(e){e.GENERAL="General",e.HARD_NAVIGATION="Hard Navigation",e.SOFT_NAVIGATION="Soft Navigation (technical preview)",e.READINESS_TIMING="Timings",e.TRANSACTION="Transaction"}(Ms||(Ms={})),function(e){e.NA="N/A",e.NOT_FOUND="Not found"}(js||(js={})),function(e){e.SendFeedback="SendFeedback",e.GetConfig="GetConfig",e.GetMetrics="GetMetrics",e.OpenDebugPopupWindow="OpenDebugPopupWindow",e.AcceptEula="AcceptEula",e.RemoveExtension="RemoveExtension",e.SendLogLevel="SendLogLevel",e.RetrieveLogLevel="RetrieveLogLevel"}(Fs||(Fs={}));var Bs=function(e,t){return function(n,r){t(n,r,e)}};class Vs extends Ir{constructor(e=!0){super(),this.accepted=e,this.timeToLiveInMilliseconds=wr}serialize(){return JSON.stringify(Mr(this))}deserialize(e){return jr(Vs,JSON.parse(e))}}let qs=class{constructor(e,t){this.extension=e,this.logger=t,this.data=new kr(vr.EulaCheckerData.Data,new Vs,xr.Lifetime)}shouldDisplayEula(){return this.extension.info.browserFamily===ce.Y.Firefox&&!this.data.get().accepted}async acceptEula(){this.data.get().accepted=!0,await this.data.set(this.data.get()),this.logger.info("EULA accepted")}async forceEula(){this.logger.info("Forcing EULA"),this.data.get().accepted=!1,await this.data.set(this.data.get())}};var Ys;qs=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"EulaCheckerLogger",useFactory:()=>(0,a.j)("EulaChecker")}]),Bs(0,oe(Si)),Bs(1,oe("EulaCheckerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Si,Object])],qs),function(e){e[e.Disconnected=0]="Disconnected",e[e.Monitored=1]="Monitored",e[e.Inactive=2]="Inactive",e[e.Pending=3]="Pending",e[e.Eula=4]="Eula"}(Ys||(Ys={}));const Ws=(0,a.j)("PopupManager");var Gs;!function(e){e.active="active",e.inactive="inactive"}(Gs||(Gs={}));const Js=(e,t)=>(0,ce.q)().action.setIcon({tabId:e,path:{16:`assets/images/icon-${t}-16.png`,24:`assets/images/icon-${t}-24.png`,32:`assets/images/icon-${t}-32.png`,48:`assets/images/icon-${t}-48.png`}}),Hs=async(e,t,n)=>{try{if(await zs(t))return void Ws.warn("Failed to update popup. Tab is closed");const r=await(async(e,t,n)=>await ne.resolve(qs).shouldDisplayEula()?(Ws.info("Displaying EULA popup"),Ys.Eula):e.isConnected()?t&&e.isUrlHandled(t)?e.isTabMonitored(n)?Ys.Monitored:Ys.Pending:Ys.Inactive:(Ws.info("Extension is not connected"),Ys.Disconnected))(e,n,t),o=(e=>{switch(e){case Ys.Pending:case Ys.Monitored:return"popup/monitored-popup.html";case Ys.Disconnected:return"popup/disconnected-popup.html";case Ys.Inactive:return"popup/inactive-popup.html";case Ys.Eula:return"popup/eula-popup.html";default:throw new Error(`Unexpected status ${e}`)}})(r);let i=Gs.inactive;r!==Ys.Pending&&r!==Ys.Monitored||(i=Gs.active),await Promise.all([Js(t,i),(0,ce.q)().action.setTitle({tabId:t,title:""}),(0,ce.q)().action.setPopup({tabId:t,popup:o})])}catch(e){Ws.warn("Failed to update popup",e)}},zs=async e=>{const t=await ne.resolve(zo).get(e);return!t||t.discarded||"unloaded"===t.status},$s=async(e,t,n)=>{const r={active:!0};t&&(r.windowId=t);const o=await ne.resolve(zo).getAll(r);if(o&&o.length>0){const t=n?o.find((e=>e.id===n)):o[0];if(void 0===(null==t?void 0:t.id))return;await Hs(e,t.id,t.url)}},Ks=async e=>{const t=await ne.resolve(zo).getAll();await Promise.all(t.map((t=>t.id?Hs(e,t.id,t.url):Promise.resolve())))};var Xs=function(e,t){return function(n,r){t(n,r,e)}};let Qs=class{constructor(e,t,n,r){this.extension=e,this.configManager=t,this.browserTab=n,this.logger=r,this.isStarted=!1,this.onPopupMessage=async(e,t)=>{var n;if((null===(n=t.tab)||void 0===n?void 0:n.id)||t.id!==this.extension.info.id||!Fs[e.command])return Promise.resolve();switch(e.command){case Fs.GetConfig:const e=this.configManager.getLatestConfig();if(!e)return Promise.resolve();const t={extensionConfig:{appNames:e.appNames,config:e.protoConfig}};return Promise.resolve(t);case Fs.OpenDebugPopupWindow:const n=(0,ce.q)().runtime.getURL("popup/detached-monitored-popup.html");(await this.browserTab.getAll({url:n})).length>0||await this.openPopup(n);break;case Fs.AcceptEula:await ne.resolve(qs).acceptEula(),await Ks(ne.resolve("NexthinkExtension"));break;case Fs.RemoveExtension:await(0,ce.q)().management.uninstallSelf()}},this.onPopupConnection=e=>{var t;(null===(t=e.sender)||void 0===t?void 0:t.id)===this.extension.info.id&&"popup"===e.name&&(this.connectedPort=e,e.onMessage.addListener(this.onConnectedPopupMessage),e.onDisconnect.addListener(this.onPopupPortDisconnect))},this.onPopupPortDisconnect=e=>{e.onMessage.removeListener(this.onConnectedPopupMessage),e.onDisconnect.removeListener(this.onPopupPortDisconnect),delete this.connectedPort},this.onConnectedPopupMessage=e=>{var t;return null===(t=this.onMessage)||void 0===t?void 0:t.call(this,e)}}isConnected(){return!!this.connectedPort}start(){this.isStarted||(this.isStarted=!0,(0,ce.q)().runtime.onMessage.addListener(this.onPopupMessage),(0,ce.q)().runtime.onConnect.addListener(this.onPopupConnection))}stop(){this.isStarted&&(this.isStarted=!1,(0,ce.q)().runtime.onConnect.removeListener(this.onPopupConnection),(0,ce.q)().runtime.onMessage.removeListener(this.onPopupMessage))}send(e){var t;null===(t=this.connectedPort)||void 0===t||t.postMessage(e)}async openPopup(e,t="Nexthink_Metric_Window",n=450,r=670){const o=await(0,ce.q)().windows.create({url:e,type:"popup",width:n,height:r});return o.title=t,o}};Qs=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"PopupCommunicatorLogger",useFactory:()=>(0,a.j)("PopupCommunicator")}]),Xs(0,oe(Si)),Xs(1,oe(ko)),Xs(2,oe(zo)),Xs(3,oe("PopupCommunicatorLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Si,ko,zo,Object])],Qs);const Zs=Qs;var ea=function(e,t){return function(n,r){t(n,r,e)}};let ta=class{constructor(e,t,n,r,o){this.configManager=e,this.keyPageSourcer=t,this.perceivedExperience=n,this.popupCommunicator=r,this.logger=o,this.subscriptions=[{priority:hr.StandardSync,type:["NavigationDuration.SoftNavigation","NavigationDuration.WebNavigation",gr.Transaction.COMPLETED]},{type:["Time.Tick"]}],this.popupCommunicator.start()}async*consume(e){if(this.popupCommunicator.isConnected())switch(e.type){case"NavigationDuration.SoftNavigation":this.sendSoftNavigationMetrics(e);break;case"NavigationDuration.WebNavigation":this.sendWebNavigationMetrics(e);break;case gr.Transaction.COMPLETED:this.sendTransactionMetrics(e)}}sendTransactionMetrics(e){var t,n,r,o,i,s,a,c;const l=this.getGeneralMetrics(e.appId,null!==(n=this.keyPageSourcer.getKeyPage(e.appId,null!==(t=e.details.url)&&void 0!==t?t:""))&&void 0!==n?n:"");this.popupCommunicator.send({extensionDataMessage:{metrics:[...l,{id:Us.Transaction.NAME.id,value:e.details.name},{id:Us.Transaction.URL.id,value:e.details.url},{id:Us.Transaction.AUTO_END_DETECTED.id,value:e.details.isAutoTransaction},{id:Us.Transaction.DATE.id,value:e.timestamp},{id:Us.Transaction.DURATION_SECONDS.id,value:e.details.durationSeconds},{id:Us.Transaction.BACKEND_DURATION_SECONDS.id,value:(null===(r=e.details.readinessTiming)||void 0===r?void 0:r.backendDurationSeconds)?null===(o=e.details.readinessTiming)||void 0===o?void 0:o.backendDurationSeconds:void 0},{id:Us.Transaction.CLIENT_DURATION_SECONDS.id,value:(null===(i=e.details.readinessTiming)||void 0===i?void 0:i.clientDurationSeconds)?null===(s=e.details.readinessTiming)||void 0===s?void 0:s.clientDurationSeconds:void 0},{id:Us.Transaction.NETWORK_DURATION_SECONDS.id,value:(null===(a=e.details.readinessTiming)||void 0===a?void 0:a.networkDurationSeconds)?null===(c=e.details.readinessTiming)||void 0===c?void 0:c.networkDurationSeconds:void 0},{id:Us.Transaction.STATUS.id,value:e.details.status},{id:Us.Transaction.PERCEIVED_EXPERIENCE_LEVEL.id,value:e.details.perceivedExperienceLevel}]}})}sendWebNavigationMetrics(e){var t,n;const r=this.getGeneralMetrics(e.appId,null!==(n=this.keyPageSourcer.getKeyPage(e.appId,null!==(t=e.details.url)&&void 0!==t?t:""))&&void 0!==n?n:"");this.popupCommunicator.send({extensionDataMessage:{metrics:[...r,{id:Us.HardNavigation.PAGE_LOAD_TIME.id,value:e.details.rawTiming.duration/1e3},{id:Us.HardNavigation.URL.id,value:e.details.url},{id:Us.HardNavigation.DATE.id,value:e.timestamp},{id:Us.HardNavigation.PERCEIVED_EXPERIENCE_LEVEL.id,value:this.perceivedExperience.computePerceivedExperiencePageLoadTime(e.appId,e.details.rawTiming.duration/1e3)}]}})}sendSoftNavigationMetrics(e){var t,n;const r=this.getGeneralMetrics(e.appId,null!==(n=this.keyPageSourcer.getKeyPage(e.appId,null!==(t=e.details.url)&&void 0!==t?t:""))&&void 0!==n?n:"");this.popupCommunicator.send({extensionDataMessage:{metrics:[...r,{id:Us.SoftNavigation.URL.id,value:e.details.url},{id:Us.SoftNavigation.DATE.id,value:e.timestamp},{id:Us.SoftNavigation.STABLE_DOM_TIME.id,value:e.details.readinessTiming.stableDomSeconds},{id:Us.SoftNavigation.BACKEND_DURATION_SECONDS.id,value:e.details.readinessTiming.backendDurationSeconds},{id:Us.SoftNavigation.CLIENT_DURATION_SECONDS.id,value:e.details.readinessTiming.clientDurationSeconds},{id:Us.SoftNavigation.NETWORK_DURATION_SECONDS.id,value:e.details.readinessTiming.networkDurationSeconds},{id:Us.SoftNavigation.PERCEIVED_EXPERIENCE_LEVEL.id,value:this.perceivedExperience.computePerceivedExperiencePageLoadTime(e.appId,e.details.readinessTiming.stableDomSeconds)}]}})}getGeneralMetrics(e,t){var n,r;const o=null===(n=this.configManager.getLatestConfig())||void 0===n?void 0:n.lookupAppName(e),i=null===(r=this.configManager.getLatestConfig())||void 0===r?void 0:r.lookupKeyPageName(e,t),s=[];return s.push({id:Us.General.APP_NAME.id,value:o}),s.push({id:Us.General.KEY_PAGE_NAME.id,value:i}),s}};ta=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"MetricsForwarderLogger",useFactory:()=>(0,a.j)("MetricsForwarder")}]),ea(0,oe(ko)),ea(1,oe(ns)),ea(2,oe(Bo)),ea(3,oe(Zs)),ea(4,oe("MetricsForwarderLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[ko,ns,Bo,Zs,Object])],ta);const na=ta;var ra=__webpack_require__(8012),oa=function(e,t){return function(n,r){t(n,r,e)}};let ia=class{constructor(e,t){this.popupCommunicator=e,this.logger=t,this.onPopupMessage=e=>{var t,n,r,o;const i=ws.P.getSinkManager();if(e.command===Fs.RetrieveLogLevel)this.popupCommunicator.send({extensionLogLevel:null!==(n=null===(t=i.getSink(Is.h.Console))||void 0===t?void 0:t.logLevel)&&void 0!==n?n:Vo.in.NONE});else if(e.command===Fs.SendLogLevel){const t=null!==(o=null===(r=e.data)||void 0===r?void 0:r.logLevel)&&void 0!==o?o:Vo.in.NONE;let n=i.getSink(Is.h.Console);n||(n=new ra.v(t),i.addSink(Is.h.Console,n)),n.logLevel=t,this.logger.warn("Logging level was set to",t.name)}},this.popupCommunicator.start(),this.popupCommunicator.onMessage=this.onPopupMessage}};ia=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ie(),se([{token:"PopupMessageHandlerLogger",useFactory:()=>(0,a.j)("PopupMessageHandler")}]),oa(0,oe(Zs)),oa(1,oe("PopupMessageHandlerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Zs,Object])],ia);const sa=ia;var aa=function(e,t){return function(n,r){t(n,r,e)}};let ca=class{constructor(e,t,n,r,o,i){this.eventManager=e,this.configManager=t,this.frameHandler=n,this.browserTab=r,this.browser=o,this.logger=i,this.initialized=!1,this.handleWebNavDOMContentLoaded=async e=>{var t,n,r,o,i;if(0===e.frameId)return;const s=await this.browserTab.get(e.tabId);if(!s)return;if(!this.frameHandler.hasTabCorrectlyBeenLoaded(s))return;const a=null===(t=this.configManager.getLatestConfig())||void 0===t?void 0:t.getAppIdFromUrl(null!==(n=null==s?void 0:s.url)&&void 0!==n?n:"");if(!a)return;const l=await this.frameHandler.getAllFrames(e.tabId),u=null==l?void 0:l.find((t=>t.frameId===e.frameId)),d=null!==(o=null===(r=this.configManager.getLatestConfig())||void 0===r?void 0:r.lookupMaxFrameDepth(a))&&void 0!==o?o:1;this.frameHandler.isFrameValid(u,l,d)&&this.eventManager.broadcast({type:"Frame.Loaded",timestamp:c.X.now(),tabId:e.tabId,appId:a,details:{mainUrl:null!==(i=null==s?void 0:s.url)&&void 0!==i?i:"",frameId:e.frameId}})}}start(){this.initialized||(this.logger.info("Starting frame watcher"),this.browser.webNavigation.onDOMContentLoaded.addListener(this.handleWebNavDOMContentLoaded),this.initialized=!0)}stop(){this.initialized&&(this.logger.info("Stopping frame watcher"),this.browser.webNavigation.onDOMContentLoaded.removeListener(this.handleWebNavDOMContentLoaded),this.initialized=!1)}};ca=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"FrameWatcherLogger",useFactory:()=>(0,a.j)("FrameWatcher")}]),aa(0,oe(mo)),aa(1,oe(ko)),aa(2,oe(Ps)),aa(3,oe(zo)),aa(4,oe("Browser")),aa(5,oe("FrameWatcherLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[mo,ko,Ps,zo,Object,Object])],ca);const la=ca;let ua=class{constructor(e){this.logger=e,this.subscriptions=[{type:[gr.BsmMessage.Inbound.CONNECTION_STATUS]}],this.latestConnectionStatus=new Map,this.onConnectionStatusUpdateEvent=new s.FK}async*consume(e){if(e.type===gr.BsmMessage.Inbound.CONNECTION_STATUS){if(this.latestConnectionStatus.set(e.details.component,{connected:e.details.connected,reason:e.details.reason}),this.lastDispatchedConnectionStatus===this.isCollectorConnected())return void this.logger.debug("Connection status did not change, not dispatching event",{lastStatus:this.lastDispatchedConnectionStatus,newStatus:e.details});this.logger.debug("Dispatching connection status update",{lastStatus:this.lastDispatchedConnectionStatus,newStatus:this.isCollectorConnected()}),this.lastDispatchedConnectionStatus=this.isCollectorConnected(),this.onConnectionStatusUpdateEvent.dispatch(this.isCollectorConnected())}}isCollectorConnected(){return this.isNxtHostAppConnected()&&this.isNxtBsmConnected()&&this.isNxtCoordinatorConnected()}isNxtHostAppConnected(){var e,t;return null!==(t=null===(e=this.latestConnectionStatus.get(I))||void 0===e?void 0:e.connected)&&void 0!==t&&t}isNxtBsmConnected(){var e,t;return null===(t=null===(e=this.latestConnectionStatus.get(k))||void 0===e?void 0:e.connected)||void 0===t||t}isNxtCoordinatorConnected(){var e,t;return null===(t=null===(e=this.latestConnectionStatus.get(R))||void 0===e?void 0:e.connected)||void 0===t||t}onConnectionStatusUpdate(){return this.onConnectionStatusUpdateEvent.asEvent()}};ua=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"ExtensionConnectionStatusManagerLogger",useFactory:()=>(0,a.j)("ExtensionConnectionStatusManager")}]),ae(),function(e,t){return function(n,r){t(n,r,e)}}(0,oe("ExtensionConnectionStatusManagerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],ua);var da=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},pa=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fa=function(e,t){return function(n,r){t(n,r,e)}};class ga{constructor(e=0,t=!1){this.timeInMs=e,this.reported=t}}class ha extends Ir{constructor(){super(),this.disconnectedComponents=new Set,this.timeToLiveInMilliseconds=wr,this.disconnectAlertThresholds=new Map([[I,[{timeInMs:18e4,reported:!1},{timeInMs:9e5,reported:!1}]],[k,[{timeInMs:18e4,reported:!1},{timeInMs:9e5,reported:!1}]],[R,[{timeInMs:18e4,reported:!1},{timeInMs:9e5,reported:!1}]]])}serialize(){return JSON.stringify(Mr(this))}deserialize(e){return jr(ha,JSON.parse(e))}}da([Cr((()=>String)),pa("design:type",Set)],ha.prototype,"disconnectedComponents",void 0),da([Cr((()=>ga)),pa("design:type",Map)],ha.prototype,"disconnectAlertThresholds",void 0);let va=class{constructor(e,t,n){this.extensionConnectionStatusManager=e,this.browser=t,this.logger=n,this.subscriptions=[{type:["Time.Tick","Time.Sleep",gr.BsmMessage.Inbound.CONNECTION_STATUS]}],this.data=new kr(vr.ExtensionStatusReporter.Data,new ha),this.isUpdateAvailable=!1,this.browser.runtime.onUpdateAvailable.addListener((e=>{this.onUpdateAvailable(e.version)}))}async*consume(e){switch(e.type){case"Time.Tick":if(this.extensionConnectionStatusManager.isCollectorConnected())break;this.data.get().disconnectedComponents.forEach((t=>{this.reportDisconnection(e.timestamp,t)})),await this.data.set(this.data.get());break;case gr.BsmMessage.Inbound.CONNECTION_STATUS:if(e.details.connected){await this.markComponentAsConnected(e.details.component);break}if(this.data.get().disconnectedComponents.has(e.details.component))break;if(await this.markComponentAsDisconnected(e.details.component,e.timestamp,e.details.reason),!this.shouldExtensionBeReloaded(e))return;this.logger.info("Reloading the extension"),this.browser.runtime.reload();break;case"Time.Sleep":this.logger.debug(`Device went to sleep for ${e.details.duration}, resetting disconnection timestamps.`),delete this.lastDisconnectionTimestamp,this.data.get().disconnectedComponents.clear(),await this.data.set(this.data.get())}}reportDisconnection(e,t){var n;null===(n=this.data.get().disconnectAlertThresholds.get(t))||void 0===n||n.forEach((n=>{!n.reported&&this.hasBeenDisconnectedForMoreThan(e,n)&&(this.logger.error(`${t} connection not established for more than ${n.timeInMs/1e3}s`),n.reported=!0)}))}shouldExtensionBeReloaded(e){return e.details.component===I&&this.isUpdateAvailable}async markComponentAsDisconnected(e,t,n){this.lastDisconnectionTimestamp||(this.lastDisconnectionTimestamp=t),this.logger.error(`Disconnection from ${e}`,n),this.data.get().disconnectedComponents.has(e)||this.data.get().disconnectedComponents.add(e),await this.data.set(this.data.get())}async markComponentAsConnected(e){var t;this.logger.info(`Connection to ${e} established`),delete this.lastDisconnectionTimestamp;const n=this.data.get();n.disconnectedComponents.delete(e),null===(t=n.disconnectAlertThresholds.get(e))||void 0===t||t.forEach((e=>{e.reported=!1})),await this.data.set(this.data.get())}onUpdateAvailable(e){this.logger.info(`Version update ${e} available`);const t=this.browser.runtime.getManifest().version;t.localeCompare(e,void 0,{numeric:!0})>0?this.logger.error("Current version is greater or equal than the update version",{version:e,currentVersion:t}):(this.isUpdateAvailable=!0,this.extensionConnectionStatusManager.isNxtHostAppConnected()||(this.logger.info("Reloading the extension"),this.browser.runtime.reload()))}hasBeenDisconnectedForMoreThan(e,t){return this.lastDisconnectionTimestamp&&e-this.lastDisconnectionTimestamp>t.timeInMs}};va=da([ae(),se([{token:"ExtensionStatusReporterLogger",useFactory:()=>(0,a.j)("ExtensionStatusReporter")}]),fa(0,oe(ua)),fa(1,oe("Browser")),fa(2,oe("ExtensionStatusReporterLogger")),pa("design:paramtypes",[ua,Object,Object])],va);var ma=function(e,t){return function(n,r){t(n,r,e)}};let ba=class{constructor(e,t){this.eventManager=e,this.logger=t,this.subscriptions=[{type:["Time.Tick"]}],this.handleWindowFocusChanged=async e=>{e!==(0,ce.q)().windows.WINDOW_ID_NONE?await this.broadcastCurrentWindowState():this.onBlur()},(0,ce.q)().windows.onFocusChanged.addListener(this.handleWindowFocusChanged)}async*consume(e){"Time.Tick"===e.type&&await this.broadcastCurrentWindowState()}async broadcastCurrentWindowState(){var e;const t=await(null===(e=(0,ce.q)().idle)||void 0===e?void 0:e.queryState(30)),n=await this.getFocusedTab();n&&"locked"!==t?this.onFocus(n):this.onBlur()}async getFocusedTab(){var e;try{const t=await(0,ce.q)().windows.getLastFocused({populate:!0});return t.focused?null===(e=t.tabs)||void 0===e?void 0:e.find((e=>e.active)):void 0}catch(e){return void this.logger.warn("Error retrieving last focused window",e)}}onFocus(e){this.eventManager.broadcast({type:"Window.Focus",timestamp:c.X.now(),tabId:e.id,details:{url:e.url}})}onBlur(){this.eventManager.broadcast({type:"Window.Blur",timestamp:c.X.now()})}};ba=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"FocusManagerLogger",useFactory:()=>(0,a.j)("FocusManager")}]),ma(0,oe(mo)),ma(1,oe("FocusManagerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[mo,Object])],ba);var ya=function(e,t){return function(n,r){t(n,r,e)}};let Ea=class{constructor(e,t,n){this.eventManager=e,this.browser=t,this.logger=n,this.initialized=!1,this.handleIdleStateChanged=e=>{switch(e){case"active":case"idle":break;case"locked":this.eventManager.broadcast({type:"Idle.Locked",timestamp:c.X.now()})}}}start(){var e;this.initialized||(null===(e=this.browser.idle)||void 0===e||e.onStateChanged.addListener(this.handleIdleStateChanged),this.initialized=!0)}stop(){var e;this.initialized&&(null===(e=this.browser.idle)||void 0===e||e.onStateChanged.removeListener(this.handleIdleStateChanged),this.initialized=!1)}};Ea=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"IdleWatcherLogger",useFactory:()=>(0,a.j)("IdleWatcher")}]),ya(0,oe(mo)),ya(1,oe("Browser")),ya(2,oe("IdleWatcherLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[mo,Object,Object])],Ea);const Sa=Ea;var Ta=function(e,t){return function(n,r){t(n,r,e)}};let _a=class{constructor(e,t,n,r,o){this.webRequestFilter=e,this.eventManager=t,this.configManager=n,this.browser=r,this.logger=o,this.initialized=!1,this.handleWebRequest=(e,t)=>{var n,r;const o=null!==(r=null===(n=this.configManager.getLatestConfig())||void 0===n?void 0:n.getAppIdFromUrl(e.url))&&void 0!==r?r:"";t!==gr.WebRequest.COMPLETED&&t!==gr.WebRequest.ERROR_OCCURRED||"main_frame"!==e.type||this.eventManager.broadcast({type:"Tab.MainWebRequest",timestamp:c.X.now(),appId:o,tabId:e.tabId,details:{url:e.url}}),this.eventManager.broadcast({type:t,timestamp:c.X.now(),appId:o,tabId:e.tabId,details:e})},this.handleWebRequestBefore=e=>{this.handleWebRequest(e,gr.WebRequest.BEFORE_REQUEST)},this.handleWebRequestSendHeaders=e=>{this.handleWebRequest(e,gr.WebRequest.SEND_HEADERS)},this.handleWebHeadersReceived=e=>{this.handleWebRequest(e,gr.WebRequest.HEADERS_RECEIVED)},this.handleWebRequestCompleted=e=>{this.handleWebRequest(e,gr.WebRequest.COMPLETED)},this.handleWebRequestError=e=>{this.handleWebRequest(e,gr.WebRequest.ERROR_OCCURRED)}}start(){if(this.initialized)return;this.logger.info("Starting web request watcher");const{webRequest:e}=this.browser;e.onBeforeRequest.addListener(this.handleWebRequestBefore,this.webRequestFilter),e.onSendHeaders.addListener(this.handleWebRequestSendHeaders,this.webRequestFilter,["requestHeaders"]),e.onHeadersReceived.addListener(this.handleWebHeadersReceived,this.webRequestFilter,["responseHeaders"]),e.onCompleted.addListener(this.handleWebRequestCompleted,this.webRequestFilter),e.onErrorOccurred.addListener(this.handleWebRequestError,this.webRequestFilter),this.initialized=!0}stop(){if(!this.initialized)return;this.logger.info("Stopping web request watcher");const{webRequest:e}=this.browser;e.onBeforeRequest.removeListener(this.handleWebRequestBefore),e.onSendHeaders.removeListener(this.handleWebRequestSendHeaders),e.onCompleted.removeListener(this.handleWebRequestCompleted),e.onErrorOccurred.removeListener(this.handleWebRequestError),this.initialized=!1}inspect(){return{name:"WebRequestWatcher"}}};_a=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"WebRequestWatcherLogger",useFactory:()=>(0,a.j)("WebRequestWatcher")},{token:"WebRequestFilter",useFactory:()=>({urls:["http://*/*","https://*/*"]})}]),Ta(0,oe("WebRequestFilter")),Ta(1,oe(mo)),Ta(2,oe(ko)),Ta(3,oe("Browser")),Ta(4,oe("WebRequestWatcherLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,mo,ko,Object,Object])],_a);const xa=_a;let Oa=class extends Eo{constructor(){super(...arguments),this.subscriptions=[{priority:hr.StandardSync,type:[gr.BsmMessage.Inbound.HELLO]}]}async*consume(e){e.type===gr.BsmMessage.Inbound.HELLO&&(this.latestSession={sessionId:e.details.sessionId,collectorVersion:e.details.collectorVersion,deviceId:e.details.deviceId,userId:e.details.userId},this.notifyUpdate())}getLatestSession(){return this.latestSession}isDataAvailable(){return void 0!==this.getLatestSession()}};Oa=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae()],Oa);const wa=Object.prototype.toString;function Ia(e){switch(wa.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ua(e,Error)}}function ka(e,t){return wa.call(e)===`[object ${t}]`}function Ra(e){return ka(e,"ErrorEvent")}function Pa(e){return ka(e,"DOMError")}function Ca(e){return ka(e,"String")}function Na(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function Aa(e){return ka(e,"Object")}function Da(e){return"undefined"!=typeof Event&&Ua(e,Event)}function La(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function Ua(e,t){try{return e instanceof t}catch(e){return!1}}var Ma=__webpack_require__(1559);const ja=(0,Ma.Rf)(),Fa=80;function Ba(e,t={}){try{let n=e;const r=5,o=[];let i=0,s=0;const a=" > ",c=a.length;let l;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Fa;for(;n&&i++<r&&(l=Va(n,u),!("html"===l||i>1&&s+o.length*c+l.length>=d));)o.push(l),s+=l.length,n=n.parentNode;return o.reverse().join(a)}catch(e){return"<unknown>"}}function Va(e,t){const n=e,r=[];let o,i,s,a,c;if(!n||!n.tagName)return"";r.push(n.tagName.toLowerCase());const l=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(l&&l.length)l.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&Ca(o))for(i=o.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const u=["aria-label","type","name","title","alt"];for(c=0;c<u.length;c++)s=u[c],a=n.getAttribute(s),a&&r.push(`[${s}="${a}"]`);return r.join("")}function qa(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function Ya(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function Wa(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!Ca(e)&&(ka(t,"RegExp")?t.test(e):!!Ca(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}function Ga(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);if("function"==typeof o)try{Ha(o,r)}catch(e){}e[t]=o}function Ja(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function Ha(e,t){const n=t.prototype||{};e.prototype=t.prototype=n,Ja(e,"__sentry_original__",t)}function za(e){return e.__sentry_original__}function $a(e){if(Ia(e))return{message:e.message,name:e.name,stack:e.stack,...Xa(e)};if(Da(e)){const t={type:e.type,target:Ka(e.target),currentTarget:Ka(e.currentTarget),...Xa(e)};return"undefined"!=typeof CustomEvent&&Ua(e,CustomEvent)&&(t.detail=e.detail),t}return e}function Ka(e){try{return"undefined"!=typeof Element&&Ua(e,Element)?Ba(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function Xa(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function Qa(e,t=40){const n=Object.keys($a(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return qa(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:qa(r,t)}return""}function Za(e){return ec(e,new Map)}function ec(e,t){if(Aa(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=ec(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(ec(e,t))})),r}return e}function tc(){const e=Ma.n2,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const n=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function nc(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function rc(e){const{message:t,event_id:n}=e;if(t)return t;const r=nc(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function oc(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=n||"Error")}function ic(e,t){const n=nc(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function sc(e){if(e&&e.__sentry_captured__)return!0;try{Ja(e,"__sentry_captured__",!0)}catch(e){}return!1}function ac(e){return Array.isArray(e)?e:[e]}var cc=__webpack_require__(261);const lc=["debug","info","warn","error","log","assert","trace"];function uc(e){if(!("console"in Ma.n2))return e();const t=Ma.n2.console,n={};lc.forEach((e=>{const r=t[e]&&t[e].__sentry_original__;e in t&&r&&(n[e]=t[e],t[e]=r)}));try{return e()}finally{Object.keys(n).forEach((e=>{t[e]=n[e]}))}}function dc(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?lc.forEach((n=>{t[n]=(...t)=>{e&&uc((()=>{Ma.n2.console[n](`Sentry Logger [${n}]:`,...t)}))}})):lc.forEach((e=>{t[e]=()=>{}})),t}let pc;pc="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,Ma.YO)("logger",dc):dc();const fc="production";var gc;function hc(e){return new mc((t=>{t(e)}))}function vc(e){return new mc(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(gc||(gc={}));class mc{__init(){this._state=gc.PENDING}__init2(){this._handlers=[]}constructor(e){mc.prototype.__init.call(this),mc.prototype.__init2.call(this),mc.prototype.__init3.call(this),mc.prototype.__init4.call(this),mc.prototype.__init5.call(this),mc.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new mc(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new mc(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init3(){this._resolve=e=>{this._setResult(gc.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(gc.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===gc.PENDING&&(La(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===gc.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===gc.RESOLVED&&e[1](this._value),this._state===gc.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function bc(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,cc.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:tc()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}class yc{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const t=new yc;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&bc(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof yc?t:this}return e instanceof yc?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Aa(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,cc.yW)(),...e};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction;if(t){e.sdkProcessingMetadata={dynamicSamplingContext:t.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const n=t.name;n&&(e.tags={transaction:n,...e.tags})}}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Ec(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,n,r=0){return new mc(((o,i)=>{const s=e[r];if(null===t||"function"!=typeof s)o(t);else{const a=s({...t},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&s.id&&null===a&&pc.log(`Event processor "${s.id}" dropped event`),La(a)?a.then((t=>this._notifyEventProcessors(e,t,n,r+1).then(o))).then(null,i):this._notifyEventProcessors(e,a,n,r+1).then(o).then(null,i)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?ac(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function Ec(){return(0,Ma.YO)("globalEventProcessors",(()=>[]))}function Sc(e){Ec().push(e)}const Tc=4,_c=100;class xc{constructor(e,t=new yc,n=Tc){this._version=n,this._stack=[{scope:t}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=yc.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:tc(),r=new Error("Sentry syntheticException");return this._withClient(((o,i)=>{o.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},i)})),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:tc(),o=new Error(e);return this._withClient(((i,s)=>{i.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},s)})),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:tc();return e.type||(this._lastEventId=n),this._withClient(((r,o)=>{r.captureEvent(e,{...t,event_id:n},o)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=_c}=r.getOptions&&r.getOptions()||{};if(i<=0)return;const s={timestamp:(0,cc.yW)(),...e},a=o?uc((()=>o(s,t))):s;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,i))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=wc(this);try{e(this)}finally{wc(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);return"undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__||n||console.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&function(e,t){let n={};"ok"===e.status&&(n={status:"exited"}),bc(e,n)}(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o=fc}=n&&n.getOptions()||{},{userAgent:i}=Ma.n2.navigator||{},s=function(e){const t=(0,cc.ph)(),n={sid:tc(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return Za({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&bc(n,e),n}({release:r,environment:o,user:t.getUser(),...i&&{userAgent:i},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&bc(a,{status:"exited"}),this.endSession(),t.setSession(s),s}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...t){const n=Oc().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Oc(){return Ma.n2.__SENTRY__=Ma.n2.__SENTRY__||{extensions:{},hub:void 0},Ma.n2}function wc(e){const t=Oc(),n=kc(t);return Rc(t,e),n}function Ic(){const e=Oc();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=Oc()){return t=e,!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)&&!kc(e).isOlderThan(Tc)||Rc(e,new xc),kc(e);var t}(e)}function kc(e){return(0,Ma.YO)("hub",(()=>new xc),e)}function Rc(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}function Pc(e,t){return Ic().captureException(e,{captureContext:t})}function Cc(e){Ic().withScope(e)}const Nc=Ma.n2;let Ac=0;function Dc(){return Ac>0}function Lc(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if(za(e))return e}catch(t){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const o=r.map((e=>Lc(e,t)));return e.apply(this,o)}catch(e){throw Ac++,setTimeout((()=>{Ac--})),Cc((n=>{n.addEventProcessor((e=>(t.mechanism&&(oc(e,void 0,void 0),ic(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),Pc(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}Ha(r,e),Ja(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}const Uc=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Mc{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Mc.id}constructor(e={}){this._options=e,Mc.prototype.__init.call(this)}setupOnce(e,t){const n=e=>{const n=t();if(n){const t=n.getIntegration(Mc);if(t){const r=n.getClient(),o=r?r.getOptions():{},i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...Uc],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(t._options,o);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${rc(e)}`),!0):function(e,t){return!(e.type||!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:n=""}=e.exception.values&&e.exception.values[0]||{};return[`${n}`,`${t}: ${n}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.error(`Cannot extract message for event ${rc(e)}`),[]}return[]}(e).some((e=>Wa(e,t)))}(e,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${rc(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&Wa(n,t)}(e,t.ignoreTransactions)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${rc(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const n=jc(e);return!!n&&Wa(n,t)}(e,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${rc(e)}.\nUrl: ${jc(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const n=jc(e);return!n||Wa(n,t)}(e,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${rc(e)}.\nUrl: ${jc(e)}`),!0)}(e,i)?null:e}}return e};n.id=this.name,e(n)}}function jc(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.error(`Cannot extract url for event ${rc(e)}`),null}}let Fc;Mc.__initStatic();class Bc{constructor(){Bc.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Bc.id}setupOnce(){Fc=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=za(this)||this;return Fc.apply(t,e)}}catch(e){}}}Bc.__initStatic();const Vc=[];function qc(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?ac(n(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(r),i=function(e,t){for(let t=0;t<e.length;t++)if(!0==("Debug"===e[t].name))return t;return-1}(o);if(-1!==i){const[e]=o.splice(i,1);o.push(e)}return o}function Yc(e,t){t[e.name]=e,-1===Vc.indexOf(e.name)&&(e.setupOnce(Sc,Ic),Vc.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.log(`Integration installed: ${e.name}`))}const Wc=50,Gc=/\(error: (.*)\)/;function Jc(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[],o=e.split("\n");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const i=Gc.test(n)?n.replace(Gc,"$1"):n;if(!i.match(/\S*Error: /)){for(const e of t){const t=e(i);if(t){r.push(t);break}}if(r.length>=Wc)break}}return function(e){if(!e.length)return[];const t=e.slice(0,Wc),n=t[t.length-1].function;n&&/sentryWrapped/.test(n)&&t.pop(),t.reverse();const r=t[t.length-1].function;return r&&/captureMessage|captureException/.test(r)&&t.pop(),t.map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(r)}}const Hc="<anonymous>";function zc(e){try{return e&&"function"==typeof e&&e.name||Hc}catch(e){return Hc}}const $c=(0,Ma.Rf)();function Kc(){if(!("fetch"in $c))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Xc(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}const Qc=(0,Ma.Rf)(),Zc=(0,Ma.Rf)(),el="__sentry_xhr_v2__",tl={},nl={};function rl(e,t){tl[e]=tl[e]||[],tl[e].push(t),function(e){if(!nl[e])switch(nl[e]=!0,e){case"console":"console"in Zc&&lc.forEach((function(e){e in Zc.console&&Ga(Zc.console,e,(function(t){return function(...n){ol("console",{args:n,level:e}),t&&t.apply(Zc.console,n)}}))}));break;case"dom":!function(){if(!("document"in Zc))return;const e=ol.bind(null,"dom"),t=dl(e,!0);Zc.document.addEventListener("click",t,!1),Zc.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Zc[t]&&Zc[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Ga(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=i[n]=i[n]||{refCount:0};if(!s.handler){const r=dl(e);s.handler=r,t.call(this,n,r,o)}s.refCount++}catch(e){}return t.call(this,n,r,o)}})),Ga(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},i=o[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in Zc))return;const e=XMLHttpRequest.prototype;Ga(e,"open",(function(e){return function(...t){const n=t[1],r=this[el]={method:Ca(t[0])?t[0].toUpperCase():t[0],url:t[1],request_headers:{}};Ca(n)&&"POST"===r.method&&n.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const e=this[el];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}ol("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?Ga(this,"onreadystatechange",(function(e){return function(...t){return o(),e.apply(this,t)}})):this.addEventListener("readystatechange",o),Ga(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,o=this[el];return o&&(o.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),Ga(e,"send",(function(e){return function(...t){const n=this[el];return n&&void 0!==t[0]&&(n.body=t[0]),ol("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":(function(){if(!Kc())return!1;if(Xc($c.fetch))return!0;let e=!1;const t=$c.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Xc(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e})()&&Ga(Zc,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:sl(t),method:il(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:sl(t),method:il(t,"method")?String(t.method).toUpperCase():"GET"}}(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return ol("fetch",{...o}),e.apply(Zc,t).then((e=>(ol("fetch",{...o,endTimestamp:Date.now(),response:e}),e)),(e=>{throw ol("fetch",{...o,endTimestamp:Date.now(),error:e}),e}))}}));break;case"history":!function(){if(!function(){const e=Qc.chrome,t=e&&e.app&&e.app.runtime,n="history"in Qc&&!!Qc.history.pushState&&!!Qc.history.replaceState;return!t&&n}())return;const e=Zc.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=al,t=String(n);al=t,ol("history",{from:e,to:t})}return e.apply(this,t)}}Zc.onpopstate=function(...t){const n=Zc.location.href,r=al;if(al=n,ol("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},Ga(Zc.history,"pushState",t),Ga(Zc.history,"replaceState",t)}();break;case"error":pl=Zc.onerror,Zc.onerror=function(e,t,n,r,o){return ol("error",{column:r,error:o,line:n,msg:e,url:t}),!(!pl||pl.__SENTRY_LOADER__)&&pl.apply(this,arguments)},Zc.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":fl=Zc.onunhandledrejection,Zc.onunhandledrejection=function(e){return ol("unhandledrejection",e),!(fl&&!fl.__SENTRY_LOADER__)||fl.apply(this,arguments)},Zc.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn("unknown instrumentation type:",e)}}(e)}function ol(e,t){if(e&&tl[e])for(const n of tl[e]||[])try{n(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${zc(n)}\nError:`,t)}}function il(e,t){return!!e&&"object"==typeof e&&!!e[t]}function sl(e){return"string"==typeof e?e:e?il(e,"url")?e.url:e.toString?e.toString():"":""}let al;const cl=1e3;let ll,ul;function dl(e,t=!1){return n=>{if(!n||ul===n)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n))return;const r="keypress"===n.type?"input":n.type;(void 0===ll||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(ul,n))&&(e({event:n,name:r,global:t}),ul=n),clearTimeout(ll),ll=Zc.setTimeout((()=>{ll=void 0}),cl)}}let pl=null,fl=null;class gl extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}const hl=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function vl(e,t=!1){const{host:n,path:r,pass:o,port:i,projectId:s,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${s}`}function ml(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function bl(e,t=100,n=1/0){try{return El("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function yl(e,t=3,n=102400){const r=bl(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?yl(e,t-1,n):r;var o}function El(e,t,n=1/0,r=1/0,o=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[i,s]=o;if(null===t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(a=t)||a==a))return t;var a;const c=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==__webpack_require__.g&&t===__webpack_require__.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(function(e){return Aa(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if(void 0===t)return"[undefined]";if("function"==typeof t)return`[Function: ${zc(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const l="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===l)return c.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&"function"==typeof u.toJSON)try{return El("",u.toJSON(),l-1,r,o)}catch(e){}const d=Array.isArray(t)?[]:{};let p=0;const f=$a(t);for(const e in f){if(!Object.prototype.hasOwnProperty.call(f,e))continue;if(p>=r){d[e]="[MaxProperties ~]";break}const t=f[e];d[e]=El(e,t,l-1,r,o),p++}return s(t),d}function Sl(e,t=[]){return[e,t]}function Tl(e,t){const[n,r]=e;return[n,[...r,t]]}function _l(e,t){const n=e[1];for(const e of n)if(t(e,e[0].type))return!0;return!1}function xl(e,t){return(t||new TextEncoder).encode(e)}function Ol(e,t){const[n,r]=e;let o=JSON.stringify(n);function i(e){"string"==typeof o?o="string"==typeof e?o+e:[xl(o,t),e]:o.push("string"==typeof e?xl(e,t):e)}for(const e of r){const[t,n]=e;if(i(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(bl(n))}i(e)}}return"string"==typeof o?o:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(o)}function wl(e,t){const n="string"==typeof e.data?xl(e.data,t):e.data;return[Za({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Il={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function kl(e){return Il[e]}function Rl(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}const Pl="7";function Cl(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return n={sentry_key:e.publicKey,sentry_version:Pl,...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}(e,r)}`}const Nl=new WeakMap,Al="Not capturing exception because it's already been captured.";class Dl{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(e){if(Dl.prototype.__init.call(this),Dl.prototype.__init2.call(this),Dl.prototype.__init3.call(this),Dl.prototype.__init4.call(this),Dl.prototype.__init5.call(this),this._options=e,e.dsn){this._dsn=function(e){const t="string"==typeof e?function(e){const t=hl.exec(e);if(!t)throw new gl(`Invalid Sentry Dsn: ${e}`);const[n,r,o="",i,s="",a]=t.slice(1);let c="",l=a;const u=l.split("/");if(u.length>1&&(c=u.slice(0,-1).join("/"),l=u.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return ml({host:i,pass:o,path:c,projectId:l,port:s,protocol:n,publicKey:r})}(e):ml(e);return function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:n,protocol:r}=e;if(["protocol","publicKey","host","projectId"].forEach((t=>{if(!e[t])throw new gl(`Invalid Sentry Dsn: ${t} missing`)})),!n.match(/^\d+$/))throw new gl(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!function(e){return"http"===e||"https"===e}(r))throw new gl(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(t&&isNaN(parseInt(t,10)))throw new gl(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}(e.dsn);const t=Cl(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn("No DSN provided, client will not do anything.")}captureException(e,t,n){if(sc(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.log(Al));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let o=n&&n.event_id;const i=Na(e)?this.eventFromMessage(String(e),t,n):this.eventFromException(e,n);return this._process(i.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&sc(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.log(Al));let r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((e=>{r=e}))),r}captureSession(e){this._isEnabled()?"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),bc(e,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e)))):hc(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(e){const t={};return e.forEach((e=>{e&&Yc(e,t)})),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){Yc(e,this._integrations)}sendEvent(e,t={}){if(this._dsn){let n=function(e,t,n,r){const o=Rl(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const s=function(e,t,n,r){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&{dsn:vl(r)},...o&&{trace:Za({...o})}}}(e,o,r,t);return delete e.sdkProcessingMetadata,Sl(s,[[{type:i},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=Tl(n,wl(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}}sendSession(e){if(this._dsn){const t=function(e,t,n,r){const o=Rl(n);return Sl({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&{dsn:vl(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(bc(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new mc((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,n){const r=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),function(e,t,n,r){const{normalizeDepth:o=3,normalizeMaxBreadth:i=1e3}=e,s={...t,event_id:t.event_id||n.event_id||tc(),timestamp:t.timestamp||(0,cc.yW)()},a=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:fc),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==o&&(e.dist=o),e.message&&(e.message=qa(e.message,i));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=qa(s.value,i));const a=e.request;a&&a.url&&(a.url=qa(a.url,i))}(s,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(s,a),void 0===t.type&&function(e,t){const n=Ma.n2._sentryDebugIds;if(!n)return;let r;const o=Nl.get(t);o?r=o:(r=new Map,Nl.set(t,r));const i=Object.keys(n).reduce(((e,o)=>{let i;const s=r.get(o);s?i=s:(i=t(o),r.set(o,i));for(let t=i.length-1;t>=0;t--){const r=i[t];if(r.filename){e[r.filename]=n[o];break}}return e}),{}),s=new Set;try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&s.add(e.filename)}))}))}catch(e){}e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const a=e.debug_meta.images;s.forEach((e=>{i[e]&&a.push({type:"sourcemap",code_file:e,debug_id:i[e]})}))}(s,e.stackParser);let c=r;n.captureContext&&(c=yc.clone(c).update(n.captureContext));let l=hc(s);if(c){if(c.getAttachments){const e=[...n.attachments||[],...c.getAttachments()];e.length&&(n.attachments=e)}l=c.applyToEvent(s,n)}return l.then((e=>"number"==typeof o&&o>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:bl(e.data,t,n)}})))},...e.user&&{user:bl(e.user,t,n)},...e.contexts&&{contexts:bl(e.contexts,t,n)},...e.extra&&{extra:bl(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=bl(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map((e=>(e.data&&(e.data=bl(e.data,t,n)),e)))),r}(e,o,i):e))}(r,e,t,n)}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t=e;"log"===t.logLevel?pc.log(t.message):pc.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r;if(!this._isEnabled())return vc(new gl("SDK not enabled, will not capture event.","log"));const i=Ul(e),s=Ll(e),a=e.type||"error",c=`before send for type \`${a}\``;if(s&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),vc(new gl(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l="replay_event"===a?"replay":a;return this._prepareEvent(e,t,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,e),new gl("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:o}=e;return Ll(t)&&r?r(t,n):Ul(t)&&o?o(t,n):t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(La(e))return e.then((e=>{if(!Aa(e)&&null!==e)throw new gl(n);return e}),(e=>{throw new gl(`${t} rejected with ${e}`)}));if(!Aa(e)&&null!==e)throw new gl(n);return e}(o,c)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",l,e),new gl(`${c} returned \`null\`, will not send event.`,"log");const o=n&&n.getSession();!i&&o&&this._updateSessionFromEvent(o,r);const s=r.transaction_info;if(i&&s&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...s,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof gl)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new gl(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.error("Error while sending event:",e)}));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function Ll(e){return void 0===e.type}function Ul(e){return"transaction"===e.type}const Ml="7.50.0";var jl=__webpack_require__(4993);function Fl(e,t){const n=Vl(e,t),r={type:t&&t.name,value:Yl(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Bl(e,t){return{exception:{values:[Fl(e,t)]}}}function Vl(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(ql.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const ql=/Minified React error #\d+;/i;function Yl(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Wl(e,t,n,r,o){let i;if(Ra(t)&&t.error)return Bl(e,t.error);if(Pa(t)||ka(t,"DOMException")){const o=t;if("stack"in t)i=Bl(e,t);else{const t=o.name||(Pa(o)?"DOMError":"DOMException"),s=o.message?`${t}: ${o.message}`:t;i=Gl(e,s,n,r),oc(i,s)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return Ia(t)?Bl(e,t):Aa(t)||Da(t)?(i=function(e,t,n,r){const o=Ic().getClient(),i=o&&o.getOptions().normalizeDepth,s={exception:{values:[{type:Da(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:`Non-Error ${r?"promise rejection":"exception"} captured with keys: ${Qa(t)}`}]},extra:{__serialized__:yl(t,i)}};if(n){const t=Vl(e,n);t.length&&(s.exception.values[0].stacktrace={frames:t})}return s}(e,t,n,o),ic(i,{synthetic:!0}),i):(i=Gl(e,t,n,r),oc(i,`${t}`,void 0),ic(i,{synthetic:!0}),i)}function Gl(e,t,n,r){const o={message:t};if(r&&n){const r=Vl(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]})}return o}const Jl=["fatal","error","warning","log","info","debug"];function Hl(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const zl="Breadcrumbs";class $l{static __initStatic(){this.id=zl}__init(){this.name=$l.id}constructor(e){$l.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){var e;this.options.console&&rl("console",Kl),this.options.dom&&rl("dom",(e=this.options.dom,function(t){let n,r="object"==typeof e?e.serializeAttribute:void 0,o="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;o&&o>1024&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${o} was configured. Sentry will use 1024 instead.`),o=1024),"string"==typeof r&&(r=[r]);try{const e=t.event;n=function(e){return e&&!!e.target}(e)?Ba(e.target,{keyAttrs:r,maxStringLength:o}):Ba(e,{keyAttrs:r,maxStringLength:o})}catch(e){n="<unknown>"}0!==n.length&&Ic().addBreadcrumb({category:`ui.${t.name}`,message:n},{event:t.event,name:t.name,global:t.global})})),this.options.xhr&&rl("xhr",Xl),this.options.fetch&&rl("fetch",Ql),this.options.history&&rl("history",Zl)}addSentryBreadcrumb(e){this.options.sentry&&Ic().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:rc(e)},{event:e})}}function Kl(e){for(let t=0;t<e.args.length;t++)if("ref=Ref<"===e.args[t]){e.args[t+1]="viewRef";break}const t={category:"console",data:{arguments:e.args,logger:"console"},level:(n=e.level,"warn"===n?"warning":Jl.includes(n)?n:"log"),message:Ya(e.args," ")};var n;if("assert"===e.level){if(!1!==e.args[0])return;t.message=`Assertion failed: ${Ya(e.args.slice(1)," ")||"console.assert"}`,t.data.arguments=e.args.slice(1)}Ic().addBreadcrumb(t,{input:e.args,level:e.level})}function Xl(e){const{startTimestamp:t,endTimestamp:n}=e,r=e.xhr[el];if(!t||!n||!r)return;const{method:o,url:i,status_code:s,body:a}=r,c={method:o,url:i,status_code:s},l={xhr:e.xhr,input:a,startTimestamp:t,endTimestamp:n};Ic().addBreadcrumb({category:"xhr",data:c,type:"http"},l)}function Ql(e){const{startTimestamp:t,endTimestamp:n}=e;if(n&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){const r=e.fetchData,o={data:e.error,input:e.args,startTimestamp:t,endTimestamp:n};Ic().addBreadcrumb({category:"fetch",data:r,level:"error",type:"http"},o)}else{const r={...e.fetchData,status_code:e.response&&e.response.status},o={input:e.args,response:e.response,startTimestamp:t,endTimestamp:n};Ic().addBreadcrumb({category:"fetch",data:r,type:"http"},o)}}function Zl(e){let t=e.from,n=e.to;const r=Hl(Nc.location.href);let o=Hl(t);const i=Hl(n);o.path||(o=r),r.protocol===i.protocol&&r.host===i.host&&(n=i.relative),r.protocol===o.protocol&&r.host===o.host&&(t=o.relative),Ic().addBreadcrumb({category:"navigation",data:{from:t,to:n}})}$l.__initStatic();class eu extends Dl{constructor(e){const t=Nc.SENTRY_SDK_SOURCE||(0,jl.S)();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${t}:@sentry/browser`,version:Ml}],version:Ml},super(e),e.sendClientReports&&Nc.document&&Nc.document.addEventListener("visibilitychange",(()=>{"hidden"===Nc.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,r){const o=Wl(e,t,n&&n.syntheticException||void 0,r);return ic(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),hc(o)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",r,o){const i=Gl(e,t,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),hc(i)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}sendEvent(e,t){const n=this.getIntegrationById(zl);n&&n.addSentryBreadcrumb&&n.addSentryBreadcrumb(e),super.sendEvent(e,t)}captureUserFeedback(e){if(!this._isEnabled())return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:r}){const o={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:vl(r)}},i=function(e){return[{type:"user_report"},e]}(e);return Sl(o,[i])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.log("No outcomes to send"));if(!this._dsn)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.log("No dsn provided, will not send outcomes"));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.log("Sending outcomes:",e);const t=(n=e,Sl((r=this._options.tunnel&&vl(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:(0,cc.yW)(),discarded_events:n}]]));var n,r;this._sendEnvelope(t)}}class tu{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=tu.id}__init2(){this._installFunc={onerror:nu,onunhandledrejection:ru}}constructor(e){tu.prototype.__init.call(this),tu.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const r=this._installFunc[n];r&&e[n]&&(t=n,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.log(`Global Handler attached: ${t}`),r(),this._installFunc[n]=void 0)}var t}}function nu(){rl("error",(e=>{const[t,n,r]=su();if(!t.getIntegration(tu))return;const{msg:o,url:i,line:s,column:a,error:c}=e;if(Dc()||c&&c.__sentry_own_request__)return;const l=void 0===c&&Ca(o)?function(e,t,n,r){let o=Ra(e)?e.message:e,i="Error";const s=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);s&&(i=s[1],o=s[2]);return ou({exception:{values:[{type:i,value:o}]}},t,n,r)}(o,i,s,a):ou(Wl(n,c||o,void 0,r,!1),i,s,a);l.level="error",iu(t,c,l,"onerror")}))}function ru(){rl("unhandledrejection",(e=>{const[t,n,r]=su();if(!t.getIntegration(tu))return;let o=e;try{"reason"in e?o=e.reason:"detail"in e&&"reason"in e.detail&&(o=e.detail.reason)}catch(e){}if(Dc()||o&&o.__sentry_own_request__)return!0;const i=Na(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:Wl(n,o,void 0,r,!0);i.level="error",iu(t,o,i,"onunhandledrejection")}))}function ou(e,t,n,r){const o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],l=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=Ca(t)&&t.length>0?t:function(){try{return ja.document.location.href}catch(e){return""}}();return 0===c.length&&c.push({colno:l,filename:d,function:"?",in_app:!0,lineno:u}),e}function iu(e,t,n,r){ic(n,{handled:!1,type:r}),e.captureEvent(n,{originalException:t})}function su(){const e=Ic(),t=e.getClient(),n=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[e,n.stackParser,n.attachStacktrace]}tu.__initStatic();const au=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class cu{static __initStatic(){this.id="TryCatch"}__init(){this.name=cu.id}constructor(e){cu.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&Ga(Nc,"setTimeout",lu),this._options.setInterval&&Ga(Nc,"setInterval",lu),this._options.requestAnimationFrame&&Ga(Nc,"requestAnimationFrame",uu),this._options.XMLHttpRequest&&"XMLHttpRequest"in Nc&&Ga(XMLHttpRequest.prototype,"send",du);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:au).forEach(pu)}}function lu(e){return function(...t){const n=t[0];return t[0]=Lc(n,{mechanism:{data:{function:zc(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function uu(e){return function(t){return e.apply(this,[Lc(t,{mechanism:{data:{function:"requestAnimationFrame",handler:zc(e)},handled:!0,type:"instrument"}})])}}function du(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&Ga(n,e,(function(t){const n={mechanism:{data:{function:e,handler:zc(t)},handled:!0,type:"instrument"}},r=za(t);return r&&(n.mechanism.data.handler=zc(r)),Lc(t,n)}))})),e.apply(this,t)}}function pu(e){const t=Nc,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Ga(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Lc(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:zc(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Lc(r,{mechanism:{data:{function:"addEventListener",handler:zc(r),target:e},handled:!0,type:"instrument"}}),o])}})),Ga(n,"removeEventListener",(function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,o,r)}})))}cu.__initStatic();class fu{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=fu.id}constructor(e={}){fu.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){const e=Ic().getClient();e&&Sc(((t,n)=>{const r=Ic().getIntegration(fu);return r?function(e,t,n,r,o){if(!(r.exception&&r.exception.values&&o&&Ua(o.originalException,Error)))return r;const i=gu(e,n,o.originalException,t);return r.exception.values=[...i,...r.exception.values],r}(e.getOptions().stackParser,r._key,r._limit,t,n):t}))}}function gu(e,t,n,r,o=[]){if(!Ua(n[r],Error)||o.length+1>=t)return o;const i=Fl(e,n[r]);return gu(e,t,n[r],r,[i,...o])}fu.__initStatic();class hu{constructor(){hu.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=hu.id}setupOnce(){Sc((e=>{if(Ic().getIntegration(hu)){if(!Nc.navigator&&!Nc.location&&!Nc.document)return e;const t=e.request&&e.request.url||Nc.location&&Nc.location.href,{referrer:n}=Nc.document||{},{userAgent:r}=Nc.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:o};return{...e,request:i}}return e}))}}hu.__initStatic();class vu{constructor(){vu.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=vu.id}setupOnce(e,t){const n=e=>{if(e.type)return e;const n=t().getIntegration(vu);if(n){try{if(function(e,t){return!!t&&(!!function(e,t){const n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!bu(e,t)&&!!mu(e,t))))}(e,t)||!!function(e,t){const n=yu(t),r=yu(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!bu(e,t)&&!!mu(e,t)))}(e,t))}(e,n._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){return n._previousEvent=e}return n._previousEvent=e}return e};n.id=this.name,e(n)}}function mu(e,t){let n=Eu(e),r=Eu(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function bu(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function yu(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Eu(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}vu.__initStatic();const Su="?";function Tu(e,t,n,r){const o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const _u=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,xu=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ou=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,wu=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Iu=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ku=Jc([30,e=>{const t=_u.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=xu.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Ru(t[1]||Su,t[2]);return Tu(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=Ou.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=wu.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Su;return[n,e]=Ru(n,e),Tu(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=Iu.exec(e);return t?Tu(t[2],t[1]||Su,+t[3],t[4]?+t[4]:void 0):void 0}]),Ru=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Su,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};const Pu=6e4;const Cu=30;function Nu(e,t,n=function(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return vc(new gl("Not adding Promise because buffer limit was reached."));const o=r();return-1===t.indexOf(o)&&t.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(e){return new mc(((n,r)=>{let o=t.length;if(!o)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{hc(e).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}(e.bufferSize||Cu)){let r={};function o(o){const i=[];if(_l(o,((t,n)=>{const o=kl(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(r,o)){const r=Au(t,n);e.recordDroppedEvent("ratelimit_backoff",o,r)}else i.push(t)})),0===i.length)return hc();const s=Sl(o[0],i),a=t=>{_l(s,((n,r)=>{const o=Au(n,r);e.recordDroppedEvent(t,kl(r),o)}))};return n.add((()=>t({body:Ol(s,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=function(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},i=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(i)for(const e of i.trim().split(",")){const[t,n]=e.split(":",2),i=parseInt(t,10),s=1e3*(isNaN(i)?60:i);if(n)for(const e of n.split(";"))o[e]=r+s;else o.all=r+s}else s?o.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?Pu:r-t}(s,r):429===t&&(o.all=r+6e4);return o}(r,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof gl)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.error("Skipped sending event because buffer is full."),a("queue_overflow"),hc();throw e}))}return o.__sentry__baseTransport__=!0,{send:o,flush:e=>n.drain(e)}}function Au(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}let Du;function Lu(e,t=function(){if(Du)return Du;if(Xc(Nc.fetch))return Du=Nc.fetch.bind(Nc);const e=Nc.document;let t=Nc.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return Du=t.bind(Nc)}()){let n=0,r=0;return Nu(e,(function(o){const i=o.body.length;n+=i,r++;const s={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,s).then((e=>(n-=i,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return Du=void 0,n-=i,r--,vc(e)}}))}const Uu=4;function Mu(e){return Nu(e,(function(t){return new mc(((n,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{o.readyState===Uu&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&o.setRequestHeader(t,e.headers[t]);o.send(t.body)}))}))}const ju=[new Mc,new Bc,new cu,new $l,new tu,new fu,new vu,new hu];function Fu(e){e.startSession({ignoreDuration:!0}),e.captureSession()}var Bu=__webpack_require__(2121);class Vu extends Bu.b{constructor(e){super(((e,t,n,r,...o)=>{if(e.name===Vo.in.NONE.name)return;const i=this.getSentryLevel(e);try{if("error"===i)return void this.reportError(t,n,r,...o);s={message:(0,Vo.Uo)(e,t,n,r).join(),level:i,category:"custom",data:{arguments:o.map((e=>JSON.stringify(e)))}},Ic().addBreadcrumb(s)}catch{}var s}),e),this.replacer=(e,t)=>t instanceof Map?Object.fromEntries(t):t}getSentryLevel(e){switch(e){case Vo.in.TRACE:case Vo.in.DEBUG:return"debug";case Vo.in.INFO:return"info";case Vo.in.WARN:return"warning";case Vo.in.ERROR:return"error";default:return"debug"}}isErrorType(e){return e instanceof Error}reportError(e,t,n,...r){const o=r.find((e=>this.isErrorType(e)));Cc((i=>{i.setLevel("error"),i.setExtras({timestamp:c.X.now(),message:n,arguments:(e?[...r,e]:r).filter((e=>!this.isErrorType(e))).map((e=>JSON.stringify(e,this.replacer)))}),o?Pc(o):function(e,t){const n={captureContext:t};Ic().captureMessage(e,undefined,n)}(`${null!=t?t:"UndefinedLoggerName"}: ${n}`)}))}}var qu=function(e,t){return function(n,r){t(n,r,e)}};let Yu=!1,Wu=class{constructor(e,t,n){this.settings=e,this.extension=t,this.logger=n,this.initialized=!1,this.isDevelopment=!1}async init(e,t){this.logger.info("Starting Sentry!"),this.isDevelopment=t,this.initialized=!0;const n=await this.settings.getOrCreate("telemetry_id",Zr(),xr.Lifetime);var r,o;"Mozilla Firefox"!==this.extension.info.browserFamily&&Object.defineProperty(Nc,"document",{value:{visibilityState:"hidden",addEventListener:()=>{}}}),function(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=ju),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),Nc.SENTRY_RELEASE&&Nc.SENTRY_RELEASE.id&&(e.release=Nc.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||ku,Array.isArray(n)?Jc(...n):n),integrations:qc(e),transport:e.transport||(Kc()?Lu:Mu)};var n;!function(e,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?pc.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=Ic();n.getScope().update(t.initialScope);const r=new e(t);n.bindClient(r)}(eu,t),e.autoSessionTracking&&function(){if(void 0===Nc.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&pc.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));const e=Ic();e.captureSession&&(Fu(e),rl("history",(({from:e,to:t})=>{void 0!==e&&e!==t&&Fu(Ic())})))}()}({dsn:"https://ec776765f5f74f85804453a916f0c04d@o783994.ingest.sentry.io/5798986",integrations:[],initialScope:{user:{id:n}},beforeBreadcrumb:(e,t)=>"custom"===e.category?e:null,beforeSend:e=>Yu?e:null,tracesSampleRate:this.isDevelopment?.01:.3,release:e,environment:this.getEnvironment()}),r={isBeta:this.extension.info.isBeta},Ic().setContext("product",r),ws.P.addSink(Is.h.Sentry,new Vu(Vo.in.DEBUG)),o=e=>e.addEventProcessor((e=>Promise.resolve({...e,environment:this.getEnvironment()}))),Ic().configureScope(o),this.initialized=!0}async enable(e,t){this.initialized||await this.init(e,t),this.logger.info("Enabling Sentry!"),Yu=!0}disable(){this.logger.info("Disabling Sentry!"),Yu=!1}setEnvironment(e){0===(null==e?void 0:e.length)&&(e=void 0),this.environment=e}getEnvironment(){var e;return null!==(e=this.environment)&&void 0!==e?e:this.isDevelopment?"Development":"Production"}};Wu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"LoggerSentry",useFactory:()=>(0,a.j)("SentryConfigurator")}]),qu(0,oe(Or)),qu(1,oe(Si)),qu(2,oe("LoggerSentry")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Or,Si,Object])],Wu);let Gu=class{constructor(e){this.sentryConfigurator=e,this.subscriptions=[{type:[gr.BsmMessage.Inbound.HELLO]}]}async*consume(e){if(e.type===gr.BsmMessage.Inbound.HELLO){if(!e.details.telemetryEnvironment)return;this.sentryConfigurator.setEnvironment(e.details.telemetryEnvironment)}}};Gu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),function(e,t){return function(n,r){t(n,r,e)}}(0,oe(Wu)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Wu])],Gu);var Ju=__webpack_require__(4532);class Hu{constructor(){this.messages=new Map}get(e){const t=this.messages.get(e);if(!(null==t?void 0:t.isCompleted)||c.X.now()<t.evictingTimeInMillisecond)return t;this.messages.delete(e)}set(e,t){this.messages.set(e,t)}delete(e){this.messages.delete(e)}}var zu=function(e,t){return function(n,r){t(n,r,e)}};let $u=class{constructor(e,t,n,r,o){this.collector=e,this.eventManager=t,this.requestTimeoutInMs=n,this.cacheTimeToLiveInMs=r,this.logger=o,this.subscriptions=[{priority:hr.StandardSync,type:[gr.BsmMessage.Outbound.NETWORK_INTERFACE_IDENTIFIER]},{type:["Time.Tick"]}],this.activeRequests=new Map,this.bsmMessageCache=new Hu,this.collector.onMessage().sub((e=>this.collectorMessageHandler(e)))}async*consume(e){if(yield*this.timeoutEvictedRequests(e.timestamp),"Time.Tick"===e.type)return;const t=this.bsmMessageCache.get(e.details.cacheKey);(null==t?void 0:t.isCompleted)?yield*this.responseFromCache(t.response,e):!t||t.isCompleted?"BsmMessage.Outbound.NetworkInterfaceIdentifier"===e.type&&this.requestNetworkInterfaceFromBsm(e):this.storePendingRequest(t.messageId,e.details.cacheKey,e)}storePendingRequest(e,t,n){var r;const o=this.activeRequests.get(e);o||(this.logger.error("No activeRequests for a cached pending request",e,this.bsmMessageCache.get(t)),this.bsmMessageCache.delete(t)),null===(r=null==o?void 0:o.requests)||void 0===r||r.push(n)}*responseFromCache(e,t){const n={...e,timestamp:c.X.now()};n.details={...e.details,messageId:t.details.messageId},yield n}requestNetworkInterfaceFromBsm(e){this.bsmMessageCache.set(e.details.cacheKey,{isCompleted:!1,evictingTimeInMillisecond:c.X.now()+this.requestTimeoutInMs,messageId:e.details.messageId}),this.activeRequests.set(e.details.messageId,{requests:[e],requestTimeInMs:c.X.now()}),this.collector.postNetworkInterfaceIdentifierRequest({messageId:e.details.messageId,hostName:e.details.hostname,port:e.details.port})}removeActiveRequest(e){this.activeRequests.has(e)&&this.activeRequests.delete(e)}collectorMessageHandler({type:e,data:t}){var n,r,o;switch(e){case Ju.v.NetworkInterfaces:this.logger.debug("Received network information from collector",t,c.X.now());const e=null===(n=this.activeRequests.get(t.messageId))||void 0===n?void 0:n.requests;if(!(null==e?void 0:e.length)){this.logger.error("Received invalid data from BSM: no active request match",t);break}const i=this.createNetworkInterfaceResponses(e,t.interfaceIdentifier,t.error);this.removeActiveRequest(t.messageId),t.error?this.bsmMessageCache.delete(e[0].details.cacheKey):this.bsmMessageCache.set(e[0].details.cacheKey,{response:i[0],evictingTimeInMillisecond:c.X.now()+this.cacheTimeToLiveInMs,isCompleted:!0}),this.eventManager.broadcastFrom(i);break;case Ju.v.Hello:const s=ne.resolve(qs);s.shouldDisplayEula()&&(s.acceptEula(),Ks(ne.resolve("NexthinkExtension"))),this.eventManager.broadcast(function(e,t){var n;return{type:gr.BsmMessage.Inbound.HELLO,timestamp:c.X.now(),details:{messageId:e,userId:t.userId,sessionId:t.uuid,deviceId:t.deviceId,collectorVersion:t.bsmVersion||"0.0.0",telemetryEnvironment:null!==(n=t.telemetryEnvironment)&&void 0!==n?n:void 0,logLevel:Wo(t.logLevel)}}}(Zr(),t));break;case Ju.v.ConnectionStatus:this.eventManager.broadcast((r=Zr(),o=t,{type:gr.BsmMessage.Inbound.CONNECTION_STATUS,timestamp:c.X.now(),details:{messageId:r,connected:o.connected,reason:o.reason,component:Go(o.component)}}))}}createNetworkInterfaceResponses(e,t,n){return e.map((e=>qo(e.details.messageId,t,n)))}timeoutEvictedRequests(e){const t=Array.from(this.activeRequests).filter((([t,n])=>n.requestTimeInMs+this.requestTimeoutInMs<e)).flatMap((([e,{requests:t}])=>t));return t.forEach((({details:{messageId:e,cacheKey:t}})=>{this.removeActiveRequest(e),this.bsmMessageCache.delete(t)})),t.map((({details:{messageId:e}})=>function(e){return qo(e,void 0,"Timeout")}(e)))}};$u=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"BsmCommunicatorLogger",useFactory:()=>(0,a.j)("BsmCommunicator")},{token:"BsmCommunicatorRequestTimeoutInMs",useValue:1e4},{token:"BsmCommunicatorCacheTimeToLiveInMs",useValue:2e3}]),zu(0,oe("Collector")),zu(1,oe(mo)),zu(2,oe("BsmCommunicatorRequestTimeoutInMs")),zu(3,oe("BsmCommunicatorCacheTimeToLiveInMs")),zu(4,oe("BsmCommunicatorLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,mo,Number,Number,Object])],$u);var Ku=function(e,t){return function(n,r){t(n,r,e)}};let Xu=class extends Bu.b{constructor(e,t){super(((e,t,n,r,...o)=>{if(!this.extensionConnectionStatusManager.isNxtHostAppConnected())return;const i=(0,Vo.Uo)(e,t,n,r).concat(o).map(Vo.pi).map(this.serialize).join(", ");this.collector.postLog(i,e)})),this.collector=e,this.extensionConnectionStatusManager=t,this.subscriptions=[{type:[gr.BsmMessage.Inbound.HELLO]}]}async*consume(e){e.type===gr.BsmMessage.Inbound.HELLO&&e.details.logLevel&&(this.logLevel=e.details.logLevel,ws.P.addSink(Is.h.BsmLoggerForwarder,this))}serialize(e){return e instanceof Object?JSON.stringify(e,void 0,2):e}};Xu=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),Ku(0,oe("Collector")),Ku(1,oe(ua)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,ua])],Xu);class Qu extends w{constructor(e,t,n,r,o,i){super("navigation-error",n,t,e),this.navigationRef=e,this.extensionTime=t,this.timestamp=n,this.status=r,this.type=o,this.networkInformation=i}}class Zu extends Jo{constructor(e,t,n,r,o,i=(0,a.j)("ErrorReporter")){super(n,r,o,i),this.keyPageSourcer=e,this.configManager=t}registerAdditionalSubscriptions(){this.subscriptions.push({type:[gr.Error.NAVIGATION_REQUEST,gr.Error.NAVIGATION_RESPONSE]})}async*consumeAdditionalSubscription(e){var t,n;const r=null!==(n=null===(t=this.configManager.getLatestConfig())||void 0===t?void 0:t.getAppIdFromUrl(e.details.url))&&void 0!==n?n:"";if(!r)return void this.logger.error("Error event url does not match any app id",e.details.url,r);r!==e.appId&&(this.logger.warn("Event contains wrong appId for url",e.appId,r),e.appId=r);const o={navigationUrl:ne.resolve(Po).sanitizeUrl(e.details.url),isSoftNavigation:!1,navigationId:Zr(),sanitized:!0,keyPageId:this.keyPageSourcer.getKeyPage(e.appId,e.details.url)},i=new Qu(o,e.details.extensionTime,e.timestamp,this.getErrorCode(e),e.details.type);this.logger.debug("Requesting network information for error event",e),yield*this.requestNetworkInterfaceInfo(e.appId,e.tabId,i,e.details.url)}getErrorCode(e){return e.type===gr.Error.NAVIGATION_REQUEST?e.details.error:e.details.statusCode.toString()}}function ed(e){return void 0===e&&(e={}),function(t,n){Pr.addExposeMetadata({target:t instanceof Function?t:t.constructor,propertyName:n,options:e})}}var td=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},nd=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};class rd{get metrics(){return new Map(this.metricsList.reduce(((e,t)=>{var n;const r=`appex.${t.name}_v${t.version}`;return e.has(r)||e.set(r,[]),null===(n=e.get(r))||void 0===n||n.push(new Map([["value",t.serialize()]])),e}),new Map))}constructor(){this.metricsList=[],this.extension=ne.resolve(Si),this.sessionManager=ne.resolve(Oa),this.attributes=this.updateAttributes()}serialize(){return this.isEmpty()?JSON.stringify({}):(this.attributes=this.updateAttributes(),JSON.stringify(to(Mr(this,{exposeUnsetFields:!1}))))}add(e){this.withPii===e.containsPii&&this.metricsList.push(e)}isEmpty(){return 0===this.metricsList.length}updateAttributes(){var e,t;return{extensionVersion:this.extension.info.version,collectorVersion:null!==(t=null===(e=this.sessionManager.getLatestSession())||void 0===e?void 0:e.collectorVersion)&&void 0!==t?t:"",browserFamily:this.extension.info.browserFamily,browserVersion:this.extension.info.browserVersion}}}td([ed(),nd("design:type",Object)],rd.prototype,"attributes",void 0),td([oo(),nd("design:type",Array)],rd.prototype,"metricsList",void 0),td([oo(),nd("design:type",Boolean)],rd.prototype,"withPii",void 0),td([ed(),nd("design:type",Object),nd("design:paramtypes",[])],rd.prototype,"metrics",null),td([oo(),nd("design:type",Object)],rd.prototype,"extension",void 0),td([oo(),nd("design:type",Object)],rd.prototype,"sessionManager",void 0);let od=class extends rd{constructor(){super(...arguments),this.withPii=!0}};od=td([ie()],od);let id=class extends rd{constructor(){super(...arguments),this.withPii=!1}};id=td([ie()],id);var sd=function(e,t){return function(n,r){t(n,r,e)}};let ad=class{constructor(e,t,n,r){this.collector=e,this.sendIntervalInMilliseconds=t,this.samplingRate=n,this.logger=r,this.subscriptions=[{type:["Experimental.Metric","Time.Tick"]}],this.metricsWithPii=new od,this.metricsWithoutPii=new id,this.lastSendTime=c.X.now()}async*consume(e){switch(e.type){case"Experimental.Metric":if(Math.random()>this.samplingRate)break;e.details.metric.containsPii?this.metricsWithPii.add(e.details.metric):this.metricsWithoutPii.add(e.details.metric);break;case"Time.Tick":this.send(e.timestamp)}}send(e){this.lastSendTime+this.sendIntervalInMilliseconds>e||(this.metricsWithPii.isEmpty()||this.collector.postExperimentalMetrics(this.metricsWithPii),this.metricsWithoutPii.isEmpty()||this.collector.postExperimentalMetrics(this.metricsWithoutPii),this.lastSendTime=e,this.metricsWithPii=new od,this.metricsWithoutPii=new id)}};ad=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"ExperimentalMetricsReporterSamplingRate",useValue:.1},{token:"ExperimentalMetricsReporterSendIntervalInMilliseconds",useValue:3e4},{token:"ExperimentalMetricsReporterLogger",useFactory:()=>(0,a.j)("ExperimentalMetricsReporter")}]),sd(0,oe("Collector")),sd(1,oe("ExperimentalMetricsReporterSendIntervalInMilliseconds")),sd(2,oe("ExperimentalMetricsReporterSamplingRate")),sd(3,oe("ExperimentalMetricsReporterLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Number,Number,Object])],ad);var cd=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},ld=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ud=function(e,t){return function(n,r){t(n,r,e)}};class dd{constructor(e,t){this.lastUpdateTimeInMs=Date.now(),this.removed=!1,this.reportThresholdsMs=[{timeInMs:6e4,reported:!1},{timeInMs:3e5,reported:!1},{timeInMs:6e5,reported:!1}],this.appId=e,this.revision=t}}class pd extends Ir{constructor(){super(...arguments),this.timeToLiveInMilliseconds=wr,this.history=new Map}deserialize(e){return jr(pd,JSON.parse(e))}serialize(){return JSON.stringify(Mr(this))}}cd([Cr((()=>dd)),ld("design:type",Map)],pd.prototype,"history",void 0);let fd=class{constructor(e,t){this.configManager=e,this.logger=t,this.configHistory=new kr(vr.ConfigWatcher.History,new pd,xr.Session),this.alarmDelayMs=6e4}async start(){await this.setHistoryToStartupTime(),this.configManager.onUpdate.addListener((async()=>{await this.updateHistory(),await this.verifyConfigRevisions()})),new po.j("config-watcher",(()=>this.verifyConfigRevisions()),{intervalInMs:this.alarmDelayMs}).start()}async setHistoryToStartupTime(){this.configHistory.get().history.forEach((e=>{e.lastUpdateTimeInMs=Date.now()})),await this.configHistory.set(this.configHistory.get())}async updateHistory(){const e=this.configManager.getLatestConfigV2();e&&(Array.from(e.applicationRevisions.entries()).forEach((e=>{this.configHistory.get().history.set(e[0],new dd(e[0],e[1]))})),Array.from(this.configHistory.get().history.keys()).filter((t=>!Array.from(e.applicationRevisions.keys()).find((e=>e===t)))).forEach((e=>{const t=this.configHistory.get().history.get(e);t&&(t.removed=!0,t.lastUpdateTimeInMs=Date.now())})),await this.configHistory.set(this.configHistory.get()))}async verifyConfigRevisions(){Array.from(this.configHistory.get().history.values()).filter((e=>{var t,n;const r=null===(t=this.configManager.getLatestConfigV2())||void 0===t?void 0:t.applications.get(e.appId);return!!r&&(null===(n=r.revision)||void 0===n?void 0:n.value)!==e.revision})).forEach((e=>{const t=this.configHistory.get().history.get(e.appId);t&&t.reportThresholdsMs.forEach((e=>{var n,r,o;!e.reported&&t.lastUpdateTimeInMs+e.timeInMs<=Date.now()&&(this.logger.error(`Outdated config revision for ${e.timeInMs/1e3/60} minutes`,{appId:t.appId,currentRevision:null===(o=null===(r=null===(n=this.configManager.getLatestConfigV2())||void 0===n?void 0:n.applications.get(t.appId))||void 0===r?void 0:r.revision)||void 0===o?void 0:o.value,expectedRevision:t.revision,lastUpdateTimeInMs:t.lastUpdateTimeInMs,currentTimeInMs:Date.now()}),e.reported=!0)}))})),Array.from(this.configHistory.get().history.values()).filter((e=>e.removed)).forEach((e=>{const t=this.configHistory.get().history.get(e.appId);t&&t.reportThresholdsMs.forEach((e=>{!e.reported&&t.lastUpdateTimeInMs+e.timeInMs<=Date.now()&&(this.logger.error(`Removed app still in config for ${e.timeInMs/1e3/60} minutes`,{appId:t.appId,lastUpdateTimeInMs:t.lastUpdateTimeInMs,currentTimeInMs:Date.now()}),e.reported=!0)}))})),await this.configHistory.set(this.configHistory.get())}};var gd;fd=cd([ae(),se([{token:"ExtensionConfigWatchdogLogger",useFactory:()=>(0,a.j)("ExtensionConfigWatchdog")}]),ud(0,oe(ko)),ud(1,oe("ExtensionConfigWatchdogLogger")),ld("design:paramtypes",[ko,Object])],fd),function(e){e.SentryTelemetry="appex_extension_sentry_telemetry",e.InstalledExtensions="appex_extension_installed_extensions",e.ConfigTtlInSeconds="appex_extension_config_time_to_live_in_seconds"}(gd||(gd={}));var hd=__webpack_require__(8809),vd=function(e,t){return function(n,r){t(n,r,e)}};let md=class extends Eo{constructor(e,t){super(),this.configManager=e,this.logger=t,this.configManager.onUpdate.addListener((()=>{this.notifyUpdate()}))}isDataAvailable(){return void 0!==this.configManager.getLatestConfigV2()}getKnownFlagName(e){const t=e;return Object.values(gd).includes(t)?t:void 0}getFlagValue(e){return this.getAll().get(e)}getAll(){const e=this.configManager.getLatestConfigV2();if(!e)return new Map;const t=new Map;return Array.from(new Map(Object.entries(e.settings.featureFlags))).forEach((([e,n])=>{this.getKnownFlagName(e)?t.set(e,n):this.logger.error("Unknown feature flag",e,n)})),t}};md=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"FeatureFlagsManagerLogger",useFactory:()=>(0,a.j)("FeatureFlagsManager")}]),vd(0,oe(ko)),vd(1,oe("FeatureFlagsManagerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[ko,Object])],md);var bd=function(e,t){return function(n,r){t(n,r,e)}};let yd=class{constructor(e,t,n){this.logger=e,this.featureFlagSourcer=t,this.extension=n,this.activeFeatures=new Map,this.subscribers=new Map,this.featureFlagSourcer.onUpdate.addListener((()=>{this.processFeatureFlagsChanges()}))}subscribe(e,t,n){var r;const o=null!==(r=this.subscribers.get(e))&&void 0!==r?r:[];if(o.push({onChange:t,onRemoved:n}),this.subscribers.set(e,o),this.extension.info.isBeta)return void this.activateKnownFeatures(e);const i=this.activeFeatures.get(e);i&&this.notifyFeatureChange(e,i)}activateKnownFeatures(e){switch(e){case gd.SentryTelemetry:this.notifyFeatureChange(gd.SentryTelemetry,{type:bt.FEATURE_FLAG_TYPE_BOOLEAN,value:{$case:"booleanValue",booleanValue:!0}});break;case gd.InstalledExtensions:this.notifyFeatureChange(gd.InstalledExtensions,{type:bt.FEATURE_FLAG_TYPE_BOOLEAN,value:{$case:"booleanValue",booleanValue:!0}})}}processFeatureFlagsChanges(){const e=this.featureFlagSourcer.getAll();Array.from(e.entries()).filter((([e,t])=>!this.activeFeatures.has(e)||!(0,hd.isEqual)(this.activeFeatures.get(e),t))).forEach((([e,t])=>{this.activeFeatures.set(e,t),this.notifyFeatureChange(e,t)})),Array.from(this.activeFeatures.entries()).filter((t=>!e.has(t[0]))).forEach((([e])=>{this.activeFeatures.delete(e),this.notifyFeatureRemoved(e)}))}notifyFeatureChange(e,t){var n;null===(n=this.subscribers.get(e))||void 0===n||n.forEach((({onChange:e})=>{e(t)}))}notifyFeatureRemoved(e){var t;null===(t=this.subscribers.get(e))||void 0===t||t.forEach((({onRemoved:e})=>{e()}))}};yd=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"FeatureGateLogger",useFactory:()=>(0,a.j)("FeatureGate")}]),bd(0,oe("FeatureGateLogger")),bd(1,oe(md)),bd(2,oe(Si)),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,md,Si])],yd);class Ed{register(){return ne.resolve(yd).subscribe(this.featureFlagName,(e=>this.onFlagChanged(e)),(()=>this.onFlagRemoved())),this}}var Sd=function(e,t){return function(n,r){t(n,r,e)}};let Td=class extends Ed{constructor(e,t){super(),this.configManager=e,this.logger=t,this.featureFlagName=gd.ConfigTtlInSeconds}onFlagRemoved(){}onFlagChanged(e){var t;e.type===bt.FEATURE_FLAG_TYPE_NUMBER?"numberValue"===(null===(t=e.value)||void 0===t?void 0:t.$case)&&this.configManager.setConfigTimeToLive(e.value.numberValue).catch((e=>{this.logger.error("Error setting config TTL",e)})):this.logger.error("Invalid feature flag value",e)}};Td=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"ConfigTtlFeatureFlagLogger",useFactory:()=>(0,a.j)("ConfigTtlFeatureFlag")}]),Sd(0,oe(ko)),Sd(1,oe("ConfigTtlFeatureFlagLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[ko,Object])],Td);class _d extends Di{constructor(e){super(),this.containsPii=!1,this.name="installed_extensions_metric",this.version=1,this.extensionInstanceId=e.extensionInstanceId,this.timestamp=e.timestamp,this.extensionsInfo=e.extensionsInfo.map((e=>({version:e.version,homepageUrl:e.homepageUrl,name:e.name,enabled:e.enabled,id:e.id,installType:e.installType,permissions:e.permissions,hostPermissions:e.hostPermissions}))),this.sizeInBytes=this.getSizeByte()}getSizeByte(){return(new TextEncoder).encode(JSON.stringify(Mr(this,{exposeUnsetFields:!1}))).length}}var xd=function(e,t){return function(n,r){t(n,r,e)}};class Od extends Ir{constructor(){super(...arguments),this.timeToLiveInMilliseconds=wr,this.lastSentInstalledExtensionsTimestamp=-1}serialize(){return JSON.stringify(Mr(this))}deserialize(e){return jr(Od,JSON.parse(e))}}let wd=class{constructor(e,t,n,r,o){this.extension=e,this.eventManager=t,this.browser=n,this.collector=r,this.logger=o,this.subscriptions=[{type:["Time.Tick"]}],this.markChange=async()=>{const e=this.data.get();e.lastChangeNotReportedTimestamp=c.X.now(),await this.data.set(e)},this.data=new kr(vr.InstalledExtensionsReporter.Data,new Od),this.browser.management.onInstalled.addListener(this.markChange),this.browser.management.onUninstalled.addListener(this.markChange),this.browser.management.onEnabled.addListener(this.markChange),this.browser.management.onDisabled.addListener(this.markChange)}async*consume({timestamp:e}){if(this.shouldBeReportedDaily(e)||this.shouldBeReportedAfterChange(e)){const e={timestamp:c.X.now()-c.X.origin,browserVersion:this.extension.info.browserVersion,browserFamily:this.extension.info.browserFamily,extensionInstanceId:this.extension.info.extensionInstanceId,extensionsInfo:await this.browser.management.getAll()};this.reportExperimentalMetrics(e),await this.reportInstalledExtensions(e)}}shouldBeReportedDaily(e){return e-this.data.get().lastSentInstalledExtensionsTimestamp>864e5}shouldBeReportedAfterChange(e){const t=this.data.get().lastChangeNotReportedTimestamp;return void 0!==t&&e-t>6e4}reportExperimentalMetrics(e){this.eventManager.broadcast({type:"Experimental.Metric",timestamp:c.X.now(),details:{metric:new _d(e)}})}async reportInstalledExtensions(e){this.collector.postInstalledExtensions(e);const t=this.data.get();t.lastSentInstalledExtensionsTimestamp=c.X.now(),delete t.lastChangeNotReportedTimestamp,await this.data.set(t)}};wd=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"InstalledExtensionsReporterLogger",useFactory:()=>(0,a.j)("InstalledExtensionsReporter")}]),xd(0,oe(Si)),xd(1,oe(mo)),xd(2,oe("Browser")),xd(3,oe("Collector")),xd(4,oe("InstalledExtensionsReporterLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Si,mo,Object,Object,Object])],wd);var Id=function(e,t){return function(n,r){t(n,r,e)}};let kd=class extends Ed{constructor(e,t){super(),this.eventManager=e,this.logger=t,this.featureFlagName=gd.InstalledExtensions}onFlagRemoved(){this.eventManager.unregister(ne.resolve(wd))}onFlagChanged(e){var t;e.type===bt.FEATURE_FLAG_TYPE_BOOLEAN?"booleanValue"===(null===(t=e.value)||void 0===t?void 0:t.$case)&&e.value.booleanValue?this.eventManager.register(ne.resolve(wd)):this.eventManager.unregister(ne.resolve(wd)):this.logger.error("Invalid InstalledExtensions feature flag",e)}};kd=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"InstalledExtensionsFlagProcessorLogger",useFactory:()=>(0,a.j)("InstalledExtensionsFlagProcessor")}]),Id(0,oe(mo)),Id(1,oe("InstalledExtensionsFlagProcessorLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[mo,Object])],kd);var Rd=function(e,t){return function(n,r){t(n,r,e)}};let Pd=class extends Ed{constructor(e,t){super(),this.extension=e,this.logger=t,this.featureFlagName=gd.SentryTelemetry}onFlagRemoved(){ne.resolve(Wu).disable()}onFlagChanged(e){var t;"booleanValue"===(null===(t=e.value)||void 0===t?void 0:t.$case)&&e.value.booleanValue?ne.resolve(Wu).enable(this.extension.info.version,this.extension.info.devMode).catch((e=>{this.logger.error("Error enabling Sentry",e)})):ne.resolve(Wu).disable()}};Pd=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"SentryTelemetryFlagProcessorLogger",useFactory:()=>(0,a.j)("SentryTelemetryFlagProcessor")}]),Rd(0,oe(Si)),Rd(1,oe("SentryTelemetryFlagProcessorLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Si,Object])],Pd);let Cd=class{constructor(){this.processors=[]}registerProcessors(){this.processors.push(ne.resolve(Td).register()),this.processors.push(ne.resolve(kd).register()),this.processors.push(ne.resolve(Pd).register())}};Cd=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae()],Cd);var Nd=function(e,t){return function(n,r){t(n,r,e)}};let Ad=class{constructor(e,t,n){this.configManager=e,this.collector=t,this.logger=n}async load(e){var t,n,r,o,i,s,a,c;try{("string"==typeof e.config?await this.loadConfigV1(e.config):await this.loadConfigV2(e.config))&&(i=this.collector,s=null===(t=this.configManager.getLatestConfig())||void 0===t?void 0:t.revision,a=null===(n=this.configManager.getLatestConfigV2())||void 0===n?void 0:n.applicationRevisions,c=null===(o=null===(r=this.configManager.getLatestConfigV2())||void 0===r?void 0:r.settings.revision)||void 0===o?void 0:o.value,i.postOperational({startTimestamp:performance.now(),operationDataType:_.CONFIG_LOADING_STATUS,data:S.Extension.Config.ConfigLoadingStatus.create({configRevision:s,code:S.Extension.Config.ConfigLoadingCode.CONFIG_LOADING_CODE_SUCCESSFUL,details:[JSON.stringify({appRevisions:a,settingsRevision:c})]}).toJSON()}))}catch(t){t instanceof Error&&((e,t)=>{e.postOperational({startTimestamp:performance.now(),operationDataType:_.CONFIG_LOADING_STATUS,data:S.Extension.Config.ConfigLoadingStatus.create({code:S.Extension.Config.ConfigLoadingCode.CONFIG_LOADING_CODE_UNKNOWN_ERROR,details:[JSON.stringify({error:oi(t)})]}).toJSON()})})(this.collector,t),this.logger.error("Error loading config",t,e)}}async loadConfigV1(e){return this.logger.debug("Received config v1",e),!!this.validDateConfigV1(e)&&(await this.configManager.setConfigV1(new co(e)),!0)}async loadConfigV2(e){return this.logger.debug("Received config v2",e),await this.configManager.updateConfigV2(e),!0}validDateConfigV1(e){const t=new co(e);if(t.isEmpty())return!0;const n=t.validate();return!!n.okay||(this.logger.error("Invalid config received",e,n),((e,t,n,r=ii)=>{var o,i,s,a,c;r.error("Error validating configuration",{configData:t,configValidation:n}),e.postOperational({startTimestamp:performance.now(),operationDataType:_.CONFIG_LOADING_STATUS,data:S.Extension.Config.ConfigLoadingStatus.create({configRevision:null===(o=n.invalidLoadingStatus)||void 0===o?void 0:o.configRevision,code:null===(i=n.invalidLoadingStatus)||void 0===i?void 0:i.code,message:null===(s=n.invalidLoadingStatus)||void 0===s?void 0:s.message,details:null===(c=null===(a=n.invalidLoadingStatus)||void 0===a?void 0:a.details)||void 0===c?void 0:c.map((e=>e.slice(0,300)))}).toJSON()})})(this.collector,e,t.validate()),!1)}};Ad=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"ConfigLoaderLogger",useFactory:()=>(0,a.j)("ConfigLoader")}]),Nd(0,oe(ko)),Nd(1,oe("Collector")),Nd(2,oe("ConfigLoaderLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[ko,Object,Object])],Ad);let Dd=class{constructor(e,t,n,r,o=!1,i=(0,a.j)("NexthinkExtensionImpl")){this.extensionId=e,this.version=t,this.beaconManager=n,this.collector=r,this.devMode=o,this.logger=i,this.config=co.defaultConfig,this.tabConfigUpdateDispatcher=new s.FK,this.urlPatterns=[],this.features=ne.resolve(yd),this.eventManager=ne.resolve(mo),this.keyPageSourcer=ne.resolve(ns),this.sessionManager=ne.resolve(Oa),this.browserTab=ne.resolve(zo),this.extensionConnectionStatusManager=ne.resolve(ua),this.configManager=ne.resolve(ko)}isUrlHandled(e){const{hostname:t,pathname:n}=new URL(e);return this.urlPatterns.some((e=>e.matches(t,n)))}isConnected(){var e;return null!==(e=this.extensionConnectionStatusManager.isCollectorConnected())&&void 0!==e&&e}isTabMonitored(e){var t;const n=null===(t=this.tabStateSourcer)||void 0===t?void 0:t.state.get(e);return(null==n?void 0:n.connected)===Do.Connected&&(null==n?void 0:n.injectedCodeStatus)===Ao.Updated}onConnectionChange(){return this.extensionConnectionStatusManager.onConnectionStatusUpdate()}onTabConfigUpdated(){return this.tabConfigUpdateDispatcher.asEvent()}start(){try{this.initEventStream(),ne.resolve(Cd).registerProcessors()}catch(e){e instanceof Error&&((e,t,n=ii)=>{n.error("Error starting the extension",t),e.postOperational({startTimestamp:performance.now(),operationDataType:_.EXTENSION_START_ERROR,data:{message:"Error starting the extension",error:oi(t)}})})(this.collector,e,this.logger)}}initEventStream(){new ri(this.eventManager).start(),this.configManager.onUpdate.addListener((()=>{this.onConfigUpdate()})),this.eventManager.register(ne.resolve($u)),this.eventManager.register(this.sessionManager);const e=ne.resolve(hs);e.registerAnalyzer(Vi.name),e.registerAnalyzer(Gi.name),e.registerAnalyzer(Ki.name),e.registerAnalyzer(es.name),e.registerAnalyzer(ss.name),e.registerAnalyzer(ls.name),e.registerAnalyzer(ps.name),this.eventManager.register(e),this.eventManager.register(ne.resolve(Xu)),this.tabStateSourcer=ne.resolve(Mo),this.eventManager.register(this.tabStateSourcer),this.eventManager.register(ne.resolve(Qo)),this.eventManager.register(ne.resolve(ba)),this.eventManager.register(ne.resolve(Ls)),this.eventManager.register(new Zu(this.keyPageSourcer,this.configManager,this.beaconManager,this.sessionManager,this.extensionConnectionStatusManager)),this.eventManager.register(this.extensionConnectionStatusManager),this.navigationDurationReporter=new hi(this.keyPageSourcer,this.configManager,this.browserTab,this.beaconManager,this.sessionManager,this.extensionConnectionStatusManager),this.eventManager.register(this.navigationDurationReporter),this.eventManager.register(ne.resolve(Gu)),this.eventManager.register(ne.resolve(na)),ne.resolve(sa),this.eventManager.register(new Ho(this.keyPageSourcer,this.configManager,this.browserTab,this.beaconManager,this.sessionManager,this.extensionConnectionStatusManager)),this.eventManager.register(ne.resolve("ConfigFetcher")),ne.resolve("ConfigFetcher").onConfigChange().sub((async e=>{await ne.resolve(Ad).load(e)})),this.eventManager.register(this.beaconManager),this.eventManager.register(ne.resolve(va)),ne.resolve(Si).info.isBeta&&this.eventManager.register(ne.resolve(ad)),ne.resolve(fd).start().catch((e=>{this.logger.error("Failed to start ExtensionConfigWatcher",e)}))}onConfigUpdate(){const e=ne.resolve(ko).getLatestConfig();if(e){0!==e.apps.size?this.startWatchers():this.stopWatchers();try{this.config=e,this.urlPatterns=e.urlMatchPatterns,this.beaconManager.updateConfig(e)}catch(e){this.logger.error("Failed to update config",e)}}}startWatchers(){ne.resolve(ms).start(),ne.resolve(xa).start(),ne.resolve(la).start(),ne.resolve(Sa).start()}stopWatchers(){ne.resolve(ms).stop(),ne.resolve(xa).stop(),ne.resolve(la).stop(),ne.resolve(Sa).stop()}};function Ld(e){const{monitorId:t,status:n,triggerId:r,keyboardShortcut:o,endMonitorId:i,endErrorCode:s,startTimestamp:a,durationSeconds:c,readinessTiming:l,perceivedExperienceLevel:u,experimental:d}=e.transactionDetails;return Kt.create({startTimestamp:a/1e3,transactionMonitorId:t,status:n,triggerMonitorId:r,triggeredByKeyboardShortcut:o,endMonitorId:i,endErrorCode:s,durationSeconds:c,clientDurationSeconds:null==l?void 0:l.clientDurationSeconds,networkDurationSeconds:null==l?void 0:l.networkDurationSeconds,backendDurationSeconds:null==l?void 0:l.backendDurationSeconds,perceivedExperienceLevel:u,experimental:d})}Dd=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([se([{token:"ConfigUpdateDispatcher",useClass:s.FK,options:{lifecycle:L.Singleton}}]),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[String,String,Kr,Object,Object,Object])],Dd);const Ud={net:{"net::ERR_ABORTED":601,"net::ERR_NETWORK_IO_SUSPENDED":602,"net::ERR_NAME_NOT_RESOLVED":603,"net::ERR_INTERNET_DISCONNECTED":604,"net::ERR_NETWORK_CHANGED":605,"net::ERR_CONNECTION_TIMED_OUT":606,"net::ERR_BLOCKED_BY_CLIENT":607,TIMED_OUT:608,FAILED:609,CONNECTION_CLOSED:610,HTTP_1_1_REQUIRED:611,CACHE_MISS:612,HTTP2_PING_FAILED:613,CONNECTION_REFUSED:614,EMPTY_RESPONSE:615,SSL_PROTOCOL_ERROR:616,CONTENT_LENGTH_MISMATCH:617,CONNECTION_RESET:618,HTTP2_PROTOCOL_ERROR:619,NAME_RESOLUTION_FAILED:620,ADDRESS_UNREACHABLE:621,PROXY_CONNECTION_FAILED:622,ADDRESS_INVALID:623,CERT_AUTHORITY_INVALID:691,CERT_COMMON_NAME_INVALID:692,CERT_DATABASE_CHANGED:693,CERT_INVALID:694,UNKNOWN:600},security:{UNKNOWN:700}};function Md(e){const t={code:parseInt(e),label:`HTTP ${e}`,requestStatus:S.Extension.Config.RequestStatus.REQUEST_STATUS_UNKNOWN_ERROR};if(e.startsWith("2"))return t.requestStatus=S.Extension.Config.RequestStatus.REQUEST_STATUS_SUCCESS,t;if("304"===e)return t.requestStatus=S.Extension.Config.RequestStatus.REQUEST_STATUS_NOT_MODIFIED,t;if(e.startsWith("4"))return t.requestStatus=S.Extension.Config.RequestStatus.REQUEST_STATUS_CLIENT_ERROR,t;if(e.startsWith("5"))return t.requestStatus=S.Extension.Config.RequestStatus.REQUEST_STATUS_SERVER_ERROR,t;const n={code:0,label:e,requestStatus:S.Extension.Config.RequestStatus.REQUEST_STATUS_UNKNOWN_ERROR},r=e in Ud.net?Ud.net[e]:void 0,o=e.toUpperCase(),i=o.startsWith("NET")||o.startsWith("DNS")||o.startsWith("SSL")||o.startsWith("CERT")||o.startsWith("CACHE")||o.startsWith("HTTP2")||o.startsWith("CONTENT")||o.startsWith("PROXY")||o.startsWith("UNSUPPORTED");return void 0!==r||i?(n.requestStatus=S.Extension.Config.RequestStatus.REQUEST_STATUS_NETWORK_ERROR,n.code=null!=r?r:Ud.net.UNKNOWN,n):n}function jd(e,t){const n=[],r=Qr(e,"status");Object.getOwnPropertyNames(r).forEach((e=>{const{code:t,label:o}=Md(e);n.push(yn.create({code:t,label:o,count:r[e].length}))}));const o=[],i=Qr(t.filter((e=>li[e.type]!==S.Extension.Config.ResourceType.RESOURCE_TYPE_MAIN_FRAME)).map((e=>({...e,errorGroupKey:`${e.status}|${e.type}|${e.url}`}))),"errorGroupKey");if(Object.getOwnPropertyNames(i).forEach((e=>{const t=i[e],[n,r,s]=e.split("|"),{code:a,label:c}=Md(n);o.push(En.create({code:a,label:c,count:t.length,resourceType:li[r],resourceUrl:s}))})),0!==n.length||0!==o.length)return bn.create({navigationErrors:n,resourceErrors:o})}function Fd(e){if(!e)return;const{extensionTime:t,interfaceIdentifier:n}=e;return Yn.create({timestamp:t?t/1e3:void 0,networkInterface:n})}function Bd(e,t){var n;return dn.create({startTimestamp:e.extensionTime/1e3,perceivedDurationSeconds:null===(n=e.timing)||void 0===n?void 0:n.durationSeconds,pageLoadTiming:e.timing,readinessTiming:e.readinessTiming,perceivedExperienceLevel:e.perceivedExperienceLevel,waterfallData:e.waterfallData?qd(e.waterfallData,t):void 0})}function Vd(e,t){var n;const{navigationType:r,transitionType:o}=e;return pn.create({startTimestamp:e.extensionTime/1e3,perceivedDurationSeconds:null===(n=null==e?void 0:e.readinessTiming)||void 0===n?void 0:n.stableDomSeconds,readinessTiming:e.readinessTiming,perceivedExperienceLevel:e.perceivedExperienceLevel,waterfallData:e.waterfallData?qd(e.waterfallData,t):void 0,experimental:JSON.stringify(N({navigationType:r,transitionType:o}))})}function qd(e,t){var n,r,o;return{...e,longestResource:{...null==e?void 0:e.longestResource,url:t?null===(n=null==e?void 0:e.longestResource)||void 0===n?void 0:n.url:void 0},largestResource:{...null==e?void 0:e.largestResource,url:t?null===(r=null==e?void 0:e.largestResource)||void 0===r?void 0:r.url:void 0},longestResourceDuration:null===(o=null==e?void 0:e.longestResource)||void 0===o?void 0:o.duration}}function Yd(e,t,n){return 0===n.length?[]:n.map((n=>Wn.create({tabId:e,navigationUrl:t,transactionEvents:[Ld(n)],networkInformation:Fd(n.networkInformation),openTabCount:n.openTabCount})))}function Wd(e,t,n){return 0===n.length?[]:[Wn.create({tabId:e,navigationUrl:t,errors:jd(n,[]),networkInformation:Fd(n[0].networkInformation)})]}const Gd=new Map([[Br[Br.None],S.Extension.Config.ActivityLevel.ACTIVITY_LEVEL_UNSPECIFIED],[Br[Br.Unfocused],S.Extension.Config.ActivityLevel.ACTIVITY_LEVEL_UNFOCUSED],[Br[Br.Focused],S.Extension.Config.ActivityLevel.ACTIVITY_LEVEL_FOCUSED]]);function Jd(e){const t=ne.resolve(ko);return Array.from(e).flatMap((([e,n])=>Array.from(n.events).map((([n,r])=>{const o=[];r.tabEvents.forEach(((n,r)=>{n.events.forEach(((n,i)=>{o.push(...function(e,t,n){var r,o,i,s;const a=Qr(n,"entryType"),c=null!==(r=a.navigation)&&void 0!==r?r:[],l=null!==(o=a["soft-navigation"])&&void 0!==o?o:[],u=null!==(i=a["transaction-complete"])&&void 0!==i?i:[],d=null!==(s=a["navigation-error"])&&void 0!==s?s:[],p=void 0!==t;return[...c.map((n=>Wn.create({tabId:e,navigationUrl:t,navigationEvent:{$case:"pageNavigationEvent",pageNavigationEvent:Bd(n,p)},networkInformation:Fd(n.networkInformation),openTabCount:n.openTabCount}))),...l.map((n=>Wn.create({tabId:e,navigationUrl:t,navigationEvent:{$case:"softNavigationEvent",softNavigationEvent:Vd(n,p)},networkInformation:Fd(n.networkInformation),openTabCount:n.openTabCount}))),...Yd(e,t,u),...Wd(e,t,d)]}(Number.parseInt(r),t.shouldDisableUrlReporting(e)?void 0:i,n))}))}));const i=qn.create({appId:e,navigationData:o});var s;return n&&"undefined"!==n&&(i.keyPageId=n),r.usage&&Object.keys(r.usage).length>0&&(i.usage=(s=r.usage,an.create({timers:Object.entries(s).map((([e,t])=>{const n=Gd.get(e);let r={};return n&&t&&(r={activityLevel:n,durationSeconds:t}),r}))}))),i}))))}function Hd({extensionsInfo:e,extensionInstanceId:t,browserFamily:n,browserVersion:r}){return In.create({extensionsInfo:e.map(zd),browserVersion:r,browserName:$d(n),installationUuid:t})}function zd(e){return kn.create({version:e.version,homepageUrl:e.homepageUrl,name:e.name,enabled:e.enabled,id:e.id,installType:Kd(e.installType),permissions:e.permissions,hostPermissions:e.hostPermissions})}function $d(e){switch(e){case ce.Y.Chrome:return _n.BROWSER_CHROME;case ce.Y.Firefox:return _n.BROWSER_FIREFOX;case ce.Y.Edge:return _n.BROWSER_EDGE;default:return _n.BROWSER_UNSPECIFIED}}function Kd(e){switch(e){case"normal":return xn.INSTALL_TYPE_NORMAL;case"other":return xn.INSTALL_TYPE_OTHER;case"development":return xn.INSTALL_TYPE_DEVELOPMENT;case"sideload":return xn.INSTALL_TYPE_SIDE_LOAD;case"admin":return xn.INSTALL_TYPE_ADMIN;default:return xn.INSTALL_TYPE_UNSPECIFIED}}const Xd=(e,t)=>t instanceof Map?Object.fromEntries(t):t,Qd={[fi.chrome]:Kn.BROWSER_CHROME,[fi.edge]:Kn.BROWSER_EDGE,[fi.firefox]:Kn.BROWSER_FIREFOX,[fi.safari]:Kn.BROWSER_UNSPECIFIED,default:Kn.BROWSER_UNSPECIFIED};class Zd{constructor(e=!1,t=(0,a.j)("ProtoObjectFactory")){this.devMode=e,this.logger=t,this.protoVersion=1,e&&(this.nativeHostMessageDispatcher=new s.FK)}static loadNativeHostMessage(e){var t;if(e.hello){const{timestamp:t,...n}=e.hello,r=pr.fromJSON(ro(n));if(r)return{type:Ju.v.Hello,data:r}}const n=ar.fromJSON(e);switch(n.type){case $n.TYPE_CONFIG:{try{const e=S.Endpoint.Configuration.decode(n.payload),r=null===(t=null==e?void 0:e.response)||void 0===t?void 0:t.config;if(void 0!==r)return(null==r?void 0:r.length)&&JSON.parse(r),{type:Ju.v.Config,data:r}}catch{}const e=jt.decode(n.payload);return{type:Ju.v.Config,data:e}}case $n.TYPE_NETWORK_INTERFACE_IDENTIFIER:const e=ur.decode(n.payload);return{type:Ju.v.NetworkInterfaces,data:e};case $n.TYPE_CONNECTION_STATUS:const r=fr.decode(n.payload);return{type:Ju.v.ConnectionStatus,data:r}}}static buildUpstreamConfigMessage(e){const t=S.Endpoint.Configuration.encode({response:new S.Endpoint.ConfigurationResponse({config:e})}).finish();return ar.create(ar.create({type:$n.TYPE_CONFIG,payload:t}))}onNewNativeHostMessageSent(){var e;return null===(e=this.nativeHostMessageDispatcher)||void 0===e?void 0:e.asEvent()}helloToNativeHostMessage(e,t){return this.beaconToNativeHostJson(this.transformHello(e,t))}keepAliveToNativeHostMessage(e){return this.keepAliveToNativeHostJson(e)}experimentalMetricsToNativeHostMessage(e){const t=cr.create({type:e.withPii?"exp-pii":"exp-nopii",serviceVersion:1}),n=ar.create({type:$n.TYPE_UNSPECIFIED,payload:(new TextEncoder).encode(e.serialize()),header:t}),r=ar.toJSON(n);return this.logger.debug("Sending experimental metrics to native host",r),r}logToNativeHostMessage(e,t){const n=ar.create({type:this.toExtensionMessageLevel(t),payload:(new TextEncoder).encode(e)});return ar.toJSON(n)}extensionInfoToNativeHostMessage(e){var t;const{targetBrowser:n,version:r}=e,o=dr.encode({targetBrowser:null!==(t=Qd[n])&&void 0!==t?t:Qd.default,extensionVersion:r}).finish(),i=ar.create({type:$n.TYPE_EXTENSION_INFO,payload:o}),s=ar.toJSON(i);return this.logger.info("Sending extensionInfo to collector",{targetBrowser:n,version:r,nativeHostJson:s}),s}configRequestToNativeHostMessage(e){const t=S.Extension.Config.ConfigRequest.encode({extensionVersion:e.extensionVersion,browserFamily:e.browserFamily,browserVersion:e.browserVersion,bsmVersion:e.bsmVersion,configRevision:e.configRevision,extensionInstanceId:e.extensionInstanceId,sessionId:e.sessionId}).finish(),n=ar.create({type:$n.TYPE_CONFIG,payload:t}),r=ar.toJSON(n);return this.logger.info("Sending config request",r),r}beaconToNativeHostMessage(e,t,n){return this.beaconToNativeHostJson(this.transformBeacon(e,t,n))}installedExtensionsToNativeHostMessage(e){return this.beaconToNativeHostJson(this.transformInstalledExtension(e))}networkInterfaceIdentifierToNativeHostMessage(e){const t=lr.encode(e).finish(),n=ar.create({type:$n.TYPE_NETWORK_INTERFACE_IDENTIFIER,payload:t});return ar.toJSON(n)}operationalDataToNativeHostMessage(e,t,n){return this.beaconToNativeHostJson(this.transformOperationalData(e,t,n))}transformBeacon(e,t,n){const{startTimestamp:r,endTimestamp:o,activities:i}=e;return e.setExperimental(T.BEACON_SEQUENCE_NO,[t.toString()]),n&&e.setExperimental(T.SESSION_ID,[n.toString()]),Vn.create({version:this.protoVersion,startTimestamp:r/1e3,endTimestamp:o&&o/1e3,activities:Jd(i),experimental:JSON.stringify(e.experimental,Xd)})}transformInstalledExtension(e){return Vn.create({version:this.protoVersion,startTimestamp:e.timestamp/1e3,endTimestamp:e.timestamp/1e3,installedExtensions:Hd(e)})}transformHello(e,t){return Vn.create({version:this.protoVersion,startTimestamp:e.timestamp/1e3,endTimestamp:e.timestamp/1e3,experimental:JSON.stringify(P(e,t),Xd)})}toExtensionMessageLevel(e){switch(e.name){case"error":return $n.TYPE_LOG_ERROR;case"warn":return $n.TYPE_LOG_WARNING;case"info":return $n.TYPE_LOG_INFO;default:return $n.TYPE_LOG_DEBUG}}transformOperationalData(e,t,n){var r;return Vn.create({version:this.protoVersion,startTimestamp:e.startTimestamp/1e3,endTimestamp:(null!==(r=e.endTimestamp)&&void 0!==r?r:performance.now())/1e3,experimental:JSON.stringify(C(e,t,n),Xd)})}beaconToNativeHostJson(e){var t;const n=Vn.toJSON(e),r=Vn.encode(e).finish(),o=ar.create({type:$n.TYPE_BEACON,payload:r}),i=ar.toJSON(o);return this.logger.info("Beacon",n),this.devMode&&(null===(t=this.nativeHostMessageDispatcher)||void 0===t||t.dispatch({currentFormat:"nxtbsm-compatible",currentData:i,protoJson:n,raw:r})),i}keepAliveToNativeHostJson(e){var t;const n=je.toJSON(e),r=je.encode(e).finish(),o=cr.create({type:"KA",serviceVersion:2}),i=ar.create({type:$n.TYPE_UNSPECIFIED,payload:r,header:o}),s=ar.toJSON(i);return this.devMode&&(null===(t=this.nativeHostMessageDispatcher)||void 0===t||t.dispatch({currentFormat:"nxtbsm-compatible",currentData:s,protoJson:n,raw:r})),s}}class ep{constructor(e,t,n,r,o,i,c=(0,a.j)("CollectorImpl")){this.devMode=e,this.protoFactory=t,this.configSource=n,this.nativeHostConnection=r,this.sessionManager=o,this.eventManager=i,this.logger=c,this.beaconSequenceNumber=-1,this.onMessageReceivedEvent=new s.FK}connect(){this.nativeHostConnection.onMessageReceived().sub((e=>{try{const t=Zd.loadNativeHostMessage(e);t?this.collectorMessageDispatcher(t):this.logger.error("Unexpected native host message type:",[e,t])}catch(t){this.logger.error("Invalid native host message",{error:t,msg:e})}})),this.nativeHostConnection.onConnectionStatusChanged().sub((e=>{e?this.handleConnected():this.handleDisconnected()})),this.nativeHostConnection.connect()}postConfigRequest(e){this.postProtoMessage(this.protoFactory.configRequestToNativeHostMessage(e))}postExtensionInfo(e){this.postProtoMessage(this.protoFactory.extensionInfoToNativeHostMessage(e))}postBeacon(e){var t,n;(null===(t=this.sessionManager.getLatestSession())||void 0===t?void 0:t.sessionId)||this.logger.warn("Creating beacon message with no session id.");const r=this.protoFactory.beaconToNativeHostMessage(e,this.getNextSeqNumber(),null===(n=this.sessionManager.getLatestSession())||void 0===n?void 0:n.sessionId);this.isSizeTooLong(r)?this.logger.error("Beacon message dropped because exceeding the maximum size"):this.postProtoMessage(r)}postInstalledExtensions(e){this.postProtoMessage(this.protoFactory.installedExtensionsToNativeHostMessage(e))}postLog(e,t){this.postProtoMessage(this.protoFactory.logToNativeHostMessage(e,t))}postHello(e){this.postProtoMessage(this.protoFactory.helloToNativeHostMessage(e,this.getNextSeqNumber()))}postKeepAlive(e){this.postProtoMessage(this.protoFactory.keepAliveToNativeHostMessage(e))}postExperimentalMetrics(e){this.postProtoMessage(this.protoFactory.experimentalMetricsToNativeHostMessage(e))}postOperational(e){var t;this.postProtoMessage(this.protoFactory.operationalDataToNativeHostMessage(e,this.getNextSeqNumber(),null===(t=this.sessionManager.getLatestSession())||void 0===t?void 0:t.sessionId))}postNetworkInterfaceIdentifierRequest(e){this.logger.debug("Sending Network Interface Identifier Request to BSM",e,c.X.now()),this.postProtoMessage(this.protoFactory.networkInterfaceIdentifierToNativeHostMessage(e))}onMessage(){return this.onMessageReceivedEvent.asEvent()}getNextSeqNumber(){return this.beaconSequenceNumber=this.beaconSequenceNumber===Number.MAX_SAFE_INTEGER?0:this.beaconSequenceNumber+1,this.beaconSequenceNumber}postProtoMessage(e){e?this.nativeHostConnection.sendToHostApp(e):this.logger.error("Cannot sent empty beacon")}handleConnected(){this.logger.info("Connected to native host app"),this.eventManager.broadcast({type:gr.BsmMessage.Inbound.CONNECTION_STATUS,timestamp:c.X.now(),details:{messageId:"",connected:!0,component:I}})}handleDisconnected(){this.logger.warn("Disconnected from native host app"),this.eventManager.broadcast({type:gr.BsmMessage.Inbound.CONNECTION_STATUS,timestamp:c.X.now(),details:{messageId:"",connected:!1,component:I}})}collectorMessageDispatcher(e){if(e.type===Ju.v.Hello)return this.onMessageReceivedEvent.dispatch(e),void this.sendExtensionInfo();this.logger.debug("Received message from Collector",e,c.X.now()),this.onMessageReceivedEvent.dispatch(e)}sendExtensionInfo(){this.postExtensionInfo(ne.resolve(Si).info)}isSizeTooLong(e){return!!e&&(new TextEncoder).encode(JSON.stringify(e)).length>1396736}}var tp=__webpack_require__(9867);class np{constructor(e){this.collector=e,this.configDataReceivedEvent=new s.FK,this.subscriptions=[],this.collector.onMessage().sub((e=>this.collectorMessageHandler(e)))}async*consume(e){}onConfigChange(){return this.configDataReceivedEvent.asEvent()}start(){}stop(){}collectorMessageHandler({type:e,data:t}){e===Ju.v.Config&&this.configDataReceivedEvent.dispatch({config:t})}}const rp="http://127.0.0.1:8181/",op=3e5;class ip{constructor(e,t=(0,a.j)("HttpConfigFetcher")){this.logger=t,this.pollIntervalMs=op,this.configDataReceivedEvent=new s.FK,this.subscriptions=[],this.start()}async*consume(e){}onConfigChange(){return this.configDataReceivedEvent.asEvent()}start(){var e;(null===(e=this.fetchHandler)||void 0===e?void 0:e.isStarted())?this.logger.warn("Another fetch is already in progress. Skipped."):this.fetchConfig().then()}stop(){var e;null===(e=this.fetchHandler)||void 0===e||e.stop()}async fetchFile(e){const t=await fetch(rp+e,{cache:"no-cache"}),n=await t.text();return JSON.parse(n)}async fetchConfig(){this.logger.info(`Pulling config settings from: ${rp}`);try{const{configPollIntervalSec:e,...t}=await this.fetchFile("_index.json");if(e&&(this.pollIntervalMs=Math.max(1e3,Math.min(1e3*e,op))),t.includes)for(const e of t.includes){const n=await this.fetchFile(`${encodeURIComponent(e)}.json`);t.appsConfig.apps.push(...n.appsConfig.apps),t.urlSanitizer.rules.push(...n.urlSanitizer.rules)}this.latestConfigData={config:JSON.stringify(t)}}catch(e){this.logger.error("Error pulling configuration",e)}finally{this.fetchHandler=new po.j("http-config-fetcher",(()=>this.fetchConfig()),{delayInMs:this.pollIntervalMs}),this.fetchHandler.start()}}}var sp=function(e,t){return function(n,r){t(n,r,e)}};let ap=class{constructor(e,t,n,r,o){this.collector=e,this.extension=t,this.sessionManager=n,this.configManager=r,this.logger=o}sendKeepAlive(){var e,t,n,r,o;if(!this.sessionManager.getLatestSession())return void this.logger.warn("No collector version. Skip sending keep alive");let i={};const s=null===(e=this.configManager.getLatestConfigV2())||void 0===e?void 0:e.applications;s&&s.size>0&&(i=Array.from(s.entries()).map((e=>{var t;return{[e[0]]:ue.create({value:null===(t=e[1].revision)||void 0===t?void 0:t.value})}})).reduce(((e,t)=>({...e,...t}))));const a=je.create({extensionVersion:this.extension.info.version,collectorVersion:null===(t=this.sessionManager.getLatestSession())||void 0===t?void 0:t.collectorVersion,extensionInstanceId:this.extension.info.extensionInstanceId,browserFamily:this.extension.info.browserFamily,browserVersion:this.extension.info.browserVersion,extensionConfigRevision:null!==(r=null===(n=this.configManager.getLatestConfigV2())||void 0===n?void 0:n.settings.revision)&&void 0!==r?r:void 0,applicationRevisions:i,configRevision:null===(o=this.configManager.getLatestConfig())||void 0===o?void 0:o.revision});this.logger.info("Send a keep alive message to tell collector that we are still alive.",a),this.collector.postKeepAlive(a)}};ap=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"NxtKeepAliveSenderLogger",useFactory:()=>(0,a.j)("NxtKeepAliveSender")}]),sp(0,oe("Collector")),sp(1,oe(Si)),sp(2,oe(Oa)),sp(3,oe(ko)),sp(4,oe("NxtKeepAliveSenderLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Si,Oa,ko,Object])],ap);var cp=function(e,t){return function(n,r){t(n,r,e)}};let lp=class{constructor(e,t,n,r){this.keepAliveSender=e,this.configManager=t,this.connectionStatus=n,this.logger=r,this.defaultKeepAliveFrequencyMs=6e5,this.currentKeepAliveFrequencyMs=this.defaultKeepAliveFrequencyMs,this.onConfigUpdate=()=>{const e=this.configManager.getLatestConfig();if(!e)return;if(this.keepAliveSender.sendKeepAlive(),!this.didKeepAliveFrequencyChanged())return;const t=1e3*e.keepAliveFrequencySeconds;this.logger.debug(`Keep-alive frequency changed from ${this.currentKeepAliveFrequencyMs} ms to ${t} ms`),this.currentKeepAliveFrequencyMs=t,this.scheduleKeepAlive()},this.configManager.onUpdate.addListener(this.onConfigUpdate),this.scheduleKeepAlive(),this.connectionStatus.onConnectionStatusUpdate().sub((e=>{e&&this.keepAliveSender.sendKeepAlive()}))}scheduleKeepAlive(){var e;this.logger.debug(`Scheduling keep-alive with frequency ${this.currentKeepAliveFrequencyMs} ms`),null===(e=this.handlerAlarm)||void 0===e||e.stop(),this.handlerAlarm=new po.j("keep-alive",(()=>{this.keepAliveSender.sendKeepAlive()}),{intervalInMs:this.currentKeepAliveFrequencyMs}),this.handlerAlarm.start()}didKeepAliveFrequencyChanged(){var e;const t=null===(e=this.configManager.getLatestConfig())||void 0===e?void 0:e.keepAliveFrequencySeconds;return!!t&&this.currentKeepAliveFrequencyMs!==1e3*t}};lp=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"KeepAliveHandlerLogger",useFactory:()=>(0,a.j)("KeepAliveHandler")}]),cp(0,oe(ap)),cp(1,oe(ko)),cp(2,oe(ua)),cp(3,oe("KeepAliveHandlerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,ko,ua,Object])],lp);var up,dp;!function(e){e[e.Dev=0]="Dev",e[e.Prod=1]="Prod"}(up||(up={})),function(e){e.HTTP="HTTP",e.NATIVE_HOST="NATIVE_HOST",e.NONE="NONE"}(dp||(dp={}));const pp={[fi.chrome]:{production:"com.nexthink.chrome.extension",development:"dev.nexthink.chrome.extension"},[fi.safari]:{production:"com.nexthink.chrome.extension",development:"dev.nexthink.chrome.extension"},[fi.edge]:{production:"com.nexthink.edge.extension",development:"dev.nexthink.edge.extension"},[fi.firefox]:{production:"com.nexthink.firefox.extension",development:"dev.nexthink.firefox.extension"}},fp="Sanity check error: discarding value for {}",gp="Sanity check warning: capping value for {}";class hp{constructor(e=(0,a.j)("BeaconSanityChecker")){this.logger=e}sanitize(e){const{startTimestamp:t,endTimestamp:n}=e;e.activities.forEach((e=>{e.events.forEach((e=>{this.sanitizeEvents(e,t,n),this.sanitizeUsage(e,t,n)}))})),this.checkTotalUsage(Array.from(e.activities.values()),t,n)}filterHardNavigationEvent(e){var t,n;const r=void 0!==(null===(t=e.timing)||void 0===t?void 0:t.durationSeconds)&&e.timing.durationSeconds<=600;return r||this.logger.error(this.formatTemplateMessage(fp,"hard navigation"),{value:null===(n=e.timing)||void 0===n?void 0:n.durationSeconds,threshold:600,event:e}),r}filterSoftNavigationEvent(e){var t,n;const r=void 0!==(null===(t=e.readinessTiming)||void 0===t?void 0:t.stableDomSeconds)&&null!==(null===(n=e.readinessTiming)||void 0===n?void 0:n.stableDomSeconds)&&e.readinessTiming.stableDomSeconds<=300;return r||this.logger.error(this.formatTemplateMessage(fp,"soft navigation"),{value:e.readinessTiming.stableDomSeconds,threshold:300,event:e}),r}filterTransactionEvent(e){var t,n;const r=void 0!==(null===(t=e.transactionDetails)||void 0===t?void 0:t.durationSeconds)&&e.transactionDetails.durationSeconds<=1200;return r||this.logger.error(this.formatTemplateMessage(fp,"transaction"),{value:null===(n=e.transactionDetails)||void 0===n?void 0:n.durationSeconds,threshold:1200,event:e}),r}sanitizeEvents(e,t,n){e.tabEvents.forEach((e=>{e.events.forEach(((r,o)=>{let i=this.sanitizePageLoad(r);i=this.sanitizeReadinessTiming(i),i=this.sanitizeTransactions(i),i=this.sanitizeTimeInterval(i,t,n),e.events.set(o,i)}))}))}sanitizePageLoad(e){return e.filter((e=>"navigation"!==e.entryType||this.filterHardNavigationEvent(e)))}sanitizeReadinessTiming(e){return e.filter((e=>"soft-navigation"!==e.entryType||this.filterSoftNavigationEvent(e)))}sanitizeTransactions(e){return e.filter((e=>void 0===e.transactionDetails||this.filterTransactionEvent(e)))}sanitizeTimeInterval(e,t,n){return e.map((e=>{const r=t-9e5,o=n+3e5;return(e.extensionTime<Math.max(0,r)||e.extensionTime>o)&&(this.logger.error("Event timestamp is not in beacon startTimestamp and endTimestamp boundaries.",e,e.extensionTime,t,n),e.extensionTime=t),e}))}sanitizeUsage(e,t,n){var r,o,i,s,a,c,l;if(!(null===(r=e.usage)||void 0===r?void 0:r.Focused))return;const u=(n-t)/1e3;if((null===(o=e.usage)||void 0===o?void 0:o.Focused)>1.05*u&&this.logger.error(this.formatTemplateMessage(gp,"usage"),{usage:null===(i=e.usage)||void 0===i?void 0:i.Focused,threshold:u,startTimestamp:t,endTimestamp:n}),(null===(s=e.usage)||void 0===s?void 0:s.Focused)<0)return this.logger.error(this.formatTemplateMessage(fp,"usage"),{value:null===(a=e.usage)||void 0===a?void 0:a.Focused,threshold:0}),void delete e.usage.Focused;(null===(c=e.usage)||void 0===c?void 0:c.Focused)>u&&(this.logger.warn("Adjusting usage to maxUsagePerActivityInSec",{usage:null===(l=e.usage)||void 0===l?void 0:l.Focused,threshold:u}),e.usage.Focused=u)}checkTotalUsage(e,t,n){const r=e.flatMap((e=>Array.from(e.events.values()))).filter(Boolean).reduce(((e,t)=>{var n,r;return e+(null!==(r=null===(n=t.usage)||void 0===n?void 0:n.Focused)&&void 0!==r?r:0)}),0),o=(n-t)/1e3;if(r>o+1.05&&this.logger.error(this.formatTemplateMessage(gp,"total usage"),{totalUsage:r,threshold:o,startTimestamp:t,endTimestamp:n,activities:e}),r>o){this.logger.warn("Adjusting total usage to maxUsagePerBeaconInSec",{totalUsage:r,threshold:o});const t=100,n=(r-o)/r,i=1-Math.trunc(t*n)/t;e.forEach((e=>{e.events.forEach((e=>{const t=e.usage;t&&t.Focused&&(t.Focused*=i)}))}))}}formatTemplateMessage(e,t){return e.replace("{}",t)}}var vp=function(e,t){return function(n,r){t(n,r,e)}};const mp="1.0.0";class bp extends Ir{constructor(e=mp){super(),this.timeToLiveInMilliseconds=wr,this.extensionVersion=e}serialize(){return JSON.stringify(Mr(this))}deserialize(e){return jr(bp,JSON.parse(e))}}let yp=class{constructor(e,t){this.extension=e,this.logger=t,this.data=new kr(vr.UpdateChecker.Data,new bp,xr.Persistent)}wasFreshInstall(){return this.data.get().extensionVersion===mp}wasUpdateExecuted(){return this.data.get().extensionVersion!==mp&&(this.logger.info(`Extension stored version ${this.data.get().extensionVersion} and current version ${this.extension.info.version}`),this.versionCompare(this.data.get().extensionVersion,this.extension.info.version)<0)}async storeCurrentVersion(){this.data.get().extensionVersion=this.extension.info.version,await this.data.set(this.data.get())}removeVersionExtraInfo(e){const t=e.indexOf("-");return-1===t?e:e.substring(0,t)}versionCompare(e,t){return this.removeVersionExtraInfo(e).localeCompare(this.removeVersionExtraInfo(t),void 0,{numeric:!0,sensitivity:"base"})}};yp=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([ae(),se([{token:"UpdateCheckerLogger",useFactory:()=>(0,a.j)("UpdateChecker")}]),vp(0,oe(Si)),vp(1,oe("UpdateCheckerLogger")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Si,Object])],yp),async function(){var e;ne.register("Browser",{useValue:(0,ce.q)()});const t=ne.resolve(Or);await t.init(),await ne.resolve(Si).init();const n=ne.resolve(Si).info,r=n.id,o=n.version,i=n.devMode;i&&(0,a.U)();const s=(0,a.j)("Background");n.isBeta&&await ne.resolve(Wu).enable(o,i),s.info("Nexthink Extension starting",i?"in DEV mode":"");const c=ne.resolve(yp);c.wasFreshInstall()&&(s.info("Fresh install"),n.browserFamily===ce.Y.Firefox&&await ne.resolve(qs).forceEula()),c.wasUpdateExecuted()&&(s.info("Extension updated",o),await t.clear(xr.Session)),await c.storeCurrentVersion();const l=function(e,t){const n=e?up.Dev:up.Prod,r=dp.NATIVE_HOST,o=((e=!1,t=fi.chrome)=>e?pp[t].development:pp[t].production)(e,vi());let i;i=new tp.i(o,!0,1e4);const s=new ep(n===up.Dev,t,r,i,ne.resolve(Oa),ne.resolve(mo));return ne.register("Collector",{useValue:s}),ne.register("ConfigFetcher",{useValue:r===dp.NATIVE_HOST?new np(s):new ip(s)}),ne.resolve(lp),s.connect(),s}(i,new Zd(i)),u=new hp,d=new Kr(o,l,u,1e3*$r.beaconFrequencySeconds,i);d.sendBeaconAtStartup();const p=new Dd(r,o,d,l,i);ne.register("NexthinkExtension",{useValue:p}),null===(e=null==p?void 0:p.start)||void 0===e||e.call(p),await(async e=>{try{await Ks(e)}catch(e){Ws.error(e)}(0,ce.q)().tabs.onUpdated.addListener(((t,n,r)=>{Hs(e,t,r.url).then().catch((e=>Ws.warn("handleTabChange",e.message)))})),(0,ce.q)().tabs.onActivated.addListener((t=>{const{windowId:n,tabId:r}=t;$s(e,n,r).then().catch((e=>Ws.warn("handleTabActivated",e.message)))})),e.onConnectionChange().sub((t=>{$s(e).then().catch((e=>Ws.warn("handleConnectionUpdate",{connected:t,err:e.message})))})),e.onTabConfigUpdated().sub((({tabId:t})=>{void 0!==t?(async(e,t)=>{const n=await(async e=>{const t=await ne.resolve(zo).get(e);return null==t?void 0:t.url})(t);n&&await Hs(e,t,n)})(e,t).then().catch((e=>Ws.warn("onTabConfigUpdated for single tab",e.message))):Ks(e).then().catch((e=>Ws.warn("onTabConfigUpdated for all tabs",e.message)))}))})(p)}().then()})()})();
//# sourceMappingURL=background.js.map